require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){"use strict";a("./src/crunch")()},{"./src/crunch":116}],2:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e,f=typeof a;if("number"===f)e=+a;else if("string"===f)e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new TypeError("must start with number, buffer, array or string");"Buffer"===a.type&&K(a.data)&&(a=a.data),e=+a.length}if(e>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");0>e?e=0:e>>>=0;var g=this;d.TYPED_ARRAY_SUPPORT?g=d._augment(new Uint8Array(e)):(g.length=e,g._isBuffer=!0);var h;if(d.TYPED_ARRAY_SUPPORT&&"number"==typeof a.byteLength)g._set(a);else if(A(a))if(d.isBuffer(a))for(h=0;e>h;h++)g[h]=a.readUInt8(h);else for(h=0;e>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===f)g.write(a,0,b);else if("number"===f&&!d.TYPED_ARRAY_SUPPORT&&!c)for(h=0;e>h;h++)g[h]=0;return e>0&&e<=d.poolSize&&(g.parent=M),g}function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);var f=new d(a,b,c);return delete f.parent,f}function f(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function g(a,b,c,d){var e=G(C(b,a.length-c),a,c,d);return e}function h(a,b,c,d){var e=G(D(b),a,c,d);return e}function i(a,b,c,d){return h(a,b,c,d)}function j(a,b,c,d){var e=G(F(b),a,c,d);return e}function k(a,b,c,d){var e=G(E(b,a.length-c),a,c,d);return e}function l(a,b,c){return I.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function m(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=H(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+H(e)}function n(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function o(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function p(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=B(a[f]);return e}function q(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function r(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function s(a,b,c,e,f,g){if(!d.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new RangeError("value is out of bounds");if(c+e>a.length)throw new RangeError("index out of range")}function t(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function u(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function v(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function w(a,b,c,d,e){return e||v(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(a,b,c,d,23,4),c+4}function x(a,b,c,d,e){return e||v(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(a,b,c,d,52,8),c+8}function y(a){if(a=z(a).replace(O,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return K(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function B(a){return 16>a?"0"+a.toString(16):a.toString(16)}function C(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536,e=null}else e&&((b-=3)>-1&&f.push(239,191,189),e=null);if(128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(2097152>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function D(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function E(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function F(a){return I.toByteArray(y(a))}function G(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function H(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}var I=a("base64-js"),J=a("ieee754"),K=a("is-array");c.Buffer=d,c.SlowBuffer=e,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var L=1073741823,M={};d.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}(),d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(a,b){if(!K(a))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"ascii":case"binary":case"raw":c=a.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;case"hex":c=a.length>>>1;break;case"utf8":case"utf-8":c=C(a).length;break;case"base64":c=F(a).length;break;default:c=a.length}return c},d.prototype.length=void 0,d.prototype.parent=void 0,d.prototype.toString=function(a,b,c){var d=!1;if(b>>>=0,c=void 0===c||c===1/0?this.length:c>>>0,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return p(this,b,c);case"utf8":case"utf-8":return m(this,b,c);case"ascii":return n(this,b,c);case"binary":return o(this,b,c);case"base64":return l(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}},d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===d.compare(this,a)},d.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},d.prototype.compare=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:d.compare(this,a)},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}if(b=Number(b)||0,0>c||0>b||b>this.length)throw new RangeError("attempt to write outside buffer bounds");var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=f(this,a,b,c);break;case"utf8":case"utf-8":m=g(this,a,b,c);break;case"ascii":m=h(this,a,b,c);break;case"binary":m=i(this,a,b,c);break;case"base64":m=j(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=k(this,a,b,c);break;default:throw new TypeError("Unknown encoding: "+d)}return m},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var e;if(d.TYPED_ARRAY_SUPPORT)e=d._augment(this.subarray(a,b));else{var f=b-a;e=new d(f,void 0,!0);for(var g=0;f>g;g++)e[g]=this[g+a]}return e.length&&(e.parent=this.parent||this),e},d.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},d.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},d.prototype.readUInt8=function(a,b){return b||r(a,1,this.length),this[a]},d.prototype.readUInt16LE=function(a,b){return b||r(a,2,this.length),this[a]|this[a+1]<<8},d.prototype.readUInt16BE=function(a,b){return b||r(a,2,this.length),this[a]<<8|this[a+1]},d.prototype.readUInt32LE=function(a,b){return b||r(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},d.prototype.readUInt32BE=function(a,b){return b||r(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},d.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},d.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},d.prototype.readInt8=function(a,b){return b||r(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},d.prototype.readInt16LE=function(a,b){b||r(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt16BE=function(a,b){b||r(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt32LE=function(a,b){return b||r(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},d.prototype.readInt32BE=function(a,b){return b||r(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},d.prototype.readFloatLE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!0,23,4)},d.prototype.readFloatBE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!1,23,4)},d.prototype.readDoubleLE=function(a,b){return b||r(a,8,this.length),J.read(this,a,!0,52,8)},d.prototype.readDoubleBE=function(a,b){return b||r(a,8,this.length),J.read(this,a,!1,52,8)},d.prototype.writeUIntLE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e>>>0&255;return b+c},d.prototype.writeUIntBE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f>>>0&255;return b+c},d.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,255,0),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=a,b+1},d.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a):u(this,a,b,!0),b+4},d.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeIntLE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=0,f=1,g=0>a?1:0;for(this[b]=255&a;++e<c&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeIntBE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=c-1,f=1,g=0>a?1:0;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,127,-128),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=a,b+1},d.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):u(this,a,b,!0),b+4},d.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeFloatLE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b>=a.length&&(b=a.length),b||(b=0),e>0&&c>e&&(e=c),e===c)return 0;if(0===a.length||0===f.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=f.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(1e3>g||!d.TYPED_ARRAY_SUPPORT)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b);return g},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=C(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=d.prototype;d._augment=function(a){return a.constructor=d,a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=N.get,a.set=N.set,a.write=N.write,a.toString=N.toString,a.toLocaleString=N.toString,a.toJSON=N.toJSON,a.equals=N.equals,a.compare=N.compare,a.copy=N.copy,a.slice=N.slice,a.readUIntLE=N.readUIntLE,a.readUIntBE=N.readUIntBE,a.readUInt8=N.readUInt8,a.readUInt16LE=N.readUInt16LE,a.readUInt16BE=N.readUInt16BE,a.readUInt32LE=N.readUInt32LE,a.readUInt32BE=N.readUInt32BE,a.readIntLE=N.readIntLE,a.readIntBE=N.readIntBE,a.readInt8=N.readInt8,a.readInt16LE=N.readInt16LE,a.readInt16BE=N.readInt16BE,a.readInt32LE=N.readInt32LE,a.readInt32BE=N.readInt32BE,a.readFloatLE=N.readFloatLE,a.readFloatBE=N.readFloatBE,a.readDoubleLE=N.readDoubleLE,a.readDoubleBE=N.readDoubleBE,a.writeUInt8=N.writeUInt8,a.writeUIntLE=N.writeUIntLE,a.writeUIntBE=N.writeUIntBE,a.writeUInt16LE=N.writeUInt16LE,a.writeUInt16BE=N.writeUInt16BE,a.writeUInt32LE=N.writeUInt32LE,a.writeUInt32BE=N.writeUInt32BE,a.writeIntLE=N.writeIntLE,a.writeIntBE=N.writeIntBE,a.writeInt8=N.writeInt8,a.writeInt16LE=N.writeInt16LE,a.writeInt16BE=N.writeInt16BE,a.writeInt32LE=N.writeInt32LE,a.writeInt32BE=N.writeInt32BE,a.writeFloatLE=N.writeFloatLE,a.writeFloatBE=N.writeFloatBE,a.writeDoubleLE=N.writeDoubleLE,a.writeDoubleBE=N.writeDoubleBE,a.fill=N.fill,a.inspect=N.inspect,a.toArrayBuffer=N.toArrayBuffer,a};var O=/[^+\/0-9A-z\-]/g},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],4:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],5:[function(a,b){var c=Array.isArray,d=Object.prototype.toString;b.exports=c||function(a){return!!a&&"[object Array]"==d.call(a)}},{}],6:[function(a,b,c){(function(a){!function(d){function e(a){throw RangeError(H[a])}function f(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function g(a,b){return f(a.split(G),b).join(".")}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)p=a[i],128>p&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)p=a[i],p>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==typeof c&&c,r="object"==typeof b&&b&&b.exports==q&&b,s="object"==typeof a&&a;(s.global===s||s.window===s)&&(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^ -~]/,G=/\x2E|\u3002|\uFF0E|\uFF61/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.2.4",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return t});else if(q&&!q.nodeType)if(r)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,e,f){b=b||"&",e=e||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(e);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),c(g,n)?d(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],8:[function(a,b){"use strict";function c(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var d=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?c(f(a),function(f){var h=encodeURIComponent(d(f))+g;return e(a[f])?c(a[f],function(a){return h+encodeURIComponent(d(a))}).join(b):h+encodeURIComponent(d(a[f]))}).join(b):h?encodeURIComponent(d(h))+g+encodeURIComponent(d(a)):""};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],9:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":7,"./encode":8}],10:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname=this.hostname.length>u?"":this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:6,querystring:9}],11:[function(a,b){"use strict";function c(a){for(var b in a)f.indexOf(b)<0&&g.indexOf(b)<0&&console.warn("cwise: Unknown argument '"+b+"' passed to expression compiler");for(var c=0;c<f.length;++c)if(!a[f[c]])throw new Error("cwise: Missing argument: "+f[c]);return e({args:a.args,pre:d(a.pre||function(){}),body:d(a.body),post:d(a.post||function(){}),debug:!!a.printCode,funcName:a.funcName||a.body.name||"cwise",blockSize:a.blockSize||64})}var d=a("cwise-parser"),e=a("cwise-compiler"),f=["args","body"],g=["pre","post","printCode","funcName","blockSize"];b.exports=c},{"cwise-compiler":13,"cwise-parser":17}],12:[function(a,b){b.exports=a("cwise-compiler")},{"cwise-compiler":13}],13:[function(a,b){"use strict";function c(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function d(a){var b=new c;b.pre=a.pre,b.body=a.body,b.post=a.post;var d=a.args.slice(0);b.argTypes=d;for(var f=0;f<d.length;++f){var g=d[f];if("array"===g){if(b.arrayArgs.push(f),b.shimArgs.push("array"+f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array args");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===g)b.scalarArgs.push(f),
b.shimArgs.push("scalar"+f);else if("index"===g){if(b.indexArgs.push(f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array index");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array index");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===g){if(b.shapeArgs.push(f),f<b.pre.args.length&&b.pre.args[f].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array shape");if(f<b.post.args.length&&b.post.args[f].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof g||!g.offset)throw new Error("cwise: Unknown argument type "+d[f]);b.argTypes[f]="offset",b.offsetArgs.push({array:g.array,offset:g.offset}),b.offsetArgIndex.push(f)}}if(b.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(b.pre.args.length>d.length)throw new Error("cwise: Too many arguments in pre() block");if(b.body.args.length>d.length)throw new Error("cwise: Too many arguments in body() block");if(b.post.args.length>d.length)throw new Error("cwise: Too many arguments in post() block");return b.debug=!!a.printCode||!!a.debug,b.funcName=a.funcName||"cwise",b.blockSize=a.blockSize||64,e(b)}var e=a("./lib/thunk.js");b.exports=d},{"./lib/thunk.js":15}],14:[function(a,b){"use strict";function c(a,b,c){var d,e,f=a.length,g=b.arrayArgs.length,h=b.indexArgs.length>0,i=[],j=[],k=0,l=0;for(d=0;f>d;++d)j.push(["i",d,"=0"].join(""));for(e=0;g>e;++e)for(d=0;f>d;++d)l=k,k=a[d],j.push(0===d?["d",e,"s",d,"=t",e,"p",k].join(""):["d",e,"s",d,"=(t",e,"p",k,"-s",l,"*t",e,"p",l,")"].join(""));for(i.push("var "+j.join(",")),d=f-1;d>=0;--d)k=a[d],i.push(["for(i",d,"=0;i",d,"<s",k,";++i",d,"){"].join(""));for(i.push(c),d=0;f>d;++d){for(l=k,k=a[d],e=0;g>e;++e)i.push(["p",e,"+=d",e,"s",d].join(""));h&&(d>0&&i.push(["index[",l,"]-=s",l].join("")),i.push(["++index[",k,"]"].join(""))),i.push("}")}return i.join("\n")}function d(a,b,d,e){for(var f=b.length,g=d.arrayArgs.length,h=d.blockSize,i=d.indexArgs.length>0,j=[],k=0;g>k;++k)j.push(["var offset",k,"=p",k].join(""));for(var k=a;f>k;++k)j.push(["for(var j"+k+"=SS[",b[k],"]|0;j",k,">0;){"].join("")),j.push(["if(j",k,"<",h,"){"].join("")),j.push(["s",b[k],"=j",k].join("")),j.push(["j",k,"=0"].join("")),j.push(["}else{s",b[k],"=",h].join("")),j.push(["j",k,"-=",h,"}"].join("")),i&&j.push(["index[",b[k],"]=j",k].join(""));for(var k=0;g>k;++k){for(var l=["offset"+k],m=a;f>m;++m)l.push(["j",m,"*t",k,"p",b[m]].join(""));j.push(["p",k,"=(",l.join("+"),")"].join(""))}j.push(c(b,d,e));for(var k=a;f>k;++k)j.push("}");return j.join("\n")}function e(a){for(var b=0,c=a[0].length;c>b;){for(var d=1;d<a.length;++d)if(a[d][b]!==a[0][b])return b;++b}return b}function f(a,b,c){for(var d=a.body,e=[],f=[],g=0;g<a.args.length;++g){var h=a.args[g];if(!(h.count<=0)){var i=new RegExp(h.name,"g"),j="",k=b.arrayArgs.indexOf(g);switch(b.argTypes[g]){case"offset":var l=b.offsetArgIndex.indexOf(g),m=b.offsetArgs[l];k=m.array,j="+q"+l;case"array":j="p"+k+j;var n="l"+g,o="a"+k;1===h.count?"generic"===c[k]?h.lvalue?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),f.push([o,".set(",j,",",n,")"].join(""))):d=d.replace(i,[o,".get(",j,")"].join("")):d=d.replace(i,[o,"[",j,"]"].join("")):"generic"===c[k]?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,".set(",j,",",n,")"].join(""))):(e.push(["var ",n,"=",o,"[",j,"]"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,"[",j,"]=",n].join("")));break;case"scalar":d=d.replace(i,"Y"+b.scalarArgs.indexOf(g));break;case"index":d=d.replace(i,"index");break;case"shape":d=d.replace(i,"shape")}}}return[e.join("\n"),d,f.join("\n")].join("\n").trim()}function g(a){for(var b=new Array(a.length),c=!0,d=0;d<a.length;++d){var e=a[d],f=e.match(/\d+/);f=f?f[0]:"",b[d]=0===e.charAt(0)?"u"+e.charAt(1)+f:e.charAt(0)+f,d>0&&(c=c&&b[d]===b[d-1])}return c?b[0]:b.join("")}function h(a,b){for(var h=0|b[1].length,j=new Array(a.arrayArgs.length),k=new Array(a.arrayArgs.length),l=["SS"],m=["'use strict'"],n=[],o=0;h>o;++o)n.push(["s",o,"=SS[",o,"]"].join(""));for(var p=0;p<a.arrayArgs.length;++p){l.push("a"+p),l.push("t"+p),l.push("p"+p),k[p]=b[2*p],j[p]=b[2*p+1];for(var o=0;h>o;++o)n.push(["t",p,"p",o,"=t",p,"[",o,"]"].join(""))}for(var p=0;p<a.scalarArgs.length;++p)l.push("Y"+p);if(a.shapeArgs.length>0&&n.push("shape=SS.slice(0)"),a.indexArgs.length>0){for(var q=new Array(h),p=0;h>p;++p)q[p]="0";n.push(["index=[",q.join(","),"]"].join(""))}for(var p=0;p<a.offsetArgs.length;++p){for(var r=a.offsetArgs[p],s=[],o=0;o<r.offset.length;++o)0!==r.offset[o]&&s.push(1===r.offset[o]?["t",r.array,"p",o].join(""):[r.offset[o],"*t",r.array,"p",o].join(""));n.push(0===s.length?"q"+p+"=0":["q",p,"=",s.join("+")].join(""))}var t=i([].concat(a.pre.thisVars).concat(a.body.thisVars).concat(a.post.thisVars));n=n.concat(t),m.push("var "+n.join(","));for(var p=0;p<a.arrayArgs.length;++p)m.push("p"+p+"|=0");a.pre.body.length>3&&m.push(f(a.pre,a,k));var u=f(a.body,a,k),v=e(j);m.push(h>v?d(v,j[0],a,u):c(j[0],a,u)),a.post.body.length>3&&m.push(f(a.post,a,k)),a.debug&&console.log("Generated cwise routine for ",b,":\n\n",m.join("\n"));var w=[a.funcName||"unnamed","_cwise_loop_",j[0].join("s"),"m",v,g(k)].join(""),x=new Function(["function ",w,"(",l.join(","),"){",m.join("\n"),"} return ",w].join(""));return x()}var i=a("uniq");b.exports=h},{uniq:16}],15:[function(a,b){"use strict";function c(a){var b=["'use strict'","var CACHED={}"],c=[],e=a.funcName+"_cwise_thunk";b.push(["return function ",e,"(",a.shimArgs.join(","),"){"].join(""));for(var f=[],g=[],h=[["array",a.arrayArgs[0],".shape"].join("")],i=0;i<a.arrayArgs.length;++i){var j=a.arrayArgs[i];c.push(["t",j,"=array",j,".dtype,","r",j,"=array",j,".order"].join("")),f.push("t"+j),f.push("r"+j),g.push("t"+j),g.push("r"+j+".join()"),h.push("array"+j+".data"),h.push("array"+j+".stride"),h.push("array"+j+".offset|0")}for(var i=0;i<a.scalarArgs.length;++i)h.push("scalar"+a.scalarArgs[i]);c.push(["type=[",g.join(","),"].join()"].join("")),c.push("proc=CACHED[type]"),b.push("var "+c.join(",")),b.push(["if(!proc){","CACHED[type]=proc=compile([",f.join(","),"])}","return proc(",h.join(","),")}"].join("")),a.debug&&console.log("Generated thunk:",b.join("\n"));var k=new Function("compile",b.join("\n"));return k(d.bind(void 0,a))}var d=a("./compile.js");b.exports=c},{"./compile.js":14}],16:[function(a,b){"use strict";function c(a,b){for(var c=1,d=a.length,e=a[0],f=a[0],g=1;d>g;++g)if(f=e,e=a[g],b(e,f)){if(g===c){c++;continue}a[c++]=e}return a.length=c,a}function d(a){for(var b=1,c=a.length,d=a[0],e=a[0],f=1;c>f;++f,e=d)if(e=d,d=a[f],d!==e){if(f===b){b++;continue}a[b++]=d}return a.length=b,a}function e(a,b,e){return 0===a.length?a:b?(e||a.sort(b),c(a,b)):(e||a.sort(),d(a))}b.exports=e},{}],17:[function(a,b){"use strict";function c(a,b,c){this.name=a,this.lvalue=b,this.rvalue=c,this.count=0}function d(a,b,c,d){this.body=a,this.args=b,this.thisVars=c,this.localVars=d}function e(a){if("eval"===a)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?a in window:"undefined"!=typeof GLOBAL?a in GLOBAL:"undefined"!=typeof self?a in self:!1}function f(a){for(var b=a.body[0].expression.callee.params,c=new Array(b.length),d=0;d<b.length;++d)c[d]=b[d].name;return c}function g(a){function b(a){var b=q+a.replace(/\_/g,"__");return w.push(b),b}function g(a){var b="this_"+a.replace(/\_/g,"__");return x.push(b),b}function k(a,b){for(var c=a.range[0],d=a.range[1],e=c+1;d>e;++e)u[e]="";u[c]=b}function l(a){return"'"+a.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function m(a){return u.slice(a.range[0],a.range[1]).join("")}function n(a){return"AssignmentExpression"===a.parent.type&&a.parent.left===a?"="===a.parent.operator?y:y|z:"UpdateExpression"===a.parent.type?y|z:z}for(var o=["(",a,")()"].join(""),p=h.parse(o,{range:!0}),q="_inline_"+j++ +"_",r=f(p),s=new Array(r.length),t=0;t<r.length;++t)s[t]=new c([q,"arg",t,"_"].join(""),!1,!1);for(var u=new Array(o.length),t=0,v=o.length;v>t;++t)u[t]=o.charAt(t);var w=[],x=[],y=1,z=2;!function B(a,c){if(a.parent=c,"MemberExpression"===a.type)a.computed?(B(a.object,a),B(a.property,a)):"ThisExpression"===a.object.type?k(a,g(a.property.name)):B(a.object,a);else{if("ThisExpression"===a.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===a.type){var d=a.name,f=r.indexOf(d);if(f>=0){var h=s[f],i=n(a);i&y&&(h.lvalue=!0),i&z&&(h.rvalue=!0),++h.count,k(a,h.name)}else e(d)||k(a,b(d))}else if("Literal"===a.type)"string"==typeof a.value&&k(a,l(a.value));else{if("WithStatement"===a.type)throw new Error("cwise-parser: with() statements not allowed");for(var j=Object.keys(a),m=0,o=j.length;o>m;++m)if("parent"!==j[m]){var p=a[j[m]];if(p)if(p instanceof Array)for(var q=0;q<p.length;++q)p[q]&&"string"==typeof p[q].type&&B(p[q],a);else"string"==typeof p.type&&B(p,a)}}}}(p.body[0].expression.callee.body,void 0),i(w),i(x);var A=new d(m(p.body[0].expression.callee.body),s,x,w);return A}var h=a("esprima"),i=a("uniq"),j=0;b.exports=g},{esprima:18,uniq:19}],18:[function(a,b,c){!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["exports"],b):b("undefined"!=typeof c?c:a.esprima={})}(this,function(a){"use strict";function b(a,b){if(!a)throw new Error("ASSERT: "+b)}function c(a,b){return mb.slice(a,b)}function d(a){return"0123456789".indexOf(a)>=0}function e(a){return"0123456789abcdefABCDEF".indexOf(a)>=0}function f(a){return"01234567".indexOf(a)>=0}function g(a){return" "===a||"	"===a||""===a||"\f"===a||" "===a||a.charCodeAt(0)>=5760&&" ᠎             　\ufeff".indexOf(a)>=0}function h(a){return"\n"===a||"\r"===a||"\u2028"===a||"\u2029"===a}function i(a){return"$"===a||"_"===a||"\\"===a||a>="a"&&"z">=a||a>="A"&&"Z">=a||a.charCodeAt(0)>=128&&lb.NonAsciiIdentifierStart.test(a)}function j(a){return"$"===a||"_"===a||"\\"===a||a>="a"&&"z">=a||a>="A"&&"Z">=a||a>="0"&&"9">=a||a.charCodeAt(0)>=128&&lb.NonAsciiIdentifierPart.test(a)}function k(a){switch(a){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function l(a){switch(a){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function m(a){return"eval"===a||"arguments"===a}function n(a){var b=!1;switch(a.length){case 2:b="if"===a||"in"===a||"do"===a;break;case 3:b="var"===a||"for"===a||"new"===a||"try"===a;break;case 4:b="this"===a||"else"===a||"case"===a||"void"===a||"with"===a;break;case 5:b="while"===a||"break"===a||"catch"===a||"throw"===a;break;case 6:b="return"===a||"typeof"===a||"delete"===a||"switch"===a;break;case 7:b="default"===a||"finally"===a;break;case 8:b="function"===a||"continue"===a||"debugger"===a;break;case 10:b="instanceof"===a}if(b)return!0;switch(a){case"const":return!0;case"yield":case"let":return!0}return nb&&l(a)?!0:k(a)}function o(){var a,b,c;for(b=!1,c=!1;rb>ob;)if(a=mb[ob],c)a=mb[ob++],h(a)&&(c=!1,"\r"===a&&"\n"===mb[ob]&&++ob,++pb,qb=ob);else if(b)h(a)?("\r"===a&&"\n"===mb[ob+1]&&++ob,++pb,++ob,qb=ob,ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL")):(a=mb[ob++],ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL"),"*"===a&&(a=mb[ob],"/"===a&&(++ob,b=!1)));else if("/"===a)if(a=mb[ob+1],"/"===a)ob+=2,c=!0;else{if("*"!==a)break;ob+=2,b=!0,ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL")}else if(g(a))++ob;else{if(!h(a))break;++ob,"\r"===a&&"\n"===mb[ob]&&++ob,++pb,qb=ob}}function p(a){var b,c,d,f=0;for(c="u"===a?4:2,b=0;c>b;++b){if(!(rb>ob&&e(mb[ob])))return"";d=mb[ob++],f=16*f+"0123456789abcdef".indexOf(d.toLowerCase())}return String.fromCharCode(f)}function q(){var a,b,c,d;if(a=mb[ob],i(a)){if(b=ob,"\\"===a){if(++ob,"u"!==mb[ob])return;if(++ob,d=ob,a=p("u")){if("\\"===a||!i(a))return;c=a}else ob=d,c="u"}else c=mb[ob++];for(;rb>ob&&(a=mb[ob],j(a));)if("\\"===a){if(++ob,"u"!==mb[ob])return;if(++ob,d=ob,a=p("u")){if("\\"===a||!j(a))return;c+=a}else ob=d,c+="u"}else c+=mb[ob++];return 1===c.length?{type:gb.Identifier,value:c,lineNumber:pb,lineStart:qb,range:[b,ob]}:n(c)?{type:gb.Keyword,value:c,lineNumber:pb,lineStart:qb,range:[b,ob]}:"null"===c?{type:gb.NullLiteral,value:c,lineNumber:pb,lineStart:qb,range:[b,ob]}:"true"===c||"false"===c?{type:gb.BooleanLiteral,value:c,lineNumber:pb,lineStart:qb,range:[b,ob]}:{type:gb.Identifier,value:c,lineNumber:pb,lineStart:qb,range:[b,ob]}}}function r(){var a,b,c,e=ob,f=mb[ob];return";"===f||"{"===f||"}"===f?(++ob,{type:gb.Punctuator,value:f,lineNumber:pb,lineStart:qb,range:[e,ob]}):","===f||"("===f||")"===f?(++ob,{type:gb.Punctuator,value:f,lineNumber:pb,lineStart:qb,range:[e,ob]}):(a=mb[ob+1],"."!==f||d(a)?(b=mb[ob+2],c=mb[ob+3],">"===f&&">"===a&&">"===b&&"="===c?(ob+=4,{type:gb.Punctuator,value:">>>=",lineNumber:pb,lineStart:qb,range:[e,ob]}):"="===f&&"="===a&&"="===b?(ob+=3,{type:gb.Punctuator,value:"===",lineNumber:pb,lineStart:qb,range:[e,ob]}):"!"===f&&"="===a&&"="===b?(ob+=3,{type:gb.Punctuator,value:"!==",lineNumber:pb,lineStart:qb,range:[e,ob]}):">"===f&&">"===a&&">"===b?(ob+=3,{type:gb.Punctuator,value:">>>",lineNumber:pb,lineStart:qb,range:[e,ob]}):"<"===f&&"<"===a&&"="===b?(ob+=3,{type:gb.Punctuator,value:"<<=",lineNumber:pb,lineStart:qb,range:[e,ob]}):">"===f&&">"===a&&"="===b?(ob+=3,{type:gb.Punctuator,value:">>=",lineNumber:pb,lineStart:qb,range:[e,ob]}):"="===a&&"<>=!+-*%&|^/".indexOf(f)>=0?(ob+=2,{type:gb.Punctuator,value:f+a,lineNumber:pb,lineStart:qb,range:[e,ob]}):f===a&&"+-<>&|".indexOf(f)>=0&&"+-<>&|".indexOf(a)>=0?(ob+=2,{type:gb.Punctuator,value:f+a,lineNumber:pb,lineStart:qb,range:[e,ob]}):"[]<>+-*%&|^!~?:=/".indexOf(f)>=0?{type:gb.Punctuator,value:mb[ob++],lineNumber:pb,lineStart:qb,range:[e,ob]}:void 0):{type:gb.Punctuator,value:mb[ob++],lineNumber:pb,lineStart:qb,range:[e,ob]})}function s(){var a,c,g;if(g=mb[ob],b(d(g)||"."===g,"Numeric literal must start with a decimal digit or a decimal point"),c=ob,a="","."!==g){if(a=mb[ob++],g=mb[ob],"0"===a){if("x"===g||"X"===g){for(a+=mb[ob++];rb>ob&&(g=mb[ob],e(g));)a+=mb[ob++];return a.length<=2&&A({},kb.UnexpectedToken,"ILLEGAL"),rb>ob&&(g=mb[ob],i(g)&&A({},kb.UnexpectedToken,"ILLEGAL")),{type:gb.NumericLiteral,value:parseInt(a,16),lineNumber:pb,lineStart:qb,range:[c,ob]}}if(f(g)){for(a+=mb[ob++];rb>ob&&(g=mb[ob],f(g));)a+=mb[ob++];return rb>ob&&(g=mb[ob],(i(g)||d(g))&&A({},kb.UnexpectedToken,"ILLEGAL")),{type:gb.NumericLiteral,value:parseInt(a,8),octal:!0,lineNumber:pb,lineStart:qb,range:[c,ob]}}d(g)&&A({},kb.UnexpectedToken,"ILLEGAL")}for(;rb>ob&&(g=mb[ob],d(g));)a+=mb[ob++]}if("."===g)for(a+=mb[ob++];rb>ob&&(g=mb[ob],d(g));)a+=mb[ob++];if("e"===g||"E"===g)if(a+=mb[ob++],g=mb[ob],("+"===g||"-"===g)&&(a+=mb[ob++]),g=mb[ob],d(g))for(a+=mb[ob++];rb>ob&&(g=mb[ob],d(g));)a+=mb[ob++];else g="character "+g,ob>=rb&&(g="<end>"),A({},kb.UnexpectedToken,"ILLEGAL");return rb>ob&&(g=mb[ob],i(g)&&A({},kb.UnexpectedToken,"ILLEGAL")),{type:gb.NumericLiteral,value:parseFloat(a),lineNumber:pb,lineStart:qb,range:[c,ob]}}function t(){var a,c,d,e,g,i,j="",k=!1;for(a=mb[ob],b("'"===a||'"'===a,"String literal must starts with a quote"),c=ob,++ob;rb>ob;){if(d=mb[ob++],d===a){a="";break}if("\\"===d)if(d=mb[ob++],h(d))++pb,"\r"===d&&"\n"===mb[ob]&&++ob;else switch(d){case"n":j+="\n";break;case"r":j+="\r";break;case"t":j+="	";break;case"u":case"x":i=ob,g=p(d),g?j+=g:(ob=i,j+=d);break;case"b":j+="\b";break;case"f":j+="\f";break;case"v":j+="";break;default:f(d)?(e="01234567".indexOf(d),0!==e&&(k=!0),rb>ob&&f(mb[ob])&&(k=!0,e=8*e+"01234567".indexOf(mb[ob++]),"0123".indexOf(d)>=0&&rb>ob&&f(mb[ob])&&(e=8*e+"01234567".indexOf(mb[ob++]))),j+=String.fromCharCode(e)):j+=d}else{if(h(d))break;j+=d}}return""!==a&&A({},kb.UnexpectedToken,"ILLEGAL"),{type:gb.StringLiteral,value:j,octal:k,lineNumber:pb,lineStart:qb,range:[c,ob]}}function u(){var a,c,d,e,f,g,i,k=!1,l=!1;for(sb=null,o(),d=ob,c=mb[ob],b("/"===c,"Regular expression literal must start with a slash"),a=mb[ob++];rb>ob;)if(c=mb[ob++],a+=c,"\\"===c)c=mb[ob++],h(c)&&A({},kb.UnterminatedRegExp),a+=c;else if(k)"]"===c&&(k=!1);else{if("/"===c){l=!0;break}"["===c?k=!0:h(c)&&A({},kb.UnterminatedRegExp)}for(l||A({},kb.UnterminatedRegExp),e=a.substr(1,a.length-2),f="";rb>ob&&(c=mb[ob],j(c));)if(++ob,"\\"===c&&rb>ob)if(c=mb[ob],"u"===c)if(++ob,i=ob,c=p("u"))for(f+=c,a+="\\u";ob>i;++i)a+=mb[i];else ob=i,f+="u",a+="\\u";else a+="\\";else f+=c,a+=c;try{g=new RegExp(e,f)}catch(m){A({},kb.InvalidRegExp)}return{literal:a,value:g,range:[d,ob]}}function v(a){return a.type===gb.Identifier||a.type===gb.Keyword||a.type===gb.BooleanLiteral||a.type===gb.NullLiteral}function w(){var a,b;return o(),ob>=rb?{type:gb.EOF,lineNumber:pb,lineStart:qb,range:[ob,ob]}:(b=r(),"undefined"!=typeof b?b:(a=mb[ob],"'"===a||'"'===a?t():"."===a||d(a)?s():(b=q(),"undefined"!=typeof b?b:void A({},kb.UnexpectedToken,"ILLEGAL"))))}function x(){var a;return sb?(ob=sb.range[1],pb=sb.lineNumber,qb=sb.lineStart,a=sb,sb=null,a):(sb=null,w())}function y(){var a,b,c;return null!==sb?sb:(a=ob,b=pb,c=qb,sb=w(),ob=a,pb=b,qb=c,sb)}function z(){var a,b,c,d;return a=ob,b=pb,c=qb,o(),d=pb!==b,ob=a,pb=b,qb=c,d}function A(a,b){var c,d=Array.prototype.slice.call(arguments,2),e=b.replace(/%(\d)/g,function(a,b){return d[b]||""});throw"number"==typeof a.lineNumber?(c=new Error("Line "+a.lineNumber+": "+e),c.index=a.range[0],c.lineNumber=a.lineNumber,c.column=a.range[0]-qb+1):(c=new Error("Line "+pb+": "+e),c.index=ob,c.lineNumber=pb,c.column=ob-qb+1),c}function B(){try{A.apply(null,arguments)}catch(a){if(!ub.errors)throw a;ub.errors.push(a)}}function C(a){if(a.type===gb.EOF&&A(a,kb.UnexpectedEOS),a.type===gb.NumericLiteral&&A(a,kb.UnexpectedNumber),a.type===gb.StringLiteral&&A(a,kb.UnexpectedString),a.type===gb.Identifier&&A(a,kb.UnexpectedIdentifier),a.type===gb.Keyword){if(k(a.value))A(a,kb.UnexpectedReserved);else if(nb&&l(a.value))return void B(a,kb.StrictReservedWord);A(a,kb.UnexpectedToken,a.value)}A(a,kb.UnexpectedToken,a.value)}function D(a){var b=x();(b.type!==gb.Punctuator||b.value!==a)&&C(b)}function E(a){var b=x();(b.type!==gb.Keyword||b.value!==a)&&C(b)}function F(a){var b=y();return b.type===gb.Punctuator&&b.value===a}function G(a){var b=y();return b.type===gb.Keyword&&b.value===a}function H(){var a=y(),b=a.value;return a.type!==gb.Punctuator?!1:"="===b||"*="===b||"/="===b||"%="===b||"+="===b||"-="===b||"<<="===b||">>="===b||">>>="===b||"&="===b||"^="===b||"|="===b}function I(){var a,b;if(";"===mb[ob])return void x();if(b=pb,o(),pb===b){if(F(";"))return void x();a=y(),a.type===gb.EOF||F("}")||C(a)}}function J(a){return a.type===ib.Identifier||a.type===ib.MemberExpression}function K(){var a=[];for(D("[");!F("]");)F(",")?(x(),a.push(null)):(a.push(ja()),F("]")||D(","));return D("]"),{type:ib.ArrayExpression,elements:a}}function L(a,b){var c,d;return c=nb,d=Ka(),b&&nb&&m(a[0].name)&&B(b,kb.StrictParamName),nb=c,{type:ib.FunctionExpression,id:null,params:a,defaults:[],body:d,rest:null,generator:!1,expression:!1}}function M(){var a=x();return a.type===gb.StringLiteral||a.type===gb.NumericLiteral?(nb&&a.octal&&B(a,kb.StrictOctalLiteral),Wa(a)):{type:ib.Identifier,name:a.value}}function N(){var a,b,c,d;return a=y(),a.type===gb.Identifier?(c=M(),"get"!==a.value||F(":")?"set"!==a.value||F(":")?(D(":"),{type:ib.Property,key:c,value:ja(),kind:"init"}):(b=M(),D("("),a=y(),a.type!==gb.Identifier?(D(")"),B(a,kb.UnexpectedToken,a.value),{type:ib.Property,key:b,value:L([]),kind:"set"}):(d=[na()],D(")"),{type:ib.Property,key:b,value:L(d,a),kind:"set"})):(b=M(),D("("),D(")"),{type:ib.Property,key:b,value:L([]),kind:"get"})):a.type!==gb.EOF&&a.type!==gb.Punctuator?(b=M(),D(":"),{type:ib.Property,key:b,value:ja(),kind:"init"}):void C(a)}function O(){var a,b,c,d=[],e={},f=String;for(D("{");!F("}");)a=N(),b=a.key.type===ib.Identifier?a.key.name:f(a.key.value),c="init"===a.kind?jb.Data:"get"===a.kind?jb.Get:jb.Set,Object.prototype.hasOwnProperty.call(e,b)?(e[b]===jb.Data?nb&&c===jb.Data?B({},kb.StrictDuplicateProperty):c!==jb.Data&&B({},kb.AccessorDataProperty):c===jb.Data?B({},kb.AccessorDataProperty):e[b]&c&&B({},kb.AccessorGetSet),e[b]|=c):e[b]=c,d.push(a),F("}")||D(",");return D("}"),{type:ib.ObjectExpression,properties:d}}function P(){var a;return D("("),a=ka(),D(")"),a}function Q(){var a=y(),b=a.type;if(b===gb.Identifier)return{type:ib.Identifier,name:x().value};if(b===gb.StringLiteral||b===gb.NumericLiteral)return nb&&a.octal&&B(a,kb.StrictOctalLiteral),Wa(x());if(b===gb.Keyword){if(G("this"))return x(),{type:ib.ThisExpression};if(G("function"))return Ma()}return b===gb.BooleanLiteral?(x(),a.value="true"===a.value,Wa(a)):b===gb.NullLiteral?(x(),a.value=null,Wa(a)):F("[")?K():F("{")?O():F("(")?P():F("/")||F("/=")?Wa(u()):C(x())}function R(){var a=[];if(D("("),!F(")"))for(;rb>ob&&(a.push(ja()),!F(")"));)D(",");return D(")"),a}function S(){var a=x();return v(a)||C(a),{type:ib.Identifier,name:a.value}}function T(){return D("."),S()}function U(){var a;return D("["),a=ka(),D("]"),a}function V(){var a;return E("new"),a={type:ib.NewExpression,callee:X(),arguments:[]},F("(")&&(a.arguments=R()),a}function W(){var a;for(a=G("new")?V():Q();F(".")||F("[")||F("(");)a=F("(")?{type:ib.CallExpression,callee:a,arguments:R()}:F("[")?{type:ib.MemberExpression,computed:!0,object:a,property:U()}:{type:ib.MemberExpression,computed:!1,object:a,property:T()};return a}function X(){var a;for(a=G("new")?V():Q();F(".")||F("[");)a=F("[")?{type:ib.MemberExpression,computed:!0,object:a,property:U()}:{type:ib.MemberExpression,computed:!1,object:a,property:T()};return a}function Y(){var a,b=W();return a=y(),a.type!==gb.Punctuator?b:(!F("++")&&!F("--")||z()||(nb&&b.type===ib.Identifier&&m(b.name)&&B({},kb.StrictLHSPostfix),J(b)||B({},kb.InvalidLHSInAssignment),b={type:ib.UpdateExpression,operator:x().value,argument:b,prefix:!1}),b)}function Z(){var a,b;return a=y(),a.type!==gb.Punctuator&&a.type!==gb.Keyword?Y():F("++")||F("--")?(a=x(),b=Z(),nb&&b.type===ib.Identifier&&m(b.name)&&B({},kb.StrictLHSPrefix),J(b)||B({},kb.InvalidLHSInAssignment),b={type:ib.UpdateExpression,operator:a.value,argument:b,prefix:!0}):F("+")||F("-")||F("~")||F("!")?b={type:ib.UnaryExpression,operator:x().value,argument:Z(),prefix:!0}:G("delete")||G("void")||G("typeof")?(b={type:ib.UnaryExpression,operator:x().value,argument:Z(),prefix:!0},nb&&"delete"===b.operator&&b.argument.type===ib.Identifier&&B({},kb.StrictDelete),b):Y()}function $(){for(var a=Z();F("*")||F("/")||F("%");)a={type:ib.BinaryExpression,operator:x().value,left:a,right:Z()};return a}function _(){for(var a=$();F("+")||F("-");)a={type:ib.BinaryExpression,operator:x().value,left:a,right:$()};return a}function aa(){for(var a=_();F("<<")||F(">>")||F(">>>");)a={type:ib.BinaryExpression,operator:x().value,left:a,right:_()};return a}function ba(){var a,b;for(b=tb.allowIn,tb.allowIn=!0,a=aa();F("<")||F(">")||F("<=")||F(">=")||b&&G("in")||G("instanceof");)a={type:ib.BinaryExpression,operator:x().value,left:a,right:aa()};return tb.allowIn=b,a}function ca(){for(var a=ba();F("==")||F("!=")||F("===")||F("!==");)a={type:ib.BinaryExpression,operator:x().value,left:a,right:ba()};return a}function da(){for(var a=ca();F("&");)x(),a={type:ib.BinaryExpression,operator:"&",left:a,right:ca()};return a}function ea(){for(var a=da();F("^");)x(),a={type:ib.BinaryExpression,operator:"^",left:a,right:da()};return a}function fa(){for(var a=ea();F("|");)x(),a={type:ib.BinaryExpression,operator:"|",left:a,right:ea()};return a}function ga(){for(var a=fa();F("&&");)x(),a={type:ib.LogicalExpression,operator:"&&",left:a,right:fa()};return a}function ha(){for(var a=ga();F("||");)x(),a={type:ib.LogicalExpression,operator:"||",left:a,right:ga()};return a}function ia(){var a,b,c;return a=ha(),F("?")&&(x(),b=tb.allowIn,tb.allowIn=!0,c=ja(),tb.allowIn=b,D(":"),a={type:ib.ConditionalExpression,test:a,consequent:c,alternate:ja()}),a}function ja(){var a,b;return a=y(),b=ia(),H()&&(J(b)||B({},kb.InvalidLHSInAssignment),nb&&b.type===ib.Identifier&&m(b.name)&&B(a,kb.StrictLHSAssignment),b={type:ib.AssignmentExpression,operator:x().value,left:b,right:ja()}),b}function ka(){var a=ja();if(F(","))for(a={type:ib.SequenceExpression,expressions:[a]};rb>ob&&F(",");)x(),a.expressions.push(ja());return a}function la(){for(var a,b=[];rb>ob&&!F("}")&&(a=Na(),"undefined"!=typeof a);)b.push(a);return b}function ma(){var a;return D("{"),a=la(),D("}"),{type:ib.BlockStatement,body:a}}function na(){var a=x();return a.type!==gb.Identifier&&C(a),{type:ib.Identifier,name:a.value}}function oa(a){var b=na(),c=null;return nb&&m(b.name)&&B({},kb.StrictVarName),"const"===a?(D("="),c=ja()):F("=")&&(x(),c=ja()),{type:ib.VariableDeclarator,id:b,init:c}}function pa(a){var b=[];do{if(b.push(oa(a)),!F(","))break;x()}while(rb>ob);return b}function qa(){var a;return E("var"),a=pa(),I(),{type:ib.VariableDeclaration,declarations:a,kind:"var"}}function ra(a){var b;return E(a),b=pa(a),I(),{type:ib.VariableDeclaration,declarations:b,kind:a}}function sa(){return D(";"),{type:ib.EmptyStatement}}function ta(){var a=ka();return I(),{type:ib.ExpressionStatement,expression:a}}function ua(){var a,b,c;return E("if"),D("("),a=ka(),D(")"),b=Ja(),G("else")?(x(),c=Ja()):c=null,{type:ib.IfStatement,test:a,consequent:b,alternate:c}}function va(){var a,b,c;return E("do"),c=tb.inIteration,tb.inIteration=!0,a=Ja(),tb.inIteration=c,E("while"),D("("),b=ka(),D(")"),F(";")&&x(),{type:ib.DoWhileStatement,body:a,test:b}}function wa(){var a,b,c;return E("while"),D("("),a=ka(),D(")"),c=tb.inIteration,tb.inIteration=!0,b=Ja(),tb.inIteration=c,{type:ib.WhileStatement,test:a,body:b}}function xa(){var a=x();return{type:ib.VariableDeclaration,declarations:pa(),kind:a.value}}function ya(){var a,b,c,d,e,f,g;return a=b=c=null,E("for"),D("("),F(";")?x():(G("var")||G("let")?(tb.allowIn=!1,a=xa(),tb.allowIn=!0,1===a.declarations.length&&G("in")&&(x(),d=a,e=ka(),a=null)):(tb.allowIn=!1,a=ka(),tb.allowIn=!0,G("in")&&(J(a)||B({},kb.InvalidLHSInForIn),x(),d=a,e=ka(),a=null)),"undefined"==typeof d&&D(";")),"undefined"==typeof d&&(F(";")||(b=ka()),D(";"),F(")")||(c=ka())),D(")"),g=tb.inIteration,tb.inIteration=!0,f=Ja(),tb.inIteration=g,"undefined"==typeof d?{type:ib.ForStatement,init:a,test:b,update:c,body:f}:{type:ib.ForInStatement,left:d,right:e,body:f,each:!1}}function za(){var a,b=null;return E("continue"),";"===mb[ob]?(x(),tb.inIteration||A({},kb.IllegalContinue),{type:ib.ContinueStatement,label:null}):z()?(tb.inIteration||A({},kb.IllegalContinue),{type:ib.ContinueStatement,label:null}):(a=y(),a.type===gb.Identifier&&(b=na(),Object.prototype.hasOwnProperty.call(tb.labelSet,b.name)||A({},kb.UnknownLabel,b.name)),I(),null!==b||tb.inIteration||A({},kb.IllegalContinue),{type:ib.ContinueStatement,label:b})}function Aa(){var a,b=null;return E("break"),";"===mb[ob]?(x(),tb.inIteration||tb.inSwitch||A({},kb.IllegalBreak),{type:ib.BreakStatement,label:null}):z()?(tb.inIteration||tb.inSwitch||A({},kb.IllegalBreak),{type:ib.BreakStatement,label:null}):(a=y(),a.type===gb.Identifier&&(b=na(),Object.prototype.hasOwnProperty.call(tb.labelSet,b.name)||A({},kb.UnknownLabel,b.name)),I(),null!==b||tb.inIteration||tb.inSwitch||A({},kb.IllegalBreak),{type:ib.BreakStatement,label:b})}function Ba(){var a,b=null;return E("return"),tb.inFunctionBody||B({},kb.IllegalReturn)," "===mb[ob]&&i(mb[ob+1])?(b=ka(),I(),{type:ib.ReturnStatement,argument:b}):z()?{type:ib.ReturnStatement,argument:null}:(F(";")||(a=y(),F("}")||a.type===gb.EOF||(b=ka())),I(),{type:ib.ReturnStatement,argument:b})}function Ca(){var a,b;return nb&&B({},kb.StrictModeWith),E("with"),D("("),a=ka(),D(")"),b=Ja(),{type:ib.WithStatement,object:a,body:b}}function Da(){var a,b,c=[];for(G("default")?(x(),a=null):(E("case"),a=ka()),D(":");rb>ob&&!(F("}")||G("default")||G("case"))&&(b=Ja(),"undefined"!=typeof b);)c.push(b);return{type:ib.SwitchCase,test:a,consequent:c}}function Ea(){var a,b,c,d,e;if(E("switch"),D("("),a=ka(),D(")"),D("{"),b=[],F("}"))return x(),{type:ib.SwitchStatement,discriminant:a,cases:b};for(d=tb.inSwitch,tb.inSwitch=!0,e=!1;rb>ob&&!F("}");)c=Da(),null===c.test&&(e&&A({},kb.MultipleDefaultsInSwitch),e=!0),b.push(c);return tb.inSwitch=d,D("}"),{type:ib.SwitchStatement,discriminant:a,cases:b}}function Fa(){var a;return E("throw"),z()&&A({},kb.NewlineAfterThrow),a=ka(),I(),{type:ib.ThrowStatement,argument:a}}function Ga(){var a;return E("catch"),D("("),F(")")&&C(y()),a=na(),nb&&m(a.name)&&B({},kb.StrictCatchVariable),D(")"),{type:ib.CatchClause,param:a,body:ma()}}function Ha(){var a,b=[],c=null;return E("try"),a=ma(),G("catch")&&b.push(Ga()),G("finally")&&(x(),c=ma()),0!==b.length||c||A({},kb.NoCatchOrFinally),{type:ib.TryStatement,block:a,guardedHandlers:[],handlers:b,finalizer:c}}function Ia(){return E("debugger"),I(),{type:ib.DebuggerStatement}}function Ja(){var a,b,c=y();if(c.type===gb.EOF&&C(c),c.type===gb.Punctuator)switch(c.value){case";":return sa();case"{":return ma();case"(":return ta()}if(c.type===gb.Keyword)switch(c.value){case"break":return Aa();case"continue":return za();case"debugger":return Ia();case"do":return va();case"for":return ya();case"function":return La();case"if":return ua();case"return":return Ba();case"switch":return Ea();case"throw":return Fa();case"try":return Ha();case"var":return qa();case"while":return wa();case"with":return Ca()}return a=ka(),a.type===ib.Identifier&&F(":")?(x(),Object.prototype.hasOwnProperty.call(tb.labelSet,a.name)&&A({},kb.Redeclaration,"Label",a.name),tb.labelSet[a.name]=!0,b=Ja(),delete tb.labelSet[a.name],{type:ib.LabeledStatement,label:a,body:b}):(I(),{type:ib.ExpressionStatement,expression:a})}function Ka(){var a,b,d,e,f,g,h,i,j=[];for(D("{");rb>ob&&(b=y(),b.type===gb.StringLiteral)&&(a=Na(),j.push(a),a.expression.type===ib.Literal);)d=c(b.range[0]+1,b.range[1]-1),"use strict"===d?(nb=!0,e&&B(e,kb.StrictOctalLiteral)):!e&&b.octal&&(e=b);for(f=tb.labelSet,g=tb.inIteration,h=tb.inSwitch,i=tb.inFunctionBody,tb.labelSet={},tb.inIteration=!1,tb.inSwitch=!1,tb.inFunctionBody=!0;rb>ob&&!F("}")&&(a=Na(),"undefined"!=typeof a);)j.push(a);return D("}"),tb.labelSet=f,tb.inIteration=g,tb.inSwitch=h,tb.inFunctionBody=i,{type:ib.BlockStatement,body:j}}function La(){var a,b,c,d,e,f,g,h,i,j=[];if(E("function"),d=y(),a=na(),nb?m(d.value)&&B(d,kb.StrictFunctionName):m(d.value)?(f=d,g=kb.StrictFunctionName):l(d.value)&&(f=d,g=kb.StrictReservedWord),D("("),!F(")"))for(i={};rb>ob&&(d=y(),b=na(),nb?(m(d.value)&&(e=d,g=kb.StrictParamName),Object.prototype.hasOwnProperty.call(i,d.value)&&(e=d,g=kb.StrictParamDupe)):f||(m(d.value)?(f=d,g=kb.StrictParamName):l(d.value)?(f=d,g=kb.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,d.value)&&(f=d,g=kb.StrictParamDupe)),j.push(b),i[b.name]=!0,!F(")"));)D(",");return D(")"),h=nb,c=Ka(),nb&&f&&A(f,g),nb&&e&&B(e,g),nb=h,{type:ib.FunctionDeclaration,id:a,params:j,defaults:[],body:c,rest:null,generator:!1,expression:!1}}function Ma(){var a,b,c,d,e,f,g,h,i=null,j=[];if(E("function"),F("(")||(a=y(),i=na(),nb?m(a.value)&&B(a,kb.StrictFunctionName):m(a.value)?(c=a,d=kb.StrictFunctionName):l(a.value)&&(c=a,d=kb.StrictReservedWord)),D("("),!F(")"))for(h={};rb>ob&&(a=y(),e=na(),nb?(m(a.value)&&(b=a,d=kb.StrictParamName),Object.prototype.hasOwnProperty.call(h,a.value)&&(b=a,d=kb.StrictParamDupe)):c||(m(a.value)?(c=a,d=kb.StrictParamName):l(a.value)?(c=a,d=kb.StrictReservedWord):Object.prototype.hasOwnProperty.call(h,a.value)&&(c=a,d=kb.StrictParamDupe)),j.push(e),h[e.name]=!0,!F(")"));)D(",");return D(")"),g=nb,f=Ka(),nb&&c&&A(c,d),nb&&b&&B(b,d),nb=g,{type:ib.FunctionExpression,id:i,params:j,defaults:[],body:f,rest:null,generator:!1,expression:!1}}function Na(){var a=y();if(a.type===gb.Keyword)switch(a.value){case"const":case"let":return ra(a.value);case"function":return La();default:return Ja()}return a.type!==gb.EOF?Ja():void 0}function Oa(){for(var a,b,d,e,f=[];rb>ob&&(b=y(),b.type===gb.StringLiteral)&&(a=Na(),f.push(a),a.expression.type===ib.Literal);)d=c(b.range[0]+1,b.range[1]-1),
"use strict"===d?(nb=!0,e&&B(e,kb.StrictOctalLiteral)):!e&&b.octal&&(e=b);for(;rb>ob&&(a=Na(),"undefined"!=typeof a);)f.push(a);return f}function Pa(){var a;return nb=!1,a={type:ib.Program,body:Oa()}}function Qa(a,c,d,e,f){b("number"==typeof d,"Comment must have valid position"),ub.comments.length>0&&ub.comments[ub.comments.length-1].range[1]>d||ub.comments.push({type:a,value:c,range:[d,e],loc:f})}function Ra(){var a,b,c,d,e,f;for(a="",e=!1,f=!1;rb>ob;)if(b=mb[ob],f)b=mb[ob++],h(b)?(c.end={line:pb,column:ob-qb-1},f=!1,Qa("Line",a,d,ob-1,c),"\r"===b&&"\n"===mb[ob]&&++ob,++pb,qb=ob,a=""):ob>=rb?(f=!1,a+=b,c.end={line:pb,column:rb-qb},Qa("Line",a,d,rb,c)):a+=b;else if(e)h(b)?("\r"===b&&"\n"===mb[ob+1]?(++ob,a+="\r\n"):a+=b,++pb,++ob,qb=ob,ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL")):(b=mb[ob++],ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL"),a+=b,"*"===b&&(b=mb[ob],"/"===b&&(a=a.substr(0,a.length-1),e=!1,++ob,c.end={line:pb,column:ob-qb},Qa("Block",a,d,ob,c),a="")));else if("/"===b)if(b=mb[ob+1],"/"===b)c={start:{line:pb,column:ob-qb}},d=ob,ob+=2,f=!0,ob>=rb&&(c.end={line:pb,column:ob-qb},f=!1,Qa("Line",a,d,ob,c));else{if("*"!==b)break;d=ob,ob+=2,e=!0,c={start:{line:pb,column:ob-qb-2}},ob>=rb&&A({},kb.UnexpectedToken,"ILLEGAL")}else if(g(b))++ob;else{if(!h(b))break;++ob,"\r"===b&&"\n"===mb[ob]&&++ob,++pb,qb=ob}}function Sa(){var a,b,c,d=[];for(a=0;a<ub.comments.length;++a)b=ub.comments[a],c={type:b.type,value:b.value},ub.range&&(c.range=b.range),ub.loc&&(c.loc=b.loc),d.push(c);ub.comments=d}function Ta(){var a,b,d,e,f;return o(),a=ob,b={start:{line:pb,column:ob-qb}},d=ub.advance(),b.end={line:pb,column:ob-qb},d.type!==gb.EOF&&(e=[d.range[0],d.range[1]],f=c(d.range[0],d.range[1]),ub.tokens.push({type:hb[d.type],value:f,range:e,loc:b})),d}function Ua(){var a,b,c,d;return o(),a=ob,b={start:{line:pb,column:ob-qb}},c=ub.scanRegExp(),b.end={line:pb,column:ob-qb},ub.tokens.length>0&&(d=ub.tokens[ub.tokens.length-1],d.range[0]===a&&"Punctuator"===d.type&&("/"===d.value||"/="===d.value)&&ub.tokens.pop()),ub.tokens.push({type:"RegularExpression",value:c.literal,range:[a,ob],loc:b}),c}function Va(){var a,b,c,d=[];for(a=0;a<ub.tokens.length;++a)b=ub.tokens[a],c={type:b.type,value:b.value},ub.range&&(c.range=b.range),ub.loc&&(c.loc=b.loc),d.push(c);ub.tokens=d}function Wa(a){return{type:ib.Literal,value:a.value}}function Xa(a){return{type:ib.Literal,value:a.value,raw:c(a.range[0],a.range[1])}}function Ya(){var a={};return a.range=[ob,ob],a.loc={start:{line:pb,column:ob-qb},end:{line:pb,column:ob-qb}},a.end=function(){this.range[1]=ob,this.loc.end.line=pb,this.loc.end.column=ob-qb},a.applyGroup=function(a){ub.range&&(a.groupRange=[this.range[0],this.range[1]]),ub.loc&&(a.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},a.apply=function(a){ub.range&&(a.range=[this.range[0],this.range[1]]),ub.loc&&(a.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},a}function Za(){var a,b;return o(),a=Ya(),D("("),b=ka(),D(")"),a.end(),a.applyGroup(b),b}function $a(){var a,b;for(o(),a=Ya(),b=G("new")?V():Q();F(".")||F("[");)F("[")?(b={type:ib.MemberExpression,computed:!0,object:b,property:U()},a.end(),a.apply(b)):(b={type:ib.MemberExpression,computed:!1,object:b,property:T()},a.end(),a.apply(b));return b}function _a(){var a,b;for(o(),a=Ya(),b=G("new")?V():Q();F(".")||F("[")||F("(");)F("(")?(b={type:ib.CallExpression,callee:b,arguments:R()},a.end(),a.apply(b)):F("[")?(b={type:ib.MemberExpression,computed:!0,object:b,property:U()},a.end(),a.apply(b)):(b={type:ib.MemberExpression,computed:!1,object:b,property:T()},a.end(),a.apply(b));return b}function ab(a){var b,c,d;b="[object Array]"===Object.prototype.toString.apply(a)?[]:{};for(c in a)a.hasOwnProperty(c)&&"groupRange"!==c&&"groupLoc"!==c&&(d=a[c],b[c]=null===d||"object"!=typeof d||d instanceof RegExp?d:ab(d));return b}function bb(a,b){return function(c){function d(a){return a.type===ib.LogicalExpression||a.type===ib.BinaryExpression}function e(c){var f,g;d(c.left)&&e(c.left),d(c.right)&&e(c.right),a&&(c.left.groupRange||c.right.groupRange?(f=c.left.groupRange?c.left.groupRange[0]:c.left.range[0],g=c.right.groupRange?c.right.groupRange[1]:c.right.range[1],c.range=[f,g]):"undefined"==typeof c.range&&(f=c.left.range[0],g=c.right.range[1],c.range=[f,g])),b&&(c.left.groupLoc||c.right.groupLoc?(f=c.left.groupLoc?c.left.groupLoc.start:c.left.loc.start,g=c.right.groupLoc?c.right.groupLoc.end:c.right.loc.end,c.loc={start:f,end:g}):"undefined"==typeof c.loc&&(c.loc={start:c.left.loc.start,end:c.right.loc.end}))}return function(){var f,g;return o(),f=Ya(),g=c.apply(null,arguments),f.end(),a&&"undefined"==typeof g.range&&f.apply(g),b&&"undefined"==typeof g.loc&&f.apply(g),d(g)&&e(g),g}}}function cb(){var a;ub.comments&&(ub.skipComment=o,o=Ra),ub.raw&&(ub.createLiteral=Wa,Wa=Xa),(ub.range||ub.loc)&&(ub.parseGroupExpression=P,ub.parseLeftHandSideExpression=X,ub.parseLeftHandSideExpressionAllowCall=W,P=Za,X=$a,W=_a,a=bb(ub.range,ub.loc),ub.parseAdditiveExpression=_,ub.parseAssignmentExpression=ja,ub.parseBitwiseANDExpression=da,ub.parseBitwiseORExpression=fa,ub.parseBitwiseXORExpression=ea,ub.parseBlock=ma,ub.parseFunctionSourceElements=Ka,ub.parseCatchClause=Ga,ub.parseComputedMember=U,ub.parseConditionalExpression=ia,ub.parseConstLetDeclaration=ra,ub.parseEqualityExpression=ca,ub.parseExpression=ka,ub.parseForVariableDeclaration=xa,ub.parseFunctionDeclaration=La,ub.parseFunctionExpression=Ma,ub.parseLogicalANDExpression=ga,ub.parseLogicalORExpression=ha,ub.parseMultiplicativeExpression=$,ub.parseNewExpression=V,ub.parseNonComputedProperty=S,ub.parseObjectProperty=N,ub.parseObjectPropertyKey=M,ub.parsePostfixExpression=Y,ub.parsePrimaryExpression=Q,ub.parseProgram=Pa,ub.parsePropertyFunction=L,ub.parseRelationalExpression=ba,ub.parseStatement=Ja,ub.parseShiftExpression=aa,ub.parseSwitchCase=Da,ub.parseUnaryExpression=Z,ub.parseVariableDeclaration=oa,ub.parseVariableIdentifier=na,_=a(ub.parseAdditiveExpression),ja=a(ub.parseAssignmentExpression),da=a(ub.parseBitwiseANDExpression),fa=a(ub.parseBitwiseORExpression),ea=a(ub.parseBitwiseXORExpression),ma=a(ub.parseBlock),Ka=a(ub.parseFunctionSourceElements),Ga=a(ub.parseCatchClause),U=a(ub.parseComputedMember),ia=a(ub.parseConditionalExpression),ra=a(ub.parseConstLetDeclaration),ca=a(ub.parseEqualityExpression),ka=a(ub.parseExpression),xa=a(ub.parseForVariableDeclaration),La=a(ub.parseFunctionDeclaration),Ma=a(ub.parseFunctionExpression),X=a(X),ga=a(ub.parseLogicalANDExpression),ha=a(ub.parseLogicalORExpression),$=a(ub.parseMultiplicativeExpression),V=a(ub.parseNewExpression),S=a(ub.parseNonComputedProperty),N=a(ub.parseObjectProperty),M=a(ub.parseObjectPropertyKey),Y=a(ub.parsePostfixExpression),Q=a(ub.parsePrimaryExpression),Pa=a(ub.parseProgram),L=a(ub.parsePropertyFunction),ba=a(ub.parseRelationalExpression),Ja=a(ub.parseStatement),aa=a(ub.parseShiftExpression),Da=a(ub.parseSwitchCase),Z=a(ub.parseUnaryExpression),oa=a(ub.parseVariableDeclaration),na=a(ub.parseVariableIdentifier)),"undefined"!=typeof ub.tokens&&(ub.advance=w,ub.scanRegExp=u,w=Ta,u=Ua)}function db(){"function"==typeof ub.skipComment&&(o=ub.skipComment),ub.raw&&(Wa=ub.createLiteral),(ub.range||ub.loc)&&(_=ub.parseAdditiveExpression,ja=ub.parseAssignmentExpression,da=ub.parseBitwiseANDExpression,fa=ub.parseBitwiseORExpression,ea=ub.parseBitwiseXORExpression,ma=ub.parseBlock,Ka=ub.parseFunctionSourceElements,Ga=ub.parseCatchClause,U=ub.parseComputedMember,ia=ub.parseConditionalExpression,ra=ub.parseConstLetDeclaration,ca=ub.parseEqualityExpression,ka=ub.parseExpression,xa=ub.parseForVariableDeclaration,La=ub.parseFunctionDeclaration,Ma=ub.parseFunctionExpression,P=ub.parseGroupExpression,X=ub.parseLeftHandSideExpression,W=ub.parseLeftHandSideExpressionAllowCall,ga=ub.parseLogicalANDExpression,ha=ub.parseLogicalORExpression,$=ub.parseMultiplicativeExpression,V=ub.parseNewExpression,S=ub.parseNonComputedProperty,N=ub.parseObjectProperty,M=ub.parseObjectPropertyKey,Q=ub.parsePrimaryExpression,Y=ub.parsePostfixExpression,Pa=ub.parseProgram,L=ub.parsePropertyFunction,ba=ub.parseRelationalExpression,Ja=ub.parseStatement,aa=ub.parseShiftExpression,Da=ub.parseSwitchCase,Z=ub.parseUnaryExpression,oa=ub.parseVariableDeclaration,na=ub.parseVariableIdentifier),"function"==typeof ub.scanRegExp&&(w=ub.advance,u=ub.scanRegExp)}function eb(a){var b,c=a.length,d=[];for(b=0;c>b;++b)d[b]=a.charAt(b);return d}function fb(a,b){var c,d;d=String,"string"==typeof a||a instanceof String||(a=d(a)),mb=a,ob=0,pb=mb.length>0?1:0,qb=0,rb=mb.length,sb=null,tb={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},ub={},"undefined"!=typeof b&&(ub.range="boolean"==typeof b.range&&b.range,ub.loc="boolean"==typeof b.loc&&b.loc,ub.raw="boolean"==typeof b.raw&&b.raw,"boolean"==typeof b.tokens&&b.tokens&&(ub.tokens=[]),"boolean"==typeof b.comment&&b.comment&&(ub.comments=[]),"boolean"==typeof b.tolerant&&b.tolerant&&(ub.errors=[])),rb>0&&"undefined"==typeof mb[0]&&(a instanceof String&&(mb=a.valueOf()),"undefined"==typeof mb[0]&&(mb=eb(a))),cb();try{c=Pa(),"undefined"!=typeof ub.comments&&(Sa(),c.comments=ub.comments),"undefined"!=typeof ub.tokens&&(Va(),c.tokens=ub.tokens),"undefined"!=typeof ub.errors&&(c.errors=ub.errors),(ub.range||ub.loc)&&(c.body=ab(c.body))}catch(e){throw e}finally{db(),ub={}}return c}var gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub;gb={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},hb={},hb[gb.BooleanLiteral]="Boolean",hb[gb.EOF]="<end>",hb[gb.Identifier]="Identifier",hb[gb.Keyword]="Keyword",hb[gb.NullLiteral]="Null",hb[gb.NumericLiteral]="Numeric",hb[gb.Punctuator]="Punctuator",hb[gb.StringLiteral]="String",ib={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},jb={Data:1,Get:2,Set:4},kb={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},lb={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},"undefined"==typeof"esprima"[0]&&(c=function(a,b){return mb.slice(a,b).join("")}),a.version="1.0.4",a.parse=fb,a.Syntax=function(){var a,b={};"function"==typeof Object.create&&(b=Object.create(null));for(a in ib)ib.hasOwnProperty(a)&&(b[a]=ib[a]);return"function"==typeof Object.freeze&&Object.freeze(b),b}()})},{}],19:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],20:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Map:a("./polyfill")},{"./is-implemented":21,"./polyfill":74}],21:[function(a,b){"use strict";b.exports=function(){var a,b,c;if("function"!=typeof Map)return!1;try{a=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(d){return!1}return 3!==a.size?!1:"function"!=typeof a.clear?!1:"function"!=typeof a["delete"]?!1:"function"!=typeof a.entries?!1:"function"!=typeof a.forEach?!1:"function"!=typeof a.get?!1:"function"!=typeof a.has?!1:"function"!=typeof a.keys?!1:"function"!=typeof a.set?!1:"function"!=typeof a.values?!1:(b=a.entries(),c=b.next(),c.done!==!1?!1:c.value?"raz"!==c.value[0]?!1:"one"!==c.value[1]?!1:!0:!1)}},{}],22:[function(a,b){"use strict";b.exports=function(){return"undefined"==typeof Map?!1:"[object Map]"===Object.prototype.toString.call(Map.prototype)}()},{}],23:[function(a,b){"use strict";b.exports=a("es5-ext/object/primitive-set")("key","value","key+value")},{"es5-ext/object/primitive-set":48}],24:[function(a,b){"use strict";var c,d=a("es5-ext/object/set-prototype-of"),e=a("d"),f=a("es6-iterator"),g=a("es6-symbol").toStringTag,h=a("./iterator-kinds"),i=Object.defineProperties,j=f.prototype._unBind;c=b.exports=function(a,b){return this instanceof c?(f.call(this,a.__mapKeysData__,a),b&&h[b]||(b="key+value"),void i(this,{__kind__:e("",b),__values__:e("w",a.__mapValuesData__)})):new c(a,b)},d&&d(c,f),c.prototype=Object.create(f.prototype,{constructor:e(c),_resolve:e(function(a){return"value"===this.__kind__?this.__values__[a]:"key"===this.__kind__?this.__list__[a]:[this.__list__[a],this.__values__[a]]}),_unBind:e(function(){this.__values__=null,j.call(this)}),toString:e(function(){return"[object Map Iterator]"})}),Object.defineProperty(c.prototype,g,e("c","Map Iterator"))},{"./iterator-kinds":23,d:26,"es5-ext/object/set-prototype-of":49,"es6-iterator":61,"es6-symbol":70}],25:[function(a,b){"use strict";var c,d=a("es5-ext/object/copy"),e=a("es5-ext/object/map"),f=a("es5-ext/object/valid-callable"),g=a("es5-ext/object/valid-value"),h=Function.prototype.bind,i=Object.defineProperty,j=Object.prototype.hasOwnProperty;c=function(a,b,c){var e,k=g(b)&&f(b.value);return e=d(b),delete e.writable,delete e.value,e.get=function(){return j.call(this,a)?k:(b.value=h.call(k,null==c?this:this[c]),i(this,a,b),this[a])},e},b.exports=function(a){var b=arguments[1];return e(a,function(a,d){return c(d,a,b)})}},{"es5-ext/object/copy":38,"es5-ext/object/map":46,"es5-ext/object/valid-callable":52,"es5-ext/object/valid-value":53}],26:[function(a,b){"use strict";var c,d=a("es5-ext/object/assign"),e=a("es5-ext/object/normalize-options"),f=a("es5-ext/object/is-callable"),g=a("es5-ext/string/#/contains");c=b.exports=function(a,b){var c,f,h,i,j;return arguments.length<2||"string"!=typeof a?(i=b,b=a,a=null):i=arguments[2],null==a?(c=h=!0,f=!1):(c=g.call(a,"c"),f=g.call(a,"e"),h=g.call(a,"w")),j={value:b,configurable:c,enumerable:f,writable:h},i?d(e(i),j):j},c.gs=function(a,b,c){var h,i,j,k;return"string"!=typeof a?(j=c,c=b,b=a,a=null):j=arguments[3],null==b?b=void 0:f(b)?null==c?c=void 0:f(c)||(j=c,c=void 0):(j=b,b=c=void 0),null==a?(h=!0,i=!1):(h=g.call(a,"c"),i=g.call(a,"e")),k={get:b,set:c,configurable:h,enumerable:i},j?d(e(j),k):k}},{"es5-ext/object/assign":35,"es5-ext/object/is-callable":41,"es5-ext/object/normalize-options":47,"es5-ext/string/#/contains":54}],27:[function(a,b){"use strict";var c=a("../../object/valid-value");b.exports=function(){return c(this).length=0,this}},{"../../object/valid-value":53}],28:[function(a,b){"use strict";var c=a("../../number/to-pos-integer"),d=a("../../object/valid-value"),e=Array.prototype.indexOf,f=Object.prototype.hasOwnProperty,g=Math.abs,h=Math.floor;b.exports=function(a){var b,i,j,k;if(a===a)return e.apply(this,arguments);for(i=c(d(this).length),j=arguments[1],j=isNaN(j)?0:j>=0?h(j):c(this.length)-h(g(j)),b=j;i>b;++b)if(f.call(this,b)&&(k=this[b],k!==k))return b;return-1}},{"../../number/to-pos-integer":33,"../../object/valid-value":53}],29:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Math.sign:a("./shim")},{"./is-implemented":30,"./shim":31}],30:[function(a,b){"use strict";b.exports=function(){var a=Math.sign;return"function"!=typeof a?!1:1===a(10)&&-1===a(-20)}},{}],31:[function(a,b){"use strict";b.exports=function(a){return a=Number(a),isNaN(a)||0===a?a:a>0?1:-1}},{}],32:[function(a,b){"use strict";var c=a("../math/sign"),d=Math.abs,e=Math.floor;b.exports=function(a){return isNaN(a)?0:(a=Number(a),0!==a&&isFinite(a)?c(a)*e(d(a)):a)}},{"../math/sign":29}],33:[function(a,b){"use strict";var c=a("./to-integer"),d=Math.max;b.exports=function(a){return d(0,c(a))}},{"./to-integer":32}],34:[function(a,b){"use strict";var c=a("./is-callable"),d=a("./valid-callable"),e=a("./valid-value"),f=Function.prototype.call,g=Object.keys,h=Object.prototype.propertyIsEnumerable;b.exports=function(a,b){return function(i,j){var k,l=arguments[2],m=arguments[3];return i=Object(e(i)),d(j),k=g(i),m&&k.sort(c(m)?m.bind(i):void 0),k[a](function(a,c){return h.call(i,a)?f.call(j,l,i[a],a,i,c):b})}}},{"./is-callable":41,"./valid-callable":52,"./valid-value":53}],35:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Object.assign:a("./shim")},{"./is-implemented":36,"./shim":37}],36:[function(a,b){"use strict";b.exports=function(){var a,b=Object.assign;return"function"!=typeof b?!1:(a={foo:"raz"},b(a,{bar:"dwa"},{trzy:"trzy"}),a.foo+a.bar+a.trzy==="razdwatrzy")}},{}],37:[function(a,b){"use strict";var c=a("../keys"),d=a("../valid-value"),e=Math.max;b.exports=function(a,b){var f,g,h,i=e(arguments.length,2);for(a=Object(d(a)),h=function(c){try{a[c]=b[c]}catch(d){f||(f=d)}},g=1;i>g;++g)b=arguments[g],c(b).forEach(h);if(void 0!==f)throw f;return a}},{"../keys":43,"../valid-value":53}],38:[function(a,b){"use strict";var c=a("./assign"),d=a("./valid-value");b.exports=function(a){var b=Object(d(a));return b!==a?b:c({},a)}},{"./assign":35,"./valid-value":53}],39:[function(a,b){"use strict";var c,d=Object.create;a("./set-prototype-of/is-implemented")()||(c=a("./set-prototype-of/shim")),b.exports=function(){var a,b,e;return c?1!==c.level?d:(a={},b={},e={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(a){return"__proto__"===a?void(b[a]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(b[a]=e)}),Object.defineProperties(a,b),Object.defineProperty(c,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(b,c){return d(null===b?a:b,c)}):d}()},{"./set-prototype-of/is-implemented":50,"./set-prototype-of/shim":51}],40:[function(a,b){"use strict";b.exports=a("./_iterate")("forEach")},{"./_iterate":34}],41:[function(a,b){"use strict";b.exports=function(a){return"function"==typeof a}},{}],42:[function(a,b){"use strict";var c={"function":!0,object:!0};b.exports=function(a){return null!=a&&c[typeof a]||!1}},{}],43:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Object.keys:a("./shim")},{"./is-implemented":44,"./shim":45}],44:[function(a,b){"use strict";b.exports=function(){try{return Object.keys("primitive"),!0}catch(a){return!1}}},{}],45:[function(a,b){"use strict";var c=Object.keys;b.exports=function(a){return c(null==a?a:Object(a))}},{}],46:[function(a,b){"use strict";var c=a("./valid-callable"),d=a("./for-each"),e=Function.prototype.call;b.exports=function(a,b){var f={},g=arguments[2];return c(b),d(a,function(a,c,d,h){f[c]=e.call(b,g,a,c,d,h)}),f}},{"./for-each":40,"./valid-callable":52}],47:[function(a,b){"use strict";var c=Array.prototype.forEach,d=Object.create,e=function(a,b){var c;for(c in a)b[c]=a[c]};b.exports=function(){var a=d(null);return c.call(arguments,function(b){null!=b&&e(Object(b),a)}),a}},{}],48:[function(a,b){"use strict";var c=Array.prototype.forEach,d=Object.create;b.exports=function(){var a=d(null);return c.call(arguments,function(b){a[b]=!0}),a}},{}],49:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Object.setPrototypeOf:a("./shim")},{"./is-implemented":50,"./shim":51}],50:[function(a,b){"use strict";var c=Object.create,d=Object.getPrototypeOf,e={};b.exports=function(){var a=Object.setPrototypeOf,b=arguments[0]||c;return"function"!=typeof a?!1:d(a(b(null),e))===e}},{}],51:[function(a,b){"use strict";var c,d=a("../is-object"),e=a("../valid-value"),f=Object.prototype.isPrototypeOf,g=Object.defineProperty,h={configurable:!0,enumerable:!1,writable:!0,value:void 0};c=function(a,b){if(e(a),null===b||d(b))return a;throw new TypeError("Prototype must be null or an object")},b.exports=function(a){var b,d;return a?(2===a.level?a.set?(d=a.set,b=function(a,b){return d.call(c(a,b),b),a}):b=function(a,b){return c(a,b).__proto__=b,a}:b=function e(a,b){var d;return c(a,b),d=f.call(e.nullPolyfill,a),d&&delete e.nullPolyfill.__proto__,null===b&&(b=e.nullPolyfill),a.__proto__=b,d&&g(e.nullPolyfill,"__proto__",h),a},Object.defineProperty(b,"level",{configurable:!1,enumerable:!1,writable:!1,value:a.level})):null}(function(){var a,b=Object.create(null),c={},d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(d){try{a=d.set,a.call(b,c)}catch(e){}if(Object.getPrototypeOf(b)===c)return{set:a,level:2}}return b.__proto__=c,Object.getPrototypeOf(b)===c?{level:2}:(b={},b.__proto__=c,Object.getPrototypeOf(b)===c?{level:1}:!1)}()),a("../create")},{"../create":39,"../is-object":42,"../valid-value":53}],52:[function(a,b){"use strict";b.exports=function(a){if("function"!=typeof a)throw new TypeError(a+" is not a function");return a}},{}],53:[function(a,b){"use strict";b.exports=function(a){if(null==a)throw new TypeError("Cannot use null or undefined");return a}},{}],54:[function(a,b){"use strict";b.exports=a("./is-implemented")()?String.prototype.contains:a("./shim")},{"./is-implemented":55,"./shim":56}],55:[function(a,b){"use strict";var c="razdwatrzy";b.exports=function(){return"function"!=typeof c.contains?!1:c.contains("dwa")===!0&&c.contains("foo")===!1}},{}],56:[function(a,b){"use strict";var c=String.prototype.indexOf;b.exports=function(a){return c.call(this,a,arguments[1])>-1}},{}],57:[function(a,b){"use strict";var c=Object.prototype.toString,d=c.call("");b.exports=function(a){return"string"==typeof a||a&&"object"==typeof a&&(a instanceof String||c.call(a)===d)||!1}},{}],58:[function(a,b){"use strict";var c,d=a("es5-ext/object/set-prototype-of"),e=a("es5-ext/string/#/contains"),f=a("d"),g=a("./"),h=Object.defineProperty;c=b.exports=function(a,b){return this instanceof c?(g.call(this,a),b=b?e.call(b,"key+value")?"key+value":e.call(b,"key")?"key":"value":"value",void h(this,"__kind__",f("",b))):new c(a,b)},d&&d(c,g),c.prototype=Object.create(g.prototype,{constructor:f(c),_resolve:f(function(a){return"value"===this.__kind__?this.__list__[a]:"key+value"===this.__kind__?[a,this.__list__[a]]:a}),toString:f(function(){return"[object Array Iterator]"})})},{"./":61,d:26,"es5-ext/object/set-prototype-of":49,"es5-ext/string/#/contains":54}],59:[function(a,b){"use strict";var c=a("es5-ext/object/valid-callable"),d=a("es5-ext/string/is-string"),e=a("./get"),f=Array.isArray,g=Function.prototype.call;b.exports=function(a,b){var h,i,j,k,l,m,n,o,p=arguments[2];if(f(a)?h="array":d(a)?h="string":a=e(a),c(b),j=function(){k=!0},"array"===h)return void a.some(function(a){return g.call(b,p,a,j),k?!0:void 0});if("string"!==h)for(i=a.next();!i.done;){if(g.call(b,p,i.value,j),k)return;i=a.next()}else for(m=a.length,l=0;m>l&&(n=a[l],m>l+1&&(o=n.charCodeAt(0),o>=55296&&56319>=o&&(n+=a[++l])),g.call(b,p,n,j),!k);++l);}},{"./get":60,"es5-ext/object/valid-callable":52,"es5-ext/string/is-string":57}],60:[function(a,b){"use strict";var c=a("es5-ext/string/is-string"),d=a("./array"),e=a("./string"),f=a("./valid-iterable"),g=a("es6-symbol").iterator;b.exports=function(a){return"function"==typeof f(a)[g]?a[g]():c(a)?new e(a):new d(a)}},{"./array":58,"./string":68,"./valid-iterable":69,"es5-ext/string/is-string":57,"es6-symbol":63}],61:[function(a,b){"use strict";var c,d=a("es5-ext/array/#/clear"),e=a("es5-ext/object/assign"),f=a("es5-ext/object/valid-callable"),g=a("es5-ext/object/valid-value"),h=a("d"),i=a("d/auto-bind"),j=a("es6-symbol"),k=Object.defineProperty,l=Object.defineProperties;b.exports=c=function(a,b){return this instanceof c?(l(this,{__list__:h("w",g(a)),__context__:h("w",b),__nextIndex__:h("w",0)}),void(b&&(f(b.on),b.on("_add",this._onAdd),b.on("_delete",this._onDelete),b.on("_clear",this._onClear)))):new c(a,b)},l(c.prototype,e({constructor:h(c),_next:h(function(){var a;if(this.__list__)return this.__redo__&&(a=this.__redo__.shift(),void 0!==a)?a:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:h(function(){return this._createResult(this._next())}),_createResult:h(function(a){return void 0===a?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:h(function(a){return this.__list__[a]}),_unBind:h(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:h(function(){return"[object Iterator]"})},i({_onAdd:h(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void k(this,"__redo__",h("c",[a]));this.__redo__.forEach(function(b,c){b>=a&&(this.__redo__[c]=++b)},this),this.__redo__.push(a)}}),_onDelete:h(function(a){var b;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(b=this.__redo__.indexOf(a),-1!==b&&this.__redo__.splice(b,1),this.__redo__.forEach(function(b,c){b>a&&(this.__redo__[c]=--b)},this)))}),_onClear:h(function(){this.__redo__&&d.call(this.__redo__),this.__nextIndex__=0})}))),k(c.prototype,j.iterator,h(function(){return this})),k(c.prototype,j.toStringTag,h("","Iterator"))},{d:26,"d/auto-bind":25,"es5-ext/array/#/clear":27,"es5-ext/object/assign":35,"es5-ext/object/valid-callable":52,"es5-ext/object/valid-value":53,"es6-symbol":63}],62:[function(a,b){"use strict";var c=a("es5-ext/string/is-string"),d=a("es6-symbol").iterator,e=Array.isArray;b.exports=function(a){return null==a?!1:e(a)?!0:c(a)?!0:"function"==typeof a[d]}},{"es5-ext/string/is-string":57,"es6-symbol":63}],63:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Symbol:a("./polyfill")},{"./is-implemented":64,"./polyfill":66}],64:[function(a,b){"use strict";b.exports=function(){var a;if("function"!=typeof Symbol)return!1;a=Symbol("test symbol");try{String(a)}catch(b){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"!=typeof Symbol.unscopables?!1:!0}},{}],65:[function(a,b){"use strict";b.exports=function(a){return a&&("symbol"==typeof a||"Symbol"===a["@@toStringTag"])||!1}},{}],66:[function(a,b){"use strict";var c,d,e=a("d"),f=a("./validate-symbol"),g=Object.create,h=Object.defineProperties,i=Object.defineProperty,j=Object.prototype,k=g(null),l=function(){var a=g(null);return function(b){for(var c,d=0;a[b+(d||"")];)++d;return b+=d||"",a[b]=!0,c="@@"+b,i(j,c,e.gs(null,function(a){i(this,c,e(a))})),c}}();d=function m(a){if(this instanceof d)throw new TypeError("TypeError: Symbol is not a constructor");return m(a)},b.exports=c=function n(a){var b;if(this instanceof n)throw new TypeError("TypeError: Symbol is not a constructor");return b=g(d.prototype),a=void 0===a?"":String(a),h(b,{__description__:e("",a),__name__:e("",l(a))})},h(c,{"for":e(function(a){return k[a]?k[a]:k[a]=c(String(a))}),keyFor:e(function(a){var b;f(a);for(b in k)if(k[b]===a)return b}),hasInstance:e("",c("hasInstance")),isConcatSpreadable:e("",c("isConcatSpreadable")),iterator:e("",c("iterator")),match:e("",c("match")),replace:e("",c("replace")),search:e("",c("search")),species:e("",c("species")),split:e("",c("split")),toPrimitive:e("",c("toPrimitive")),toStringTag:e("",c("toStringTag")),unscopables:e("",c("unscopables"))}),h(d.prototype,{constructor:e(c),toString:e("",function(){return this.__name__})}),h(c.prototype,{toString:e(function(){return"Symbol ("+f(this).__description__+")"}),valueOf:e(function(){return f(this)})}),i(c.prototype,c.toPrimitive,e("",function(){
return f(this)})),i(c.prototype,c.toStringTag,e("c","Symbol")),i(d.prototype,c.toPrimitive,e("c",c.prototype[c.toPrimitive])),i(d.prototype,c.toStringTag,e("c",c.prototype[c.toStringTag]))},{"./validate-symbol":67,d:26}],67:[function(a,b){"use strict";var c=a("./is-symbol");b.exports=function(a){if(!c(a))throw new TypeError(a+" is not a symbol");return a}},{"./is-symbol":65}],68:[function(a,b){"use strict";var c,d=a("es5-ext/object/set-prototype-of"),e=a("d"),f=a("./"),g=Object.defineProperty;c=b.exports=function(a){return this instanceof c?(a=String(a),f.call(this,a),void g(this,"__length__",e("",a.length))):new c(a)},d&&d(c,f),c.prototype=Object.create(f.prototype,{constructor:e(c),_next:e(function(){return this.__list__?this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind():void 0}),_resolve:e(function(a){var b,c=this.__list__[a];return this.__nextIndex__===this.__length__?c:(b=c.charCodeAt(0),b>=55296&&56319>=b?c+this.__list__[this.__nextIndex__++]:c)}),toString:e(function(){return"[object String Iterator]"})})},{"./":61,d:26,"es5-ext/object/set-prototype-of":49}],69:[function(a,b){"use strict";var c=a("./is-iterable");b.exports=function(a){if(!c(a))throw new TypeError(a+" is not iterable");return a}},{"./is-iterable":62}],70:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"./is-implemented":71,"./polyfill":72,dup:63}],71:[function(a,b){"use strict";b.exports=function(){var a;if("function"!=typeof Symbol)return!1;a=Symbol("test symbol");try{String(a)}catch(b){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.isRegExp?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"!=typeof Symbol.unscopables?!1:!0}},{}],72:[function(a,b){"use strict";var c,d,e=a("d"),f=Object.create,g=Object.defineProperties;c=function(){var a=f(null);return function(b){for(var c=0;a[b+(c||"")];)++c;return b+=c||"",a[b]=!0,"@@"+b}}(),b.exports=d=function(a){var b;if(this instanceof d)throw new TypeError("TypeError: Symbol is not a constructor");return b=f(d.prototype),a=void 0===a?"":String(a),g(b,{__description__:e("",a),__name__:e("",c(a))})},Object.defineProperties(d,{create:e("",d("create")),hasInstance:e("",d("hasInstance")),isConcatSpreadable:e("",d("isConcatSpreadable")),isRegExp:e("",d("isRegExp")),iterator:e("",d("iterator")),toPrimitive:e("",d("toPrimitive")),toStringTag:e("",d("toStringTag")),unscopables:e("",d("unscopables"))}),g(d.prototype,{properToString:e(function(){return"Symbol ("+this.__description__+")"}),toString:e("",function(){return this.__name__})}),Object.defineProperty(d.prototype,d.toPrimitive,e("",function(){throw new TypeError("Conversion of symbol objects is not allowed")})),Object.defineProperty(d.prototype,d.toStringTag,e("c","Symbol"))},{d:26}],73:[function(a,b,c){"use strict";var d,e,f,g,h,i,j,k=a("d"),l=a("es5-ext/object/valid-callable"),m=Function.prototype.apply,n=Function.prototype.call,o=Object.create,p=Object.defineProperty,q=Object.defineProperties,r=Object.prototype.hasOwnProperty,s={configurable:!0,enumerable:!1,writable:!0};d=function(a,b){var c;return l(b),r.call(this,"__ee__")?c=this.__ee__:(c=s.value=o(null),p(this,"__ee__",s),s.value=null),c[a]?"object"==typeof c[a]?c[a].push(b):c[a]=[c[a],b]:c[a]=b,this},e=function(a,b){var c,e;return l(b),e=this,d.call(this,a,c=function(){f.call(e,a,c),m.call(b,this,arguments)}),c.__eeOnceListener__=b,this},f=function(a,b){var c,d,e,f;if(l(b),!r.call(this,"__ee__"))return this;if(c=this.__ee__,!c[a])return this;if(d=c[a],"object"==typeof d)for(f=0;e=d[f];++f)(e===b||e.__eeOnceListener__===b)&&(2===d.length?c[a]=d[f?0:1]:d.splice(f,1));else(d===b||d.__eeOnceListener__===b)&&delete c[a];return this},g=function(a){var b,c,d,e,f;if(r.call(this,"__ee__")&&(e=this.__ee__[a]))if("object"==typeof e){for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];for(e=e.slice(),b=0;d=e[b];++b)m.call(d,this,f)}else switch(arguments.length){case 1:n.call(e,this);break;case 2:n.call(e,this,arguments[1]);break;case 3:n.call(e,this,arguments[1],arguments[2]);break;default:for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];m.call(e,this,f)}},h={on:d,once:e,off:f,emit:g},i={on:k(d),once:k(e),off:k(f),emit:k(g)},j=q({},i),b.exports=c=function(a){return null==a?o(j):q(Object(a),i)},c.methods=h},{d:26,"es5-ext/object/valid-callable":52}],74:[function(a,b){"use strict";var c,d=a("es5-ext/array/#/clear"),e=a("es5-ext/array/#/e-index-of"),f=a("es5-ext/object/set-prototype-of"),g=a("es5-ext/object/valid-callable"),h=a("es5-ext/object/valid-value"),i=a("d"),j=a("event-emitter"),k=a("es6-symbol"),l=a("es6-iterator/valid-iterable"),m=a("es6-iterator/for-of"),n=a("./lib/iterator"),o=a("./is-native-implemented"),p=Function.prototype.call,q=Object.defineProperties;b.exports=c=function(){var a,b,d=arguments[0];if(!(this instanceof c))return new c(d);if(void 0!==this.__mapKeysData__)throw new TypeError(this+" cannot be reinitialized");null!=d&&l(d),q(this,{__mapKeysData__:i("c",a=[]),__mapValuesData__:i("c",b=[])}),d&&m(d,function(c){var d=h(c)[0];c=c[1],-1===e.call(a,d)&&(a.push(d),b.push(c))},this)},o&&(f&&f(c,Map),c.prototype=Object.create(Map.prototype,{constructor:i(c)})),j(q(c.prototype,{clear:i(function(){this.__mapKeysData__.length&&(d.call(this.__mapKeysData__),d.call(this.__mapValuesData__),this.emit("_clear"))}),"delete":i(function(a){var b=e.call(this.__mapKeysData__,a);return-1===b?!1:(this.__mapKeysData__.splice(b,1),this.__mapValuesData__.splice(b,1),this.emit("_delete",b,a),!0)}),entries:i(function(){return new n(this,"key+value")}),forEach:i(function(a){var b,c,d=arguments[1];for(g(a),b=this.entries(),c=b._next();void 0!==c;)p.call(a,d,this.__mapValuesData__[c],this.__mapKeysData__[c],this),c=b._next()}),get:i(function(a){var b=e.call(this.__mapKeysData__,a);if(-1!==b)return this.__mapValuesData__[b]}),has:i(function(a){return-1!==e.call(this.__mapKeysData__,a)}),keys:i(function(){return new n(this,"key")}),set:i(function(a,b){var c,d=e.call(this.__mapKeysData__,a);return-1===d&&(d=this.__mapKeysData__.push(a)-1,c=!0),this.__mapValuesData__[d]=b,c&&this.emit("_add",d,a),this}),size:i.gs(function(){return this.__mapKeysData__.length}),values:i(function(){return new n(this,"value")}),toString:i(function(){return"[object Map]"})})),Object.defineProperty(c.prototype,k.iterator,i(function(){return this.entries()})),Object.defineProperty(c.prototype,k.toStringTag,i("c","Map"))},{"./is-native-implemented":22,"./lib/iterator":24,d:26,"es5-ext/array/#/clear":27,"es5-ext/array/#/e-index-of":28,"es5-ext/object/set-prototype-of":49,"es5-ext/object/valid-callable":52,"es5-ext/object/valid-value":53,"es6-iterator/for-of":59,"es6-iterator/valid-iterable":69,"es6-symbol":70,"event-emitter":73}],75:[function(a,b){var c=function(a,b){if(0>=b)throw new Error("Variance must be > 0 (but was "+b+")");var d=Math.sqrt(b),e=1/b,f=e*a,g=function(a){var b=Math.abs(a),c=1/(1+b/2),d=c*Math.exp(-b*b-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c)))))))));return a>=0?d:2-d},h=function(a){if(a>=2)return-100;if(0>=a)return 100;for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),e=0;2>e;e++){var f=g(d)-b;d+=f/(1.1283791670955126*Math.exp(-(d*d))-d*f)}return 1>a?d:-d},i=function(a,b){var d=b/a,e=1/a;return new c(d,e)};return{mean:a,variance:b,standardDeviation:d,precision:e,precisionmean:f,pdf:function(c){var e=d*Math.sqrt(2*Math.PI),f=Math.exp(-Math.pow(c-a,2)/(2*b));return f/e},cdf:function(b){return.5*g(-(b-a)/(d*Math.sqrt(2)))},ppf:function(b){return a-d*Math.sqrt(2)*h(2*b)},mul:function(a){return i(e+a.precision,f+a.precisionmean)},div:function(a){return i(e-a.precision,f-a.precisionmean)}}};b.exports=function(a,b){return new c(a,b)}},{}],76:[function(a,b,c){(function(a){(function(){function d(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function e(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b]?0:-1;"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:u+b;return a=(a=a[c])&&a[e],"object"==c?a&&d(a,b)>-1?0:-1:a?0:-1}function f(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function g(a){return a.charCodeAt(0)}function h(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function i(a){var b=-1,c=a.length,d=a[0],e=a[c/2|0],g=a[c-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&g&&"object"==typeof g)return!1;var h=l();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=l();for(i.array=a,i.cache=h,i.push=f;++b<c;)i.push(a[b]);return i}function j(a){return"\\"+Y[a]}function k(){return r.pop()||[]}function l(){return s.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(a){a.length=0,r.length<w&&r.push(a)}function n(a){var b=a.cache;b&&n(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,s.length<w&&s.push(a)}function o(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function p(a){function b(a){return a&&"object"==typeof a&&!Zc(a)&&Hc.call(a,"__wrapped__")?a:new c(a)}function c(a,b){this.__chain__=!!b,this.__wrapped__=a}function f(a){function b(){if(d){var a=o(d);Ic.apply(a,arguments)}if(this instanceof b){var f=s(c.prototype),g=c.apply(f,a||arguments);return Ea(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yc(b,a),b}function r(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Ea(a);if(!g)return a;var h=Ac.call(a);if(!U[h])return a;var i=Wc[h];switch(h){case N:case O:return new i(+a);case Q:case T:return new i(a);case S:return f=i(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}var j=Zc(a);if(b){var l=!d;d||(d=k()),e||(e=k());for(var n=d.length;n--;)if(d[n]==a)return e[n];f=j?i(a.length):{}}else f=j?o(a):ed({},a);return j&&(Hc.call(a,"index")&&(f.index=a.index),Hc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(j?Ya:hd)(a,function(a,g){f[g]=r(a,b,c,d,e)}),l&&(m(d),m(e)),f):f}function s(a){return Ea(a)?Nc(a):{}}function w(a,b,c){if("function"!=typeof a)return Zb;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xc.funcNames&&(d=!a.name),d=d||!Xc.funcDecomp,!d)){var e=Fc.call(a);Xc.funcNames||(d=!D.test(e)),d||(d=H.test(e),Yc(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ib(a,b)}function Y(a){function b(){var a=i?g:this;if(e){var n=o(e);Ic.apply(n,arguments)}if((f||k)&&(n||(n=o(arguments)),f&&Ic.apply(n,f),k&&n.length<h))return d|=16,Y([c,l?d:-4&d,n,null,g,h]);if(n||(n=arguments),j&&(c=a[m]),this instanceof b){a=s(c.prototype);var p=c.apply(a,n);return Ea(p)?p:a}return c.apply(a,n)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return Yc(b,a),b}function $(a,b){var c=-1,f=ia(),g=a?a.length:0,h=g>=v&&f===d,j=[];if(h){var k=i(b);k?(f=e,b=k):h=!1}for(;++c<g;){var l=a[c];f(b,l)<0&&j.push(l)}return h&&n(b),j}function _(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zc(h)||ma(h))){b||(h=_(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function aa(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,i=typeof b;if(!(a!==a||a&&X[h]||b&&X[i]))return!1;if(null==a||null==b)return a===b;var j=Ac.call(a),l=Ac.call(b);if(j==L&&(j=R),l==L&&(l=R),j!=l)return!1;switch(j){case N:case O:return+a==+b;case Q:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case S:case T:return a==vc(b)}var n=j==M;if(!n){var o=Hc.call(a,"__wrapped__"),p=Hc.call(b,"__wrapped__");if(o||p)return aa(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(j!=R)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Da(q)&&q instanceof q&&Da(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=k()),f||(f=k());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=aa(a[v],w,c,d,e,f)););else if(!(g=aa(a[u],w,c,d,e,f)))break}}else gd(b,function(b,h,i){return Hc.call(i,h)?(u++,g=Hc.call(a,h)&&aa(a[h],b,c,d,e,f)):void 0}),g&&!d&&gd(a,function(a,b,c){return Hc.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(m(e),m(f)),g}function ba(a,b,c,d,e){(Zc(b)?Ya:hd)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zc(b))||id(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zc(j)?j:[]:id(j)?j:{}),d.push(b),e.push(j),l||ba(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function da(a,b){return a+Ec(Vc()*(b-a+1))}function ea(a,b,c){var f=-1,g=ia(),h=a?a.length:0,j=[],l=!b&&h>=v&&g===d,o=c||l?k():j;if(l){var p=i(o);g=e,o=p}for(;++f<h;){var q=a[f],r=c?c(q,f,a):q;(b?!f||o[o.length-1]!==r:g(o,r)<0)&&((c||l)&&o.push(r),j.push(q))}return l?(m(o.array),n(o)):c&&m(o),j}function fa(a){return function(c,d,e){var f={};d=b.createCallback(d,e,3);var g=-1,h=c?c.length:0;if("number"==typeof h)for(;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else hd(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function ga(a,b,c,d,e,g){var h=1&b,i=2&b,j=4&b,k=16&b,l=32&b;if(!i&&!Da(a))throw new wc;k&&!c.length&&(b&=-17,k=c=!1),l&&!d.length&&(b&=-33,l=d=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=o(m),m[2]&&(m[2]=o(m[2])),m[3]&&(m[3]=o(m[3])),!h||1&m[1]||(m[4]=e),!h&&1&m[1]&&(b|=8),!j||4&m[1]||(m[5]=g),k&&Ic.apply(m[2]||(m[2]=[]),c),l&&Lc.apply(m[3]||(m[3]=[]),d),m[1]|=b,ga.apply(null,m);var n=1==b||17===b?f:Y;return n([a,b,c,d,e,g])}function ha(a){return ad[a]}function ia(){var a=(a=b.indexOf)===rb?d:a;return a}function ja(a){return"function"==typeof a&&Bc.test(a)}function ka(a){var b,c;return a&&Ac.call(a)==R&&(b=a.constructor,!Da(b)||b instanceof b)?(gd(a,function(a,b){c=b}),"undefined"==typeof c||Hc.call(a,c)):!1}function la(a){return bd[a]}function ma(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==L||!1}function na(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),r(a,b,"function"==typeof c&&w(c,d,1))}function oa(a,b,c){return r(a,!0,"function"==typeof b&&w(b,c,1))}function pa(a,b){var c=s(a);return b?ed(c,b):c}function qa(a,c,d){var e;return c=b.createCallback(c,d,3),hd(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function ra(a,c,d){var e;return c=b.createCallback(c,d,3),ta(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function sa(a,b,c){var d=[];gd(a,function(a,b){d.push(b,a)});var e=d.length;for(b=w(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function ta(a,b,c){var d=_c(a),e=d.length;for(b=w(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ua(a){var b=[];return gd(a,function(a,c){Da(a)&&b.push(c)}),b.sort()}function va(a,b){return a?Hc.call(a,b):!1}function wa(a){for(var b=-1,c=_c(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xa(a){return a===!0||a===!1||a&&"object"==typeof a&&Ac.call(a)==N||!1}function ya(a){return a&&"object"==typeof a&&Ac.call(a)==O||!1}function za(a){return a&&1===a.nodeType||!1}function Aa(a){var b=!0;if(!a)return b;var c=Ac.call(a),d=a.length;return c==M||c==T||c==L||c==R&&"number"==typeof d&&Da(a.splice)?!d:(hd(a,function(){return b=!1}),b)}function Ba(a,b,c,d){return aa(a,b,"function"==typeof c&&w(c,d,2))}function Ca(a){return Pc(a)&&!Qc(parseFloat(a))}function Da(a){return"function"==typeof a}function Ea(a){return!(!a||!X[typeof a])}function Fa(a){return Ha(a)&&a!=+a}function Ga(a){return null===a}function Ha(a){return"number"==typeof a||a&&"object"==typeof a&&Ac.call(a)==Q||!1}function Ia(a){return a&&"object"==typeof a&&Ac.call(a)==S||!1}function Ja(a){return"string"==typeof a||a&&"object"==typeof a&&Ac.call(a)==T||!1}function Ka(a){return"undefined"==typeof a}function La(a,c,d){var e={};return c=b.createCallback(c,d,3),hd(a,function(a,b,d){e[b]=c(a,b,d)}),e}function Ma(a){var b=arguments,c=2;if(!Ea(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=w(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=o(arguments,1,c),f=-1,g=k(),h=k();++f<c;)ba(a,e[f],d,g,h);return m(g),m(h),a}function Na(a,c,d){var e={};if("function"!=typeof c){var f=[];gd(a,function(a,b){f.push(b)}),f=$(f,_(arguments,!0,!1,1));for(var g=-1,h=f.length;++g<h;){var i=f[g];e[i]=a[i]}}else c=b.createCallback(c,d,3),gd(a,function(a,b,d){c(a,b,d)||(e[b]=a)});return e}function Oa(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pa(a,c,d){var e={};if("function"!=typeof c)for(var f=-1,g=_(arguments,!0,!1,1),h=Ea(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else c=b.createCallback(c,d,3),gd(a,function(a,b,d){c(a,b,d)&&(e[b]=a)});return e}function Qa(a,c,d,e){var f=Zc(a);if(null==d)if(f)d=[];else{var g=a&&a.constructor,h=g&&g.prototype;d=s(h)}return c&&(c=b.createCallback(c,e,4),(f?Ya:hd)(a,function(a,b,e){return c(d,a,b,e)})),d}function Ra(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;)e[b]=a[c[b]];return e}function Sa(a){for(var b=arguments,c=-1,d=_(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nc(e);++c<e;)f[c]=a[d[c]];return f}function Ta(a,b,c){var d=-1,e=ia(),f=a?a.length:0,g=!1;return c=(0>c?Sc(0,f+c):c)||0,Zc(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Ja(a)?a.indexOf(b,c):e(a,b,c))>-1:hd(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Ua(a,c,d){var e=!0;c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!c(a[f],f,a)););else hd(a,function(a,b,d){return e=!!c(a,b,d)});return e}function Va(a,c,d){var e=[];c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var h=a[f];c(h,f,a)&&e.push(h)}else hd(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e}function Wa(a,c,d){c=b.createCallback(c,d,3);var e=-1,f=a?a.length:0;if("number"!=typeof f){var g;return hd(a,function(a,b,d){return c(a,b,d)?(g=a,!1):void 0}),g}for(;++e<f;){var h=a[e];if(c(h,e,a))return h}}function Xa(a,c,d){var e;return c=b.createCallback(c,d,3),Za(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}function Ya(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:w(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else hd(a,b);return a}function Za(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:w(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_c(a);d=e.length,hd(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $a(a,b){var c=o(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nc("number"==typeof f?f:0);return Ya(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _a(a,c,d){var e=-1,f=a?a.length:0;if(c=b.createCallback(c,d,3),"number"==typeof f)for(var g=nc(f);++e<f;)g[e]=c(a[e],e,a);else g=[],hd(a,function(a,b,d){g[++e]=c(a,b,d)});return g}function ab(a,c,d){var e=-(1/0),f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>f&&(f=j)}else c=null==c&&Ja(a)?g:b.createCallback(c,d,3),Ya(a,function(a,b,d){var g=c(a,b,d);g>e&&(e=g,f=a)});return f}function bb(a,c,d){var e=1/0,f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];f>j&&(f=j)}else c=null==c&&Ja(a)?g:b.createCallback(c,d,3),Ya(a,function(a,b,d){var g=c(a,b,d);e>g&&(e=g,f=a)});return f}function cb(a,c,d,e){if(!a)return d;var f=arguments.length<3;c=b.createCallback(c,e,4);var g=-1,h=a.length;if("number"==typeof h)for(f&&(d=a[++g]);++g<h;)d=c(d,a[g],g,a);else hd(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)});return d}function db(a,c,d,e){var f=arguments.length<3;return c=b.createCallback(c,e,4),Za(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)}),d}function eb(a,c,d){return c=b.createCallback(c,d,3),Va(a,function(a,b,d){return!c(a,b,d)})}function fb(a,b,c){if(a&&"number"!=typeof a.length&&(a=Ra(a)),null==b||c)return a?a[da(0,a.length-1)]:q;var d=gb(a);return d.length=Tc(Sc(0,b),d.length),d}function gb(a){var b=-1,c=a?a.length:0,d=nc("number"==typeof c?c:0);return Ya(a,function(a){var c=da(0,++b);d[b]=d[c],d[c]=a}),d}function hb(a){var b=a?a.length:0;return"number"==typeof b?b:_c(a).length}function ib(a,c,d){var e;c=b.createCallback(c,d,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=c(a[f],f,a)););else hd(a,function(a,b,d){return!(e=c(a,b,d))});return!!e}function jb(a,c,d){var e=-1,f=Zc(c),g=a?a.length:0,i=nc("number"==typeof g?g:0);for(f||(c=b.createCallback(c,d,3)),Ya(a,function(a,b,d){var g=i[++e]=l();f?g.criteria=_a(c,function(b){return a[b]}):(g.criteria=k())[0]=c(a,b,d),g.index=e,g.value=a}),g=i.length,i.sort(h);g--;){var j=i[g];i[g]=j.value,f||m(j.criteria),n(j)}return i}function kb(a){return a&&"number"==typeof a.length?o(a):Ra(a)}function lb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mb(a){return $(a,_(arguments,!0,!0,1))}function nb(a,c,d){var e=-1,f=a?a.length:0;for(c=b.createCallback(c,d,3);++e<f;)if(c(a[e],e,a))return e;return-1}function ob(a,c,d){var e=a?a.length:0;for(c=b.createCallback(c,d,3);e--;)if(c(a[e],e,a))return e;return-1}function pb(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=b.createCallback(c,d,3);++g<f&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[0]:q;return o(a,0,Tc(Sc(0,e),f))}function qb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_a(a,c,d)),_(a,b)}function rb(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?Sc(0,e+c):c||0}else if(c){var f=Ab(a,b);return a[f]===b?f:-1}return d(a,b,c)}function sb(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else e=null==c||d?1:c||e;return o(a,0,Tc(Sc(0,f-e),f))}function tb(){for(var a=[],b=-1,c=arguments.length,f=k(),g=ia(),h=g===d,j=k();++b<c;){var l=arguments[b];(Zc(l)||ma(l))&&(a.push(l),f.push(h&&l.length>=v&&i(b?a[b]:j)))}var o=a[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=f[0];if(l=o[p],(s?e(s,l):g(j,l))<0){for(b=c,(s||j).push(l);--b;)if(s=f[b],(s?e(s,l):g(a[b],l))<0)continue a;r.push(l)}}for(;c--;)s=f[c],s&&n(s);return m(f),m(j),r}function ub(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[f-1]:q;return o(a,Sc(0,f-e))}function vb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Sc(0,d+c):Tc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wb(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kc.call(a,f--,1),e--);return a}function xb(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sc(0,Cc((b-a)/(c||1))),f=nc(e);++d<e;)f[d]=a,a+=c;return f}function yb(a,c,d){var e=-1,f=a?a.length:0,g=[];for(c=b.createCallback(c,d,3);++e<f;){var h=a[e];c(h,e,a)&&(g.push(h),Kc.call(a,e--,1),f--)}return g}function zb(a,c,d){if("number"!=typeof c&&null!=c){var e=0,f=-1,g=a?a.length:0;for(c=b.createCallback(c,d,3);++f<g&&c(a[f],f,a);)e++}else e=null==c||d?1:Sc(0,c);return o(a,e)}function Ab(a,c,d,e){var f=0,g=a?a.length:f;for(d=d?b.createCallback(d,e,1):Zb,c=d(c);g>f;){var h=f+g>>>1;d(a[h])<c?f=h+1:g=h}return f}function Bb(){return ea(_(arguments,!0,!0))}function Cb(a,c,d,e){return"boolean"!=typeof c&&null!=c&&(e=d,d="function"!=typeof c&&e&&e[c]===a?null:c,c=!1),null!=d&&(d=b.createCallback(d,e,3)),ea(a,c,d)}function Db(a){return $(a,o(arguments,1))}function Eb(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zc(c)||ma(c))var d=d?ea($(d,c).concat($(c,d))):c}return d||[]}function Fb(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ab(md(a,"length")):0,d=nc(0>c?0:c);++b<c;)d[b]=md(a,b);return d}function Gb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hb(a,b){if(!Da(b))throw new wc;return function(){return--a<1?b.apply(this,arguments):void 0}}function Ib(a,b){return arguments.length>2?ga(a,17,o(arguments,2),null,b):ga(a,1,null,null,b)}function Jb(a){for(var b=arguments.length>1?_(arguments,!0,!1,1):ua(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ga(a[e],1,null,null,a)}return a}function Kb(a,b){return arguments.length>2?ga(b,19,o(arguments,2),null,a):ga(b,3,null,null,a)}function Lb(){for(var a=arguments,b=a.length;b--;)if(!Da(a[b]))throw new wc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mb(a,b){return b="number"==typeof b?b:+b||a.length,ga(a,4,null,null,null,b)}function Nb(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Da(a))throw new wc;if(b=Sc(0,b)||0,c===!0){var n=!0;m=!1}else Ea(c)&&(n=c.leading,l="maxWait"in c&&(Sc(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(od()-g);if(0>=c){e&&Dc(e);var l=j;e=i=j=q,l&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jc(o,c)},p=function(){i&&Dc(i),e=i=j=q,(m||l!==b)&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=od(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q;r?(e&&(e=Dc(e)),k=g,f=a.apply(h,d)):e||(e=Jc(p,q))}return r&&i?i=Dc(i):i||b===l||(i=Jc(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Ob(a){if(!Da(a))throw new wc;var b=o(arguments,1);return Jc(function(){a.apply(q,b)},1)}function Pb(a,b){if(!Da(a))throw new wc;var c=o(arguments,2);return Jc(function(){a.apply(q,c)},b)}function Qb(a,b){if(!Da(a))throw new wc;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return Hc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rb(a){var b,c;if(!Da(a))throw new wc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sb(a){return ga(a,16,o(arguments,1))}function Tb(a){return ga(a,32,null,o(arguments,1))}function Ub(a,b,c){var d=!0,e=!0;if(!Da(a))throw new wc;return c===!1?d=!1:Ea(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),V.leading=d,V.maxWait=b,V.trailing=e,Nb(a,b,V)}function Vb(a,b){return ga(b,16,[a])}function Wb(a){return function(){return a}}function Xb(a,b,c){var d=typeof a;if(null==a||"function"==d)return w(a,b,c);if("object"!=d)return bc(a);var e=_c(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Ea(g)?function(b){for(var c=e.length,d=!1;c--&&(d=aa(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yb(a){return null==a?"":vc(a).replace(dd,ha)}function Zb(a){return a}function $b(a,d,e){var f=!0,g=d&&ua(d);d&&(e||g.length)||(null==e&&(e=d),h=c,d=a,a=b,g=ua(d)),e===!1?f=!1:Ea(e)&&"chain"in e&&(f=e.chain);var h=a,i=Da(h);Ya(g,function(b){var c=a[b]=d[b];i&&(h.prototype[b]=function(){var b=this.__chain__,d=this.__wrapped__,e=[d];Ic.apply(e,arguments);var g=c.apply(a,e);if(f||b){if(d===g&&Ea(g))return this;g=new h(g),g.__chain__=b}return g})})}function _b(){return a._=zc,this}function ac(){}function bc(a){return function(b){return b[a]}}function cc(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vc();return Tc(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return da(a,b)}function dc(a,b){if(a){var c=a[b];return Da(c)?a[b]():c}}function ec(a,c,d){var e=b.templateSettings;a=vc(a||""),d=fd({},d,e);var f,g=fd({},d.imports,e.imports),h=_c(g),i=Ra(g),k=0,l=d.interpolate||G,m="__p += '",n=uc((d.escape||G).source+"|"+l.source+"|"+(l===E?B:G).source+"|"+(d.evaluate||G).source+"|$","g");a.replace(n,function(b,c,d,e,g,h){return d||(d=e),m+=a.slice(k,h).replace(I,j),c&&(m+="' +\n__e("+c+") +\n'"),g&&(f=!0,m+="';\n"+g+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=h+b.length,b}),m+="';\n";var o=d.variable,p=o;p||(o="obj",m="with ("+o+") {\n"+m+"\n}\n"),m=(f?m.replace(y,""):m).replace(z,"$1").replace(A,"$1;"),m="function("+o+") {\n"+(p?"":o+" || ("+o+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var r="\n/*\n//# sourceURL="+(d.sourceURL||"/lodash/template/source["+K++ +"]")+"\n*/";try{var s=qc(h,"return "+m+r).apply(q,i)}catch(t){throw t.source=m,t}return c?s(c):(s.source=m,s)}function fc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nc(a);for(b=w(b,c,1);++d<a;)e[d]=b(d);return e}function gc(a){return null==a?"":vc(a).replace(cd,la)}function hc(a){var b=++t;return vc(null==a?"":a)+b}function ic(a){return a=new c(a),a.__chain__=!0,a}function jc(a,b){return b(a),a}function kc(){return this.__chain__=!0,this}function lc(){return vc(this.__wrapped__)}function mc(){return this.__wrapped__}a=a?ca.defaults(Z.Object(),a,ca.pick(Z,J)):Z;var nc=a.Array,oc=a.Boolean,pc=a.Date,qc=a.Function,rc=a.Math,sc=a.Number,tc=a.Object,uc=a.RegExp,vc=a.String,wc=a.TypeError,xc=[],yc=tc.prototype,zc=a._,Ac=yc.toString,Bc=uc("^"+vc(Ac).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cc=rc.ceil,Dc=a.clearTimeout,Ec=rc.floor,Fc=qc.prototype.toString,Gc=ja(Gc=tc.getPrototypeOf)&&Gc,Hc=yc.hasOwnProperty,Ic=xc.push,Jc=a.setTimeout,Kc=xc.splice,Lc=xc.unshift,Mc=function(){try{var a={},b=ja(b=tc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nc=ja(Nc=tc.create)&&Nc,Oc=ja(Oc=nc.isArray)&&Oc,Pc=a.isFinite,Qc=a.isNaN,Rc=ja(Rc=tc.keys)&&Rc,Sc=rc.max,Tc=rc.min,Uc=a.parseInt,Vc=rc.random,Wc={};Wc[M]=nc,Wc[N]=oc,Wc[O]=pc,Wc[P]=qc,Wc[R]=tc,Wc[Q]=sc,Wc[S]=uc,Wc[T]=vc,c.prototype=b.prototype;var Xc=b.support={};Xc.funcDecomp=!ja(a.WinRTError)&&H.test(p),Xc.funcNames="string"==typeof qc.name,b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:b}},Nc||(s=function(){function b(){}return function(c){if(Ea(c)){b.prototype=c;var d=new b;b.prototype=null}return d||a.Object()}}());var Yc=Mc?function(a,b){W.value=b,Mc(a,"__bindData__",W)}:ac,Zc=Oc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==M||!1},$c=function(a){var b,c=a,d=[];if(!c)return d;if(!X[typeof a])return d;for(b in c)Hc.call(c,b)&&d.push(b);return d},_c=Rc?function(a){return Ea(a)?Rc(a):[]}:$c,ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bd=wa(ad),cd=uc("("+_c(bd).join("|")+")","g"),dd=uc("["+_c(ad).join("")+"]","g"),ed=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=w(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&X[typeof e])for(var k=-1,l=X[typeof e]&&_c(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&X[typeof e])for(var j=-1,k=X[typeof e]&&_c(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},gd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!X[typeof e])return f;b=b&&"undefined"==typeof c?b:w(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},hd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!X[typeof e])return f;b=b&&"undefined"==typeof c?b:w(b,c,3);for(var g=-1,h=X[typeof e]&&_c(e),i=h?h.length:0;++g<i;)if(d=h[g],
b(e[d],d,a)===!1)return f;return f},id=Gc?function(a){if(!a||Ac.call(a)!=R)return!1;var b=a.valueOf,c=ja(b)&&(c=Gc(b))&&Gc(c);return c?a==c||Gc(a)==c:ka(a)}:ka,jd=fa(function(a,b,c){Hc.call(a,c)?a[c]++:a[c]=1}),kd=fa(function(a,b,c){(Hc.call(a,c)?a[c]:a[c]=[]).push(b)}),ld=fa(function(a,b,c){a[c]=b}),md=_a,nd=Va,od=ja(od=pc.now)&&od||function(){return(new pc).getTime()},pd=8==Uc(x+"08")?Uc:function(a,b){return Uc(Ja(a)?a.replace(F,""):a,b||0)};return b.after=Hb,b.assign=ed,b.at=Sa,b.bind=Ib,b.bindAll=Jb,b.bindKey=Kb,b.chain=ic,b.compact=lb,b.compose=Lb,b.constant=Wb,b.countBy=jd,b.create=pa,b.createCallback=Xb,b.curry=Mb,b.debounce=Nb,b.defaults=fd,b.defer=Ob,b.delay=Pb,b.difference=mb,b.filter=Va,b.flatten=qb,b.forEach=Ya,b.forEachRight=Za,b.forIn=gd,b.forInRight=sa,b.forOwn=hd,b.forOwnRight=ta,b.functions=ua,b.groupBy=kd,b.indexBy=ld,b.initial=sb,b.intersection=tb,b.invert=wa,b.invoke=$a,b.keys=_c,b.map=_a,b.mapValues=La,b.max=ab,b.memoize=Qb,b.merge=Ma,b.min=bb,b.omit=Na,b.once=Rb,b.pairs=Oa,b.partial=Sb,b.partialRight=Tb,b.pick=Pa,b.pluck=md,b.property=bc,b.pull=wb,b.range=xb,b.reject=eb,b.remove=yb,b.rest=zb,b.shuffle=gb,b.sortBy=jb,b.tap=jc,b.throttle=Ub,b.times=fc,b.toArray=kb,b.transform=Qa,b.union=Bb,b.uniq=Cb,b.values=Ra,b.where=nd,b.without=Db,b.wrap=Vb,b.xor=Eb,b.zip=Fb,b.zipObject=Gb,b.collect=_a,b.drop=zb,b.each=Ya,b.eachRight=Za,b.extend=ed,b.methods=ua,b.object=Gb,b.select=Va,b.tail=zb,b.unique=Cb,b.unzip=Fb,$b(b),b.clone=na,b.cloneDeep=oa,b.contains=Ta,b.escape=Yb,b.every=Ua,b.find=Wa,b.findIndex=nb,b.findKey=qa,b.findLast=Xa,b.findLastIndex=ob,b.findLastKey=ra,b.has=va,b.identity=Zb,b.indexOf=rb,b.isArguments=ma,b.isArray=Zc,b.isBoolean=xa,b.isDate=ya,b.isElement=za,b.isEmpty=Aa,b.isEqual=Ba,b.isFinite=Ca,b.isFunction=Da,b.isNaN=Fa,b.isNull=Ga,b.isNumber=Ha,b.isObject=Ea,b.isPlainObject=id,b.isRegExp=Ia,b.isString=Ja,b.isUndefined=Ka,b.lastIndexOf=vb,b.mixin=$b,b.noConflict=_b,b.noop=ac,b.now=od,b.parseInt=pd,b.random=cc,b.reduce=cb,b.reduceRight=db,b.result=dc,b.runInContext=p,b.size=hb,b.some=ib,b.sortedIndex=Ab,b.template=ec,b.unescape=gc,b.uniqueId=hc,b.all=Ua,b.any=ib,b.detect=Wa,b.findWhere=Wa,b.foldl=cb,b.foldr=db,b.include=Ta,b.inject=cb,$b(function(){var a={};return hd(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.first=pb,b.last=ub,b.sample=fb,b.take=pb,b.head=pb,hd(b,function(a,d){var e="sample"!==d;b.prototype[d]||(b.prototype[d]=function(b,d){var f=this.__chain__,g=a(this.__wrapped__,b,d);return f||null!=b&&(!d||e&&"function"==typeof b)?new c(g,f):g})}),b.VERSION="2.4.1",b.prototype.chain=kc,b.prototype.toString=lc,b.prototype.value=mc,b.prototype.valueOf=mc,Ya(["join","pop","shift"],function(a){var d=xc[a];b.prototype[a]=function(){var a=this.__chain__,b=d.apply(this.__wrapped__,arguments);return a?new c(b,a):b}}),Ya(["push","reverse","sort","unshift"],function(a){var c=xc[a];b.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),Ya(["concat","slice","splice"],function(a){var d=xc[a];b.prototype[a]=function(){return new c(d.apply(this.__wrapped__,arguments),this.__chain__)}}),b}var q,r=[],s=[],t=0,u=+new Date+"",v=75,w=40,x=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),G=/($^)/,H=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],K=0,L="[object Arguments]",M="[object Array]",N="[object Boolean]",O="[object Date]",P="[object Function]",Q="[object Number]",R="[object Object]",S="[object RegExp]",T="[object String]",U={};U[P]=!1,U[L]=U[M]=U[N]=U[O]=U[Q]=U[R]=U[S]=U[T]=!0;var V={leading:!1,maxWait:0,trailing:!1},W={configurable:!1,enumerable:!1,value:null,writable:!1},X={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Z=X[typeof window]&&window||this,$=X[typeof c]&&c&&!c.nodeType&&c,_=X[typeof b]&&b&&!b.nodeType&&b,aa=_&&_.exports===$&&$,ba=X[typeof a]&&a;!ba||ba.global!==ba&&ba.window!==ba||(Z=ba);var ca=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Z._=ca,define(function(){return ca})):$&&_?aa?(_.exports=ca)._=ca:$._=ca:Z._=ca}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],77:[function(a,b){!function(c,d){"object"==typeof b&&b.exports?b.exports=function(b){return b=b||a("underscore"),d(b)}:"function"==typeof define&&define.amd?define(["underscore"],function(a){return d(a,c)}):c.machina=d(c._,c)}(this,function(a,b,c){var d=[].slice,e="transition",f="handler",g="handling",h="handled",i="nohandler",j="transition",k="invalidstate",l="deferred",m="newfsm",n={makeFsmNamespace:function(){var a=0;return function(){return"fsm."+a++}}(),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:n.makeFsmNamespace(),targetReplayState:"",state:c,priorState:c,_priorAction:"",_currentAction:""}}};if(!a.deepExtend){var o={"*":function(a,b,c){a[b]=c},object:function(a,b,c){a[b]=r({},a[b]||{},c)},array:function(b,c,d){b[c]=[],a.each(d,function(a,d){o[q(a)](b[c],d,a)},this)}},p=function(b){return a.isArray(b)?"array":a.isDate(b)?"date":a.isRegExp(b)?"regex":typeof b},q=function(a){var b=p(a);return o[b]?b:"*"},r=function(b){return a.each(d.call(arguments,1),function(c){a.each(c,function(a,c){o[q(a)](b,c,a)})}),b};a.mixin({deepExtend:r})}var s=function(b){a.extend(this,b),a.defaults(this,n.getDefaultOptions()),this.initialize.apply(this,arguments),v.emit(m,this),this.initialState&&this.transition(this.initialState)};a.extend(s.prototype,{initialize:function(){},emit:function(b){var c=arguments;this.eventListeners["*"]&&a.each(this.eventListeners["*"],function(a){try{a.apply(this,d.call(c,0))}catch(b){console&&"undefined"!=typeof console.log&&console.log(b.toString())}},this),this.eventListeners[b]&&a.each(this.eventListeners[b],function(a){try{a.apply(this,d.call(c,1))}catch(b){console&&"undefined"!=typeof console.log&&console.log(b.toString())}},this)},handle:function(b){if(!this.inExitHandler){var e,j,k,l,m=this.states,n=this.state,o=d.call(arguments,0);this.currentActionArgs=o,m[n][b]||m[n]["*"]||this["*"]?(e=m[n][b]?b:"*",k="*"===e,m[n][e]?(j=m[n][e],l=n+"."+e):(j=this["*"],l="*"),this._currentAction||(this._currentAction=l),this.emit.call(this,g,{inputType:b,args:o.slice(1)}),a.isFunction(j)&&(j=j.apply(this,k?o:o.slice(1))),a.isString(j)&&this.transition(j),this.emit.call(this,h,{inputType:b,args:o.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(f)):this.emit.call(this,i,{inputType:b,args:o.slice(1)}),this.currentActionArgs=c}},transition:function(a){if(!this.inExitHandler&&a!==this.state){var b=this.state;if(this.states[a])return this.states[b]&&this.states[b]._onExit&&(this.inExitHandler=!0,this.states[b]._onExit.call(this),this.inExitHandler=!1),this.targetReplayState=a,this.priorState=b,this.state=a,this.emit.call(this,j,{fromState:this.priorState,action:this._currentAction,toState:a}),this.states[a]._onEnter&&this.states[a]._onEnter.call(this),void(this.targetReplayState===a&&this.processQueue(e));this.emit.call(this,k,{state:this.state,attemptedState:a})}},processQueue:function(b){var c=b===e?function(a){return a.type===e&&(!a.untilState||a.untilState===this.state)}:function(a){return a.type===f},d=a.filter(this.eventQueue,c,this);this.eventQueue=a.difference(this.eventQueue,d),a.each(d,function(a){this.handle.apply(this,a.args)},this)},clearQueue:function(b,c){if(b){var d;b===e?d=function(a){return a.type===e&&(c?a.untilState===c:!0)}:b===f&&(d=function(a){return a.type===f}),this.eventQueue=a.filter(this.eventQueue,d)}else this.eventQueue=[]},deferUntilTransition:function(a){if(this.currentActionArgs){var b={type:e,untilState:a,args:this.currentActionArgs};this.eventQueue.push(b),this.emit.call(this,l,{state:this.state,queuedArgs:b})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var a={type:f,args:this.currentActionArgs};this.eventQueue.push(a),this.emit.call(this,l,{state:this.state,queuedArgs:a})}},on:function(a,b){var c=this;return c.eventListeners[a]||(c.eventListeners[a]=[]),c.eventListeners[a].push(b),{eventName:a,callback:b,off:function(){c.off(a,b)}}},off:function(b,c){b?this.eventListeners[b]&&(this.eventListeners[b]=c?a.without(this.eventListeners[b],c):[]):this.eventListeners={}}}),s.prototype.trigger=s.prototype.emit;var t=function(){},u=function(b,c,d){var e;return e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){b.apply(this,arguments)},a.deepExtend(e,b),t.prototype=b.prototype,e.prototype=new t,c&&a.deepExtend(e.prototype,c),d&&a.deepExtend(e,d),e.prototype.constructor=e,e.__super__=b.prototype,e};s.extend=function(a,b){var c=u(this,a,b);return c.extend=this.extend,c};var v={Fsm:s,utils:n,on:function(a,b){return this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push(b),b},off:function(b,c){this.eventListeners[b]&&(this.eventListeners[b]=a.without(this.eventListeners[b],c))},trigger:function(b){var c=arguments,e=this.eventListeners[b]||[];e&&e.length&&a.each(e,function(a){a.apply(null,d.call(c,1))})},eventListeners:{newFsm:[]}};return v.emit=v.trigger,v})},{underscore:78}],78:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.5.2";var A=z.each=z.forEach=function(a,b,c){if(null!=a)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.where=function(a,b,c){return z.isEmpty(b)?c?void 0:[]:z[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},z.findWhere=function(a,b){return z.where(a,b,!0)},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-(1/0);var d={computed:-(1/0),value:-(1/0)};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return arguments.length<2||c?a[z.random(a.length-1)]:z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return z.isFunction(a)?a:function(b){return b[a]}};z.sortBy=function(a,b,c){var d=D(b);return z.pluck(z.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={},f=null==c?z.identity:D(c);return A(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};z.groupBy=E(function(a,b,c){(z.has(a,b)?a[b]:a[b]=[]).push(c)}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=null==c?z.identity:D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return function(){var c=[a];return i.apply(c,arguments),b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],79:[function(a,b){"use strict";var c=a("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_4_arg1_=_inline_4_arg2_.apply(void 0,_inline_4_arg0_)}",args:[{name:"_inline_4_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_4_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});b.exports=function(a,b){return c(a,b),a}},{"cwise/lib/wrapper":12}],80:[function(a,b,c){"use strict";function d(a){if(!a)return h;for(var b=0;b<a.args.length;++b){var c=a.args[b];a.args[b]=0===b?{name:c,lvalue:!0,rvalue:!!a.rvalue,count:a.count||1}:{name:c,lvalue:!1,rvalue:!0,count:1}}return a.thisVars||(a.thisVars=[]),a.localVars||(a.localVars=[]),a}function e(a){return g({args:a.args,pre:d(a.pre),body:d(a.body),post:d(a.proc),funcName:a.funcName})}function f(a){for(var b=[],c=0;c<a.args.length;++c)b.push("a"+c);var d=new Function("P",["return function ",a.funcName,"_ndarrayops(",b.join(","),") {P(",b.join(","),");return a0}"].join(""));return d(e(a))}var g=a("cwise-compiler"),h={body:"",args:[],thisVars:[],localVars:[]},i={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var a in i){var b=i[a];c[a]=f({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+b+"c"},funcName:a}),c[a+"eq"]=f({args:["array","array"],body:{args:["a","b"],body:"a"+b+"=b"},rvalue:!0,funcName:a+"eq"}),c[a+"s"]=f({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+b+"s"},funcName:a+"s"}),c[a+"seq"]=f({args:["array","scalar"],body:{args:["a","s"],body:"a"+b+"=s"},rvalue:!0,funcName:a+"seq"})}}();var j={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var a in j){var b=j[a];c[a]=f({args:["array","array"],body:{args:["a","b"],body:"a="+b+"b"},funcName:a}),c[a+"eq"]=f({args:["array"],body:{args:["a"],body:"a="+b+"a"},rvalue:!0,count:2,funcName:a+"eq"})}}();var k={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var a in k){var b=k[a];c[a]=f({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+b+"c"},funcName:a}),c[a+"s"]=f({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+b+"s"},funcName:a+"s"}),c[a+"eq"]=f({args:["array","array"],body:{args:["a","b"],body:"a=a"+b+"b"},rvalue:!0,count:2,funcName:a+"eq"}),c[a+"seq"]=f({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+b+"s"},rvalue:!0,count:2,funcName:a+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var a=0;a<l.length;++a){var b=l[a];c[b]=f({args:["array","array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:b}),c[b+"eq"]=f({args:["array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:b+"eq"})}}();var m=["max","min","atan2","pow"];!function(){for(var a=0;a<m.length;++a){var b=m[a];c[b]=f({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:b}),c[b+"s"]=f({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:b+"s"}),c[b+"eq"]=f({args:["array","array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:b+"eq"}),c[b+"seq"]=f({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:b+"seq"})}}();var n=["atan2","pow"];!function(){for(var a=0;a<n.length;++a){var b=n[a];c[b+"op"]=f({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:b+"op"}),c[b+"ops"]=f({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:b+"ops"}),c[b+"opeq"]=f({args:["array","array"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:b+"opeq"}),c[b+"opseq"]=f({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+b,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:b+"opseq"})}}(),c.any=g({args:["array"],pre:h,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),c.all=g({args:["array"],pre:h,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),c.sum=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),c.prod=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),c.norm2squared=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),c.norm2=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),c.norminf=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),c.norm1=g({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),c.sup=g({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),c.inf=g({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),c.argmin=g({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),c.argmax=g({args:["index","array","shape"],
pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),c.random=f({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),c.assign=f({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),c.assigns=f({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),c.equals=g({args:["array","array"],pre:h,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":81}],81:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"./lib/thunk.js":83,dup:13}],82:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14,uniq:84}],83:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"./compile.js":82,dup:15}],84:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],85:[function(a,b){"use strict";var c=a("ndarray"),d=a("./doConvert.js");b.exports=function(a,b){for(var e=[],f=a,g=1;f instanceof Array;)e.push(f.length),g*=f.length,f=f[0];return 0===e.length?c():(b||(b=c(new Float64Array(g),e)),d(b,a),b)}},{"./doConvert.js":86,ndarray:100}],86:[function(a,b){b.exports=a("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":87}],87:[function(a,b){"use strict";function c(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function d(a){var b=new c;b.pre=a.pre,b.body=a.body,b.post=a.post;var d=a.args.slice(0);b.argTypes=d.slice(0);for(var f=0;f<d.length;++f){var g=d[f];if("array"===g){if(b.arrayArgs.push(f),b.shimArgs.push("array"+f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array args");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===g)b.scalarArgs.push(f),b.shimArgs.push("scalar"+f);else if("index"===g){if(b.indexArgs.push(f),f<b.pre.args.length&&b.pre.args[f].count>0)throw new Error("cwise: pre() block may not reference array index");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array index");if(f<b.post.args.length&&b.post.args[f].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===g){if(b.shapeArgs.push(f),f<b.pre.args.length&&b.pre.args[f].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(f<b.body.args.length&&b.body.args[f].lvalue)throw new Error("cwise: body() block may not write to array shape");if(f<b.post.args.length&&b.post.args[f].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof g||!g.offset)throw new Error("cwise: Unknown argument type "+d[f]);b.argTypes[f]="offset",b.offsetArgs.push({array:g.array,offset:g.offset}),b.offsetArgIndex.push(f)}}if(b.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(b.pre.args.length>d.length)throw new Error("cwise: Too many arguments in pre() block");if(b.body.args.length>d.length)throw new Error("cwise: Too many arguments in body() block");if(b.post.args.length>d.length)throw new Error("cwise: Too many arguments in post() block");return b.debug=!!a.printCode||!!a.debug,b.funcName=a.funcName||"cwise",b.blockSize=a.blockSize||64,e(b)}var e=a("./lib/thunk.js");b.exports=d},{"./lib/thunk.js":89}],88:[function(a,b){"use strict";function c(a,b,c){var d,e,f=a.length,g=b.arrayArgs.length,h=b.indexArgs.length>0,i=[],j=[],k=0,l=0;for(d=0;f>d;++d)j.push(["i",d,"=0"].join(""));for(e=0;g>e;++e)for(d=0;f>d;++d)l=k,k=a[d],j.push(0===d?["d",e,"s",d,"=t",e,"[",k,"]"].join(""):["d",e,"s",d,"=(t",e,"[",k,"]-s",l,"*t",e,"[",l,"])"].join(""));for(i.push("var "+j.join(",")),d=f-1;d>=0;--d)k=a[d],i.push(["for(i",d,"=0;i",d,"<s",k,";++i",d,"){"].join(""));for(i.push(c),d=0;f>d;++d){for(l=k,k=a[d],e=0;g>e;++e)i.push(["p",e,"+=d",e,"s",d].join(""));h&&(d>0&&i.push(["index[",l,"]-=s",l].join("")),i.push(["++index[",k,"]"].join(""))),i.push("}")}return i.join("\n")}function d(a,b,d,e){for(var f=b.length,g=d.arrayArgs.length,h=d.blockSize,i=d.indexArgs.length>0,j=[],k=0;g>k;++k)j.push(["var offset",k,"=p",k].join(""));for(var k=a;f>k;++k)j.push(["for(var j"+k+"=SS[",b[k],"]|0;j",k,">0;){"].join("")),j.push(["if(j",k,"<",h,"){"].join("")),j.push(["s",b[k],"=j",k].join("")),j.push(["j",k,"=0"].join("")),j.push(["}else{s",b[k],"=",h].join("")),j.push(["j",k,"-=",h,"}"].join("")),i&&j.push(["index[",b[k],"]=j",k].join(""));for(var k=0;g>k;++k){for(var l=["offset"+k],m=a;f>m;++m)l.push(["j",m,"*t",k,"[",b[m],"]"].join(""));j.push(["p",k,"=(",l.join("+"),")"].join(""))}j.push(c(b,d,e));for(var k=a;f>k;++k)j.push("}");return j.join("\n")}function e(a){for(var b=0,c=a[0].length;c>b;){for(var d=1;d<a.length;++d)if(a[d][b]!==a[0][b])return b;++b}return b}function f(a,b,c){for(var d=a.body,e=[],f=[],g=0;g<a.args.length;++g){var h=a.args[g];if(!(h.count<=0)){var i=new RegExp(h.name,"g"),j="",k=b.arrayArgs.indexOf(g);switch(b.argTypes[g]){case"offset":var l=b.offsetArgIndex.indexOf(g),m=b.offsetArgs[l];k=m.array,j="+q"+l;case"array":j="p"+k+j;var n="l"+g,o="a"+k;1===h.count?"generic"===c[k]?h.lvalue?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),f.push([o,".set(",j,",",n,")"].join(""))):d=d.replace(i,[o,".get(",j,")"].join("")):d=d.replace(i,[o,"[",j,"]"].join("")):"generic"===c[k]?(e.push(["var ",n,"=",o,".get(",j,")"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,".set(",j,",",n,")"].join(""))):(e.push(["var ",n,"=",o,"[",j,"]"].join("")),d=d.replace(i,n),h.lvalue&&f.push([o,"[",j,"]=",n].join("")));break;case"scalar":d=d.replace(i,"Y"+b.scalarArgs.indexOf(g));break;case"index":d=d.replace(i,"index");break;case"shape":d=d.replace(i,"shape")}}}return[e.join("\n"),d,f.join("\n")].join("\n").trim()}function g(a){for(var b=new Array(a.length),c=!0,d=0;d<a.length;++d){var e=a[d],f=e.match(/\d+/);f=f?f[0]:"",b[d]=0===e.charAt(0)?"u"+e.charAt(1)+f:e.charAt(0)+f,d>0&&(c=c&&b[d]===b[d-1])}return c?b[0]:b.join("")}function h(a,b){for(var h=0|b[1].length,j=new Array(a.arrayArgs.length),k=new Array(a.arrayArgs.length),l=["SS"],m=["'use strict'"],n=[],o=0;h>o;++o)n.push(["s",o,"=SS[",o,"]"].join(""));for(var p=0;p<a.arrayArgs.length;++p)l.push("a"+p),l.push("t"+p),l.push("p"+p),k[p]=b[2*p],j[p]=b[2*p+1];for(var p=0;p<a.scalarArgs.length;++p)l.push("Y"+p);if(a.shapeArgs.length>0&&n.push("shape=SS.slice(0)"),a.indexArgs.length>0){for(var q=new Array(h),p=0;h>p;++p)q[p]="0";n.push(["index=[",q.join(","),"]"].join(""))}for(var p=0;p<a.offsetArgs.length;++p){for(var r=a.offsetArgs[p],s=[],o=0;o<r.offset.length;++o)0!==r.offset[o]&&s.push(1===r.offset[o]?["t",r.array,"[",o,"]"].join(""):[r.offset[o],"*t",r.array,"[",o,"]"].join(""));n.push(0===s.length?"q"+p+"=0":["q",p,"=(",s.join("+"),")|0"].join(""))}var t=i([].concat(a.pre.thisVars).concat(a.body.thisVars).concat(a.post.thisVars));n=n.concat(t),m.push("var "+n.join(","));for(var p=0;p<a.arrayArgs.length;++p)m.push("p"+p+"|=0");a.pre.body.length>3&&m.push(f(a.pre,a,k));var u=f(a.body,a,k),v=e(j);m.push(h>v?d(v,j[0],a,u):c(j[0],a,u)),a.post.body.length>3&&m.push(f(a.post,a,k)),a.debug&&console.log("Generated cwise routine for ",b,":\n\n",m.join("\n"));var w=[a.funcName||"unnamed","_cwise_loop_",j[0].join("s"),"m",v,g(k)].join(""),x=new Function(["function ",w,"(",l.join(","),"){",m.join("\n"),"} return ",w].join(""));return x()}var i=a("uniq");b.exports=h},{uniq:90}],89:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"./compile.js":88,dup:15}],90:[function(a,b){"use strict";function c(a,b){for(var c=1,d=a.length,e=a[0],f=a[0],g=1;d>g;++g)if(f=e,e=a[g],b(e,f)){if(g===c){c++;continue}a[c++]=e}return a.length=c,a}function d(a){for(var b=1,c=a.length,d=a[0],e=a[0],f=1;c>f;++f,e=d)if(e=d,d=a[f],d!==e){if(f===b){b++;continue}a[b++]=d}return a.length=b,a}function e(a,b,e){return 0===a.length?[]:b?(e||a.sort(b),c(a,b)):(e||a.sort(),d(a))}b.exports=e},{}],91:[function(a,b,c){"use strict";"use restrict";function d(a){var b=32;return a&=-a,a&&b--,65535&a&&(b-=16),16711935&a&&(b-=8),252645135&a&&(b-=4),858993459&a&&(b-=2),1431655765&a&&(b-=1),b}var e=32;c.INT_BITS=e,c.INT_MAX=2147483647,c.INT_MIN=-1<<e-1,c.sign=function(a){return(a>0)-(0>a)},c.abs=function(a){var b=a>>e-1;return(a^b)-b},c.min=function(a,b){return b^(a^b)&-(b>a)},c.max=function(a,b){return a^(a^b)&-(b>a)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var b,c;return b=(a>65535)<<4,a>>>=b,c=(a>255)<<3,a>>>=c,b|=c,c=(a>15)<<2,a>>>=c,b|=c,c=(a>3)<<1,a>>>=c,b|=c,b|a>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return a-=a>>>1&1431655765,a=(858993459&a)+(a>>>2&858993459),16843009*(a+(a>>>4)&252645135)>>>24},c.countTrailingZeros=d,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var f=new Array(256);!function(a){for(var b=0;256>b;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=1&c,--e;a[b]=d<<e&255}}(f),c.reverse=function(a){return f[255&a]<<24|f[a>>>8&255]<<16|f[a>>>16&255]<<8|f[a>>>24&255]},c.interleave2=function(a,b){return a&=65535,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b&=65535,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1},c.deinterleave2=function(a,b){return a=a>>>b&1431655765,a=858993459&(a|a>>>1),a=252645135&(a|a>>>2),a=16711935&(a|a>>>4),a=65535&(a|a>>>16),a<<16>>16},c.interleave3=function(a,b,c){return a&=1023,a=4278190335&(a|a<<16),a=251719695&(a|a<<8),a=3272356035&(a|a<<4),a=1227133513&(a|a<<2),b&=1023,b=4278190335&(b|b<<16),b=251719695&(b|b<<8),b=3272356035&(b|b<<4),b=1227133513&(b|b<<2),a|=b<<1,c&=1023,c=4278190335&(c|c<<16),c=251719695&(c|c<<8),c=3272356035&(c|c<<4),c=1227133513&(c|c<<2),a|c<<2},c.deinterleave3=function(a,b){return a=a>>>b&1227133513,a=3272356035&(a|a>>>2),a=251719695&(a|a>>>4),a=4278190335&(a|a>>>8),a=1023&(a|a>>>16),a<<22>>22},c.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>d(a)+1}},{}],92:[function(a,b){"use strict";function c(a,b,d){var e=0|a[d];if(0>=e)return[];var f,g=new Array(e);if(d===a.length-1)for(f=0;e>f;++f)g[f]=b;else for(f=0;e>f;++f)g[f]=c(a,b,d+1);return g}function d(a,b){var c,d;for(c=new Array(a),d=0;a>d;++d)c[d]=b;return c}function e(a,b){switch("undefined"==typeof b&&(b=0),typeof a){case"number":if(a>0)return d(0|a,b);break;case"object":if("number"==typeof a.length)return c(a,b,0)}return[]}b.exports=e},{}],93:[function(a,b,c){(function(b,d){"use strict";function e(a){if(a){var b=a.length||a.byteLength,c=s.log2(b);w[c].push(a)}}function f(a){e(a.buffer)}function g(a){var a=s.nextPow2(a),b=s.log2(a),c=w[b];return c.length>0?c.pop():new ArrayBuffer(a)}function h(a){return new Uint8Array(g(a),0,a)}function i(a){return new Uint16Array(g(2*a),0,a)}function j(a){return new Uint32Array(g(4*a),0,a)}function k(a){return new Int8Array(g(a),0,a)}function l(a){return new Int16Array(g(2*a),0,a)}function m(a){return new Int32Array(g(4*a),0,a)}function n(a){return new Float32Array(g(4*a),0,a)}function o(a){return new Float64Array(g(8*a),0,a)}function p(a){return u?new Uint8ClampedArray(g(a),0,a):h(a)}function q(a){return new DataView(g(a),0,a)}function r(a){a=s.nextPow2(a);var b=s.log2(a),c=x[b];return c.length>0?c.pop():new d(a)}var s=a("bit-twiddle"),t=a("dup");b.__TYPEDARRAY_POOL||(b.__TYPEDARRAY_POOL={UINT8:t([32,0]),UINT16:t([32,0]),UINT32:t([32,0]),INT8:t([32,0]),INT16:t([32,0]),INT32:t([32,0]),FLOAT:t([32,0]),DOUBLE:t([32,0]),DATA:t([32,0]),UINT8C:t([32,0]),BUFFER:t([32,0])});var u="undefined"!=typeof Uint8ClampedArray,v=b.__TYPEDARRAY_POOL;v.UINT8C||(v.UINT8C=t([32,0])),v.BUFFER||(v.BUFFER=t([32,0]));var w=v.DATA,x=v.BUFFER;c.free=function(a){if(d.isBuffer(a))x[s.log2(a.length)].push(a);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(a)&&(a=a.buffer),!a)return;var b=a.length||a.byteLength,c=0|s.log2(b);w[c].push(a)}},c.freeUint8=c.freeUint16=c.freeUint32=c.freeInt8=c.freeInt16=c.freeInt32=c.freeFloat32=c.freeFloat=c.freeFloat64=c.freeDouble=c.freeUint8Clamped=c.freeDataView=f,c.freeArrayBuffer=e,c.freeBuffer=function(a){x[s.log2(a.length)].push(a)},c.malloc=function(a,b){if(void 0===b||"arraybuffer"===b)return g(a);switch(b){case"uint8":return h(a);case"uint16":return i(a);case"uint32":return j(a);case"int8":return k(a);case"int16":return l(a);case"int32":return m(a);case"float":case"float32":return n(a);case"double":case"float64":return o(a);case"uint8_clamped":return p(a);case"buffer":return r(a);case"data":case"dataview":return q(a);default:return null}return null},c.mallocArrayBuffer=g,c.mallocUint8=h,c.mallocUint16=i,c.mallocUint32=j,c.mallocInt8=k,c.mallocInt16=l,c.mallocInt32=m,c.mallocFloat32=c.mallocFloat=n,c.mallocFloat64=c.mallocDouble=o,c.mallocUint8Clamped=p,c.mallocDataView=q,c.mallocBuffer=r,c.clearCache=function(){for(var a=0;32>a;++a)v.UINT8[a].length=0,v.UINT16[a].length=0,v.UINT32[a].length=0,v.INT8[a].length=0,v.INT16[a].length=0,v.INT32[a].length=0,v.FLOAT[a].length=0,v.DOUBLE[a].length=0,v.UINT8C[a].length=0,w[a].length=0,x[a].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"bit-twiddle":91,buffer:2,dup:92}],94:[function(a,b,c){"use strict";function d(a){var b=a.dtype;("generic"===b||"array"===b)&&(b="double");var c=j.malloc(a.size,b),d=h(c,a.shape);return i.assign(d,a),d}function e(a,b){b||(b="double");for(var c=1,d=new Array(a.length),e=a.length-1;e>=0;--e)d[e]=c,c*=a[e];return h(j.malloc(c,b),a,d,0)}function f(a){"generic"!==a.dtype&&"array"!==a.dtype&&j.free(a.data)}function g(a,b){b||(b="double");for(var c=1,d=new Array(a.length),e=a.length-1;e>=0;--e)d[e]=c,c*=a[e];for(var f=j.malloc(c,b),e=0;c>e;++e)f[e]=0;return h(f,a,d,0)}var h=a("ndarray"),i=a("ndarray-ops"),j=a("typedarray-pool");c.clone=d,c.malloc=e,c.free=f,c.zeros=g},{ndarray:100,"ndarray-ops":80,"typedarray-pool":93}],95:[function(a,b){function c(a,b){for(var c=[],d=0;d<a.shape[0];d++)c.push(g(a.get(d),b.width));return c.join(" ")}function d(a,b){for(var d=[],e=0;e<a.shape[1];e++)d.push(c(a.pick(null,e),b));return d.join("\n")}function e(a,b){for(var c=[],e=0;e<a.shape[2];e++)c.push(d(a.pick(null,null,e),b),"");return c.join("\n")}function f(a,b){for(var c=[],d=3,f=0;f<a.shape[3];f++){var g=e(a.pick(null,null,null,f),b);c.push(g);for(var h=g.split("\n"),i=0;i<h.length;i++)d=Math.max(d,h[i].length)}return c.join("\n"+Array(d+1).join("-")+"\n\n")}var g=a("fixed-width-float"),h=a("ndarray");b.exports=function(a,b){return b||(b={}),"number"==typeof b&&(b={width:b}),b.width||(b.width=8),void 0===a.dimension&&(a=h(a)),1===a.dimension?c(a,b):2===a.dimension?d(a,b):3===a.dimension?e(a,b):4===a.dimension?f(a,b):void 0}},{"fixed-width-float":96,ndarray:100}],96:[function(a,b){function c(a,b){void 0===b&&(b=8);var c="%"+b+"."+b+"s";return 0>=b?void 0:isNaN(a)?h(c,"NaN"):a===1/0?1===b?void 0:h(c,b>=9?"Infinity":" Inf").slice(0,b):a===-(1/0)?1===b?void 0:h(c,b>=9?"-Infinity":"-Inf").slice(0,b):g(a,b)}function d(a,b){var c=Math.max(1,f(Math.abs(a))),d=f(Math.abs(c)),g=Math.pow(10,b+1);if(Math.abs(a)<1)a=Math.round(a*g)/g;else{var i=Math.pow(10,c+1);a=Math.round(a/i*g)/g*i}var j;if(b-d-6===-1)a=Math.round(a/Math.pow(10,c)),a*=Math.pow(10,c),j=h("%1e",a).replace(/\.[^e]+/,"");else{if(0>b-d-6)return void 0;j=h("%."+(b-d-6)+"e",a)}return a>0&&(j=" "+j),e(j,b)}function e(a,b){return Array(Math.max(0,b-a.length+1)).join(" ")+a}function f(a){return Math.floor(Math.log(a)/Math.log(10))}function g(a,b){var c=Math.max(1,Math.floor((b-2)/2)),g=b-c-2;if(0===a&&4>b)return e("0",b);if(0===a)return e("0."+Array(g+1).join("0"),b);if(0>=g){var i=h("%"+c+"f",a);return a>=0&&(i=" "+i),i.length>b?void 0:e(i,b)}if(Math.abs(a)<Math.pow(10,1-g))return d(a,b);var j=Math.pow(10,b-3),k=Math.pow(10,f(Math.abs(a))),l=Math.round(a/k*j)/j*k,i=h("%"+c+"."+g+"f",l);l>0&&(i=" "+i),i=i.slice(0,b);var m=i.split(".")[1];return!m||m.length<1?d(l,b):e(i,b).slice(0,b)}var h=a("sprintf");b.exports=c},{sprintf:97}],97:[function(a,b){var c=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function b(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")}var d=function(){return d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0])),d.format.call(null,d.cache[arguments[0]],arguments)};return d.object_stringify=function(a,b,c,e){var f="";if(null!=a)switch(typeof a){case"function":return"[Function"+(a.name?": "+a.name:"")+"]";case"object":if(a instanceof Error)return"["+a.toString()+"]";if(b>=c)return"[Object]";if(e&&(e=e.slice(0),e.push(a)),null!=a.length){f+="[";var g=[];for(var h in a)g.push(e&&e.indexOf(a[h])>=0?"[Circular]":d.object_stringify(a[h],b+1,c,e));f+=g.join(", ")+"]"}else{if("getMonth"in a)return"Date("+a+")";f+="{";var g=[];for(var i in a)a.hasOwnProperty(i)&&g.push(e&&e.indexOf(a[i])>=0?i+": [Circular]":i+": "+d.object_stringify(a[i],b+1,c,e));f+=g.join(", ")+"}"}return f;case"string":return'"'+a+'"'}return""+a},d.format=function(e,f){var g,h,i,j,k,l,m,n=1,o=e.length,p="",q=[];for(h=0;o>h;h++)if(p=a(e[h]),"string"===p)q.push(e[h]);else if("array"===p){if(j=e[h],j[2])for(g=f[n],i=0;i<j[2].length;i++){if(!g.hasOwnProperty(j[2][i]))throw new Error(c('[sprintf] property "%s" does not exist',j[2][i]));g=g[j[2][i]]}else g=j[1]?f[j[1]]:f[n++];if(/[^sO]/.test(j[8])&&"number"!=a(g))throw new Error(c('[sprintf] expecting number but found %s "'+g+'"',a(g)));switch(j[8]){case"b":g=g.toString(2);break;case"c":g=String.fromCharCode(g);break;case"d":g=parseInt(g,10);break;case"e":g=j[7]?g.toExponential(j[7]):g.toExponential();break;case"f":g=j[7]?parseFloat(g).toFixed(j[7]):parseFloat(g);break;case"O":g=d.object_stringify(g,0,parseInt(j[7])||5);break;case"o":g=g.toString(8);break;case"s":g=(g=String(g))&&j[7]?g.substring(0,j[7]):g;break;case"u":g=Math.abs(g);break;case"x":g=g.toString(16);break;case"X":g=g.toString(16).toUpperCase()}g=/[def]/.test(j[8])&&j[3]&&g>=0?"+"+g:g,l=j[4]?"0"==j[4]?"0":j[4].charAt(1):" ",m=j[6]-String(g).length,k=j[6]?b(l,m):"",q.push(j[5]?g+k:k+g)}return q.join("")},d.cache={},d.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(b)))throw new Error("[sprintf] "+b);if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw new Error("[sprintf] "+g);for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw new Error("[sprintf] "+g);f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d.push(c)}b=b.substring(c[0].length)}return d},d}(),d=function(a,b){var d=b.slice();return d.unshift(a),c.apply(null,d)};b.exports=c,c.sprintf=c,c.vsprintf=d},{}],98:[function(a,b,c){arguments[4][92][0].apply(c,arguments)},{dup:92}],99:[function(a,b){"use strict";var c=a("dup"),d=a("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_1_a,_inline_1_e=_inline_1_arg1_;for(_inline_1_a=0;_inline_1_a<_inline_1_arg2_.length-1;++_inline_1_a)_inline_1_e=_inline_1_e[_inline_1_arg2_[_inline_1_a]];_inline_1_e[_inline_1_arg2_[_inline_1_arg2_.length-1]]=_inline_1_arg0_}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_a","_inline_1_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});b.exports=function(a){var b=c(a.shape);return d(a,b),b}},{"cwise/lib/wrapper":12,dup:98}],100:[function(a,b){(function(c){function d(a,b){return a[0]-b[0]}function e(){var a,b=this.stride,c=new Array(b.length);for(a=0;a<c.length;++a)c[a]=[Math.abs(b[a]),a];c.sort(d);var e=new Array(c.length);for(a=0;a<e.length;++a)e[a]=c[a][1];return e}function f(a,b){var c=["View",b,"d",a].join("");0>b&&(c="View_Nil"+a);var d="generic"===a;if(-1===b){var f="function "+c+"(a){this.data=a;};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+c+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+c+"(a){return new "+c+"(a);}",g=new Function(f);return g()}if(0===b){var f="function "+c+"(a,d) {this.data = a;this.offset = d};var proto="+c+".prototype;proto.dtype='"+a+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+c+"_copy() {return new "+c+"(this.data,this.offset)};proto.pick=function "+c+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+c+"_get(){return "+(d?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+c+"_set(v){return "+(d?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+c+"(a,b,c,d){return new "+c+"(a,d)}",g=new Function("TrivialArray",f);return g(l[a][0])}var f=["'use strict'"],h=i(b),j=h.map(function(a){return"i"+a}),k="this.offset+"+h.map(function(a){return"this.stride["+a+"]*i"+a}).join("+"),m=h.map(function(a){return"b"+a}).join(","),n=h.map(function(a){return"c"+a}).join(",");f.push("function "+c+"(a,"+m+","+n+",d){this.data=a","this.shape=["+m+"]","this.stride=["+n+"]","this.offset=d|0}","var proto="+c+".prototype","proto.dtype='"+a+"'","proto.dimension="+b),f.push("Object.defineProperty(proto,'size',{get:function "+c+"_size(){return "+h.map(function(a){return"this.shape["+a+"]"}).join("*"),"}})"),1===b?f.push("proto.order=[0]"):(f.push("Object.defineProperty(proto,'order',{get:"),4>b?(f.push("function "+c+"_order(){"),2===b?f.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===b&&f.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):f.push("ORDER})")),f.push("proto.set=function "+c+"_set("+j.join(",")+",v){"),f.push(d?"return this.data.set("+k+",v)}":"return this.data["+k+"]=v}"),f.push("proto.get=function "+c+"_get("+j.join(",")+"){"),f.push(d?"return this.data.get("+k+")}":"return this.data["+k+"]}"),f.push("proto.index=function "+c+"_index(",j.join(),"){return "+k+"}"),f.push("proto.hi=function "+c+"_hi("+j.join(",")+"){return new "+c+"(this.data,"+h.map(function(a){return["(typeof i",a,"!=='number'||i",a,"<0)?this.shape[",a,"]:i",a,"|0"].join("")}).join(",")+","+h.map(function(a){return"this.stride["+a+"]"}).join(",")+",this.offset)}");var o=h.map(function(a){return"a"+a+"=this.shape["+a+"]"}),p=h.map(function(a){return"c"+a+"=this.stride["+a+"]"});f.push("proto.lo=function "+c+"_lo("+j.join(",")+"){var b=this.offset,d=0,"+o.join(",")+","+p.join(","));for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'&&i"+q+">=0){d=i"+q+"|0;b+=c"+q+"*d;a"+q+"-=d}");f.push("return new "+c+"(this.data,"+h.map(function(a){return"a"+a}).join(",")+","+h.map(function(a){return"c"+a}).join(",")+",b)}"),f.push("proto.step=function "+c+"_step("+j.join(",")+"){var "+h.map(function(a){return"a"+a+"=this.shape["+a+"]"}).join(",")+","+h.map(function(a){return"b"+a+"=this.stride["+a+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'){d=i"+q+"|0;if(d<0){c+=b"+q+"*(a"+q+"-1);a"+q+"=ceil(-a"+q+"/d)}else{a"+q+"=ceil(a"+q+"/d)}b"+q+"*=d}");f.push("return new "+c+"(this.data,"+h.map(function(a){return"a"+a}).join(",")+","+h.map(function(a){return"b"+a}).join(",")+",c)}");for(var r=new Array(b),s=new Array(b),q=0;b>q;++q)r[q]="a[i"+q+"]",s[q]="b[i"+q+"]";f.push("proto.transpose=function "+c+"_transpose("+j+"){"+j.map(function(a,b){return a+"=("+a+"===undefined?"+b+":"+a+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+c+"(this.data,"+r.join(",")+","+s.join(",")+",this.offset)}"),f.push("proto.pick=function "+c+"_pick("+j+"){var a=[],b=[],c=this.offset");for(var q=0;b>q;++q)f.push("if(typeof i"+q+"==='number'&&i"+q+">=0){c=(c+this.stride["+q+"]*i"+q+")|0}else{a.push(this.shape["+q+"]);b.push(this.stride["+q+"])}");f.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),f.push("return function construct_"+c+"(data,shape,stride,offset){return new "+c+"(data,"+h.map(function(a){return"shape["+a+"]"}).join(",")+","+h.map(function(a){return"stride["+a+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",f.join("\n"));return g(l[a],e)}function g(a){if(k&&c.isBuffer(a))return"buffer";if(j)switch(Object.prototype.toString.call(a)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(a)?"array":"generic"}function h(a,b,c,d){if(void 0===a){var e=l.array[0];return e([])}"number"==typeof a&&(a=[a]),void 0===b&&(b=[a.length]);var h=b.length;if(void 0===c){c=new Array(h);for(var i=h-1,j=1;i>=0;--i)c[i]=j,j*=b[i]}if(void 0===d){d=0;for(var i=0;h>i;++i)c[i]<0&&(d-=(b[i]-1)*c[i])}for(var k=g(a),m=l[k];m.length<=h+1;)m.push(f(k,m.length-1));var e=m[h+1];return e(a,b,c,d)}var i=a("iota-array"),j="undefined"!=typeof Float64Array,k="undefined"!=typeof c,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};b.exports=h}).call(this,a("buffer").Buffer)},{buffer:2,"iota-array":101}],101:[function(a,b){"use strict";function c(a){for(var b=new Array(a),c=0;a>c;++c)b[c]=c;return b}b.exports=c},{}],102:[function(a,b){"use strict";function c(a){return Array.isArray(a)?[a.length,a[0].length]:a.shape}function d(a,b,d){var e=c(a),f=c(b),g=c(d);if(e[0]!==f[0]||e[1]!==g[1]||f[1]!==g[0])throw new Error("Mismatched array shapes for matrix product")}function e(a){if(Array.isArray(a)){if(Array.isArray(a))return["r","native"]}else if(a.shape&&2===a.shape.length)return a.order[0]?["r",a.dtype]:["c",a.dtype];throw new Error("Unrecognized data type")}function f(a,b,c,f,i){void 0===f&&(f=1),void 0===i&&(i=0);var j=1!==f,k=0!==i,l=e(a),m=e(b),n=e(c);d(a,b,c);var o=[l,m,n,j,k].join(":"),p=h[o];return p||(p=h[o]=g(l,m,n,j,k)),p(a,b,c,f,i)}b.exports=f;var g=a("./lib/planner.js"),h={}},{"./lib/planner.js":103}],103:[function(a,b){"use strict";function c(a,b){return"native"===b[1]?[a,"d0=",a,".length,",a,"d1=",a,"[0].length,"].join(""):[a,"d0=",a,".shape[0],",a,"d1=",a,".shape[1],",a,"s0=",a,".stride[0],",a,"s1=",a,".stride[1],",a,"o=",a,".offset,",a,"d=",a,".data,"].join("")}function d(a,b,c,d,e,f){var g=[];return"native"===c[1]?a[0]&&(d?g.push("var ",b,"p=",b,"[",d,"];"):g.push("var ",b,"p=",b,"[0];")):d&&e?f?g.push("var ",b,"t0=",b,"s",a[0],",",b,"t1=",b,"s",a[1],"-",b,"s",a[0],"*",f,",",b,"p=",b,"o+",d,"*",b,"s0+",e,"*",b,"s1;"):g.push("var ",b,"t0=",b,"s",a[0],",",b,"p=",b,"o+",d,"*",b,"s0+",e,"*",b,"s1;"):d?g.push("var ",b,"t0=",b,"s",a[0],",",b,"p=",b,"o+",d,"*",b,"s0;"):e?g.push("var ",b,"t0=",b,"s",a[0],",",b,"p=",b,"o+",e,"*",b,"s1;"):g.push("var ",b,"t0=",b,"s",a[0],",",b,"t1=",b,"s",a[1],"-",b,"s",a[0],"*",b,"d",a[0],",",b,"p=",b,"o;"),g}function e(a,b,c,d,e){var f=[];return"native"===c[1]?a[0]&&1===d&&f.push(b,"p=",b,"[",e,"+1]"):f.push(b,"p+=",b,"t",d,";"),f}function f(a,b,c,d,e,f){var g=[];return"native"===c[1]?a[0]?g.push(b,"p[",e,"]=",f,";"):g.push(b,"[",d,"][",e,"]=",f,";"):"generic"===c[1]?g.push(b,"d.set(",b,"p,",f,");"):g.push(b,"d[",b,"p]=",f,";"),g}function g(a,b,c,d,e){var f=[];return"native"===c[1]?a[0]?f.push(b,"p[",e,"]"):f.push(b,"[",d,"][",e,"]"):"generic"===c[1]?f.push(b,"d.get(",b,"p)"):f.push(b,"d[",b,"p]"),f.join("")}function h(a,b,c,h,i){var j=[],k="r"===a[0]?[1,0]:[0,1],l=[1,0],m=[0,1],n=["i","j"];return j.push.apply(j,d(k,"o",a)),k[1]?(j.push("for(j=0;j<od1;++j){"),j.push("for(i=0;i<od0;++i){")):(j.push("for(i=0;i<od0;++i){"),j.push("for(j=0;j<od1;++j){")),j.push.apply(j,d(l,"a",b,"i")),j.push.apply(j,d(m,"b",c,void 0,"j")),j.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",g(l,"a",b,"i","k"),"*",g(m,"b",c,"k","j"),";"),j.push.apply(j,e(l,"a",b,0,"k")),j.push.apply(j,e(m,"b",c,0,"k")),j.push("}"),h&&j.push("r*=A;"),i&&j.push("r+=B*",g(k,"o",a,"i","j"),";"),j.push.apply(j,f(k,"o",a,"i","j","r")),j.push.apply(j,e(k,"o",a,0,n[1])),j.push("}"),j.push.apply(j,e(k,"o",a,1,n[0])),j.push("}"),j}function i(a,b){var c,h=[],i="r"===a[0]?[1,0]:[0,1];return b&&h.push("if(B!==1.0){"),h.push.apply(h,d(i,"o",a)),i[0]?(h.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),c=["i","j"]):(h.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),c=["j","i"]),b?h.push.apply(h,f(i,"o",a,"i","j","B*"+g(i,"o",a,"i","j"))):h.push.apply(h,f(i,"o",a,"i","j","0")),h.push.apply(h,e(i,"o",a,0,c[1])),h.push("}"),h.push.apply(h,e(i,"o",a,1,c[0])),h.push("}"),b&&h.push("}"),h}function j(a,b,c,h,j){var k=[],m=["od0","od1","ad1"],n=[1,0],o=[1,0],p=[0,1];k.push.apply(k,i(a,j));for(var q=0;3>q;++q)k.push("for(var i",q,"=",m[q],";i",q,">0;){","var w",q,"=",l,";","if(i",q,"<",l,"){","w",q,"=i",q,";","i",q,"=0;","}else{","i",q,"-=",l,";","}");k.push.apply(k,d(n,"o",a,"i0","i1","w1")),k.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),k.push.apply(k,d(o,"a",b,"(i0+i)","i2")),k.push.apply(k,d(p,"b",c,"i2","(i1+j)")),k.push("for(k=0;k<w2;++k){"),k.push("r+=",g(o,"a",b,"(i0+i)","(i2+k)"),"*",g(p,"b",c,"(i2+k)","(i1+j)"),";"),k.push.apply(k,e(o,"a",b,0,"(i2+k)")),k.push.apply(k,e(p,"b",c,0,"(i2+k)")),k.push("}");var r="r";return h&&(r="A*r"),k.push.apply(k,f(n,"o",a,"(i0+i)","(i1+j)",r+"+"+g(n,"o",a,"(i0+i)","(i1+j)"))),k.push.apply(k,e(n,"o",a,0,"(i1+j)")),k.push("}"),
k.push.apply(k,e(n,"o",a,1,"(i0+i)")),k.push("}}}}"),k}function k(a,b,d,e,f){var g=["gemm",a[0],a[1],"a",b[0],b[1],"b",d[0],d[1],e?"alpha":"",f?"beta":""].join(""),i=["function ",g,"(o,a,b,A,B){","var ",c("o",a),c("a",b),c("b",d),"i,j,k;"];"r"===b[0]&&"c"===d[0]?i.push.apply(i,h(a,b,d,e,f)):i.push.apply(i,j(a,b,d,e,f)),i.push("}return ",g);var k=new Function(i.join(""));return k()}b.exports=k;var l=32},{}],104:[function(a,b){!function(c,d){"object"==typeof b&&b.exports?b.exports=function(b){return b=b||a("underscore"),d(b)}:"function"==typeof define&&define.amd?define(["underscore"],function(a){return d(a,c)}):c.postal=d(c._,c)}(this,function(a,b){var c,d=function(){var b;return function(c){var d=!1;return a.isString(c)?(d=c===b,b=c):(d=a.isEqual(c,b),b=a.clone(c)),!d}},e=function(){var b=[];return function(c){var d=!a.any(b,function(b){return a.isObject(c)||a.isArray(c)?a.isEqual(c,b):c===b});return d&&b.push(c),d}},f=function(a){this.channel=a||c.configuration.DEFAULT_CHANNEL};f.prototype.subscribe=function(){return 1===arguments.length?new g(this.channel,arguments[0].topic,arguments[0].callback):new g(this.channel,arguments[0],arguments[1])},f.prototype.publish=function(){var a=1===arguments.length?"[object String]"===Object.prototype.toString.call(arguments[0])?{topic:arguments[0]}:arguments[0]:{topic:arguments[0],data:arguments[1]};return a.channel=this.channel,c.configuration.bus.publish(a)};var g=function(a,b,d){this.channel=a,this.topic=b,this.callback=d,this.constraints=[],this.context=null,c.configuration.bus.publish({channel:c.configuration.SYSTEM_CHANNEL,topic:"subscription.created",data:{event:"subscription.created",channel:a,topic:b}}),c.configuration.bus.subscribe(this)};g.prototype={unsubscribe:function(){this.inactive||(this.inactive=!0,c.configuration.bus.unsubscribe(this),c.configuration.bus.publish({channel:c.configuration.SYSTEM_CHANNEL,topic:"subscription.removed",data:{event:"subscription.removed",channel:this.channel,topic:this.topic}}))},defer:function(){var a=this,b=this.callback;return this.callback=function(c,d){setTimeout(function(){b.call(a.context,c,d)},0)},this},disposeAfter:function(b){if(a.isNaN(b)||0>=b)throw"The value provided to disposeAfter (maxCalls) must be a number greater than zero.";var c=this,d=this.callback,e=a.after(b,a.bind(function(){this.unsubscribe()},this));return this.callback=function(){d.apply(c.context,arguments),e()},this},distinctUntilChanged:function(){return this.withConstraint(new d),this},distinct:function(){return this.withConstraint(new e),this},once:function(){return this.disposeAfter(1),this},withConstraint:function(b){if(!a.isFunction(b))throw"Predicate constraint must be a function";return this.constraints.push(b),this},withConstraints:function(b){var c=this;return a.isArray(b)&&a.each(b,function(a){c.withConstraint(a)}),c},withContext:function(a){return this.context=a,this},withDebounce:function(b,c){if(a.isNaN(b))throw"Milliseconds must be a number";var d=this.callback;return this.callback=a.debounce(d,b,!!c),this},withDelay:function(b){if(a.isNaN(b))throw"Milliseconds must be a number";var c=this,d=this.callback;return this.callback=function(a,e){setTimeout(function(){d.call(c.context,a,e)},b)},this},withThrottle:function(b){if(a.isNaN(b))throw"Milliseconds must be a number";var c=this.callback;return this.callback=a.throttle(c,b),this},subscribe:function(a){return this.callback=a,this}};var h={cache:{},regex:{},compare:function(b,c){var d,e,f,g=this.cache[c]&&this.cache[c][b];return"undefined"!=typeof g?g:((e=this.regex[b])||(d="^"+a.map(b.split("."),function(a){var b="";return f&&(b="#"!==f?"\\.\\b":"\\b"),b+="#"===a?"[\\s\\S]*":"*"===a?"[^.]+":a,f=a,b}).join("")+"$",e=this.regex[b]=new RegExp(d)),this.cache[c]=this.cache[c]||{},this.cache[c][b]=g=e.test(c),g)},reset:function(){this.cache={},this.regex={}}},i=function(b,d){!b.inactive&&c.configuration.resolver.compare(b.topic,d.topic)&&a.all(b.constraints,function(a){return a.call(b.context,d.data,d)})&&"function"==typeof b.callback&&b.callback.call(b.context,d.data,d)},j=0,k=[],l=function(){for(;k.length;)m.unsubscribe(k.shift())},m={addWireTap:function(a){var b=this;return b.wireTaps.push(a),function(){var c=b.wireTaps.indexOf(a);-1!==c&&b.wireTaps.splice(c,1)}},publish:function(b){return++j,b.timeStamp=new Date,a.each(this.wireTaps,function(a){a(b.data,b)}),this.subscriptions[b.channel]&&a.each(this.subscriptions[b.channel],function(a){for(var c,d=0,e=a.length;e>d;)(c=a[d++])&&i(c,b)}),0===--j&&l(),b},reset:function(){this.subscriptions&&(a.each(this.subscriptions,function(b){a.each(b,function(a){for(;a.length;)a.pop().unsubscribe()})}),this.subscriptions={})},subscribe:function(a){var b,c=this.subscriptions[a.channel];return c||(c=this.subscriptions[a.channel]={}),b=this.subscriptions[a.channel][a.topic],b||(b=this.subscriptions[a.channel][a.topic]=[]),b.push(a),a},subscriptions:{},wireTaps:[],unsubscribe:function(a){if(j)return void k.push(a);if(this.subscriptions[a.channel][a.topic])for(var b=this.subscriptions[a.channel][a.topic].length,c=0;b>c;){if(this.subscriptions[a.channel][a.topic][c]===a){this.subscriptions[a.channel][a.topic].splice(c,1);break}c+=1}}};if(c={configuration:{bus:m,resolver:h,DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal"},ChannelDefinition:f,SubscriptionDefinition:g,channel:function(a){return new f(a)},subscribe:function(a){return new g(a.channel||c.configuration.DEFAULT_CHANNEL,a.topic,a.callback)},publish:function(a){return a.channel=a.channel||c.configuration.DEFAULT_CHANNEL,c.configuration.bus.publish(a)},addWireTap:function(a){return this.configuration.bus.addWireTap(a)},linkChannels:function(b,d){var e=[];return b=a.isArray(b)?b:[b],d=a.isArray(d)?d:[d],a.each(b,function(b){var f=b.topic||"#";a.each(d,function(d){var g=d.channel||c.configuration.DEFAULT_CHANNEL;e.push(c.subscribe({channel:b.channel||c.configuration.DEFAULT_CHANNEL,topic:f,callback:function(b,e){var f=a.clone(e);f.topic=a.isFunction(d.topic)?d.topic(e.topic):d.topic||e.topic,f.channel=g,f.data=b,c.publish(f)}}))})}),e},utils:{getSubscribersFor:function(){var a=arguments[0],b=arguments[1];return 1===arguments.length&&(a=arguments[0].channel||c.configuration.DEFAULT_CHANNEL,b=arguments[0].topic),c.configuration.bus.subscriptions[a]&&Object.prototype.hasOwnProperty.call(c.configuration.bus.subscriptions[a],b)?c.configuration.bus.subscriptions[a][b]:[]},reset:function(){c.configuration.bus.reset(),c.configuration.resolver.reset()}}},m.subscriptions[c.configuration.SYSTEM_CHANNEL]={},b&&Object.prototype.hasOwnProperty.call(b,"__postalReady__")&&a.isArray(b.__postalReady__))for(;b.__postalReady__.length;)b.__postalReady__.shift().onReady(c);return c})},{underscore:105}],105:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=u(d,f,4);var g=!z(c)&&t.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=v(c,d);for(var e=null!=b&&b.length,f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b){var c=E.length,d=a.constructor,e=t.isFunction(d)&&d.prototype||i,f="constructor";for(t.has(a,f)&&!t.contains(b,f)&&b.push(f);c--;)f=E[c],f in a&&a[f]!==e[f]&&!t.contains(b,f)&&b.push(f)}var f=this,g=f._,h=Array.prototype,i=Object.prototype,j=Function.prototype,k=h.push,l=h.slice,m=i.toString,n=i.hasOwnProperty,o=Array.isArray,p=Object.keys,q=j.bind,r=Object.create,s=function(){},t=function(a){return a instanceof t?a:this instanceof t?void(this._wrapped=a):new t(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=t),c._=t):f._=t,t.VERSION="1.8.2";var u=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){return null==a?t.identity:t.isFunction(a)?u(a,b,c):t.isObject(a)?t.matcher(a):t.property(a)};t.iteratee=function(a,b){return v(a,b,1/0)};var w=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},x=function(a){if(!t.isObject(a))return{};if(r)return r(a);s.prototype=a;var b=new s;return s.prototype=null,b},y=Math.pow(2,53)-1,z=function(a){var b=a&&a.length;return"number"==typeof b&&b>=0&&y>=b};t.each=t.forEach=function(a,b,c){b=u(b,c);var d,e;if(z(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=t.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},t.map=t.collect=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},t.reduce=t.foldl=t.inject=a(1),t.reduceRight=t.foldr=a(-1),t.find=t.detect=function(a,b,c){var d;return d=z(a)?t.findIndex(a,b,c):t.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},t.filter=t.select=function(a,b,c){var d=[];return b=v(b,c),t.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},t.reject=function(a,b,c){return t.filter(a,t.negate(v(b)),c)},t.every=t.all=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},t.some=t.any=function(a,b,c){b=v(b,c);for(var d=!z(a)&&t.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},t.contains=t.includes=t.include=function(a,b,c){return z(a)||(a=t.values(a)),t.indexOf(a,b,"number"==typeof c&&c)>=0},t.invoke=function(a,b){var c=l.call(arguments,2),d=t.isFunction(b);return t.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},t.pluck=function(a,b){return t.map(a,t.property(b))},t.where=function(a,b){return t.filter(a,t.matcher(b))},t.findWhere=function(a,b){return t.find(a,t.matcher(b))},t.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=z(a)?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=v(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},t.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=z(a)?a:t.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=v(b,c),t.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},t.shuffle=function(a){for(var b,c=z(a)?a:t.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=t.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},t.sample=function(a,b,c){return null==b||c?(z(a)||(a=t.values(a)),a[t.random(a.length-1)]):t.shuffle(a).slice(0,Math.max(0,b))},t.sortBy=function(a,b,c){return b=v(b,c),t.pluck(t.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var A=function(a){return function(b,c,d){var e={};return c=v(c,d),t.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};t.groupBy=A(function(a,b,c){t.has(a,c)?a[c].push(b):a[c]=[b]}),t.indexBy=A(function(a,b,c){a[c]=b}),t.countBy=A(function(a,b,c){t.has(a,c)?a[c]++:a[c]=1}),t.toArray=function(a){return a?t.isArray(a)?l.call(a):z(a)?t.map(a,t.identity):t.values(a):[]},t.size=function(a){return null==a?0:z(a)?a.length:t.keys(a).length},t.partition=function(a,b,c){b=v(b,c);var d=[],e=[];return t.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},t.first=t.head=t.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:t.initial(a,a.length-b)},t.initial=function(a,b,c){return l.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},t.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:t.rest(a,Math.max(0,a.length-b))},t.rest=t.tail=t.drop=function(a,b,c){return l.call(a,null==b||c?1:b)},t.compact=function(a){return t.filter(a,t.identity)};var B=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=a&&a.length;h>g;g++){var i=a[g];if(z(i)&&(t.isArray(i)||t.isArguments(i))){b||(i=B(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};t.flatten=function(a,b){return B(a,b,!1)},t.without=function(a){return t.difference(a,l.call(arguments,1))},t.uniq=t.unique=function(a,b,c,d){if(null==a)return[];t.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=v(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?t.contains(f,j)||(f.push(j),e.push(i)):t.contains(e,i)||e.push(i)}return e},t.union=function(){return t.uniq(B(arguments,!0,!0))},t.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!t.contains(b,f)){for(var g=1;c>g&&t.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},t.difference=function(a){var b=B(arguments,!0,!0,1);return t.filter(a,function(a){return!t.contains(b,a)})},t.zip=function(){return t.unzip(arguments)},t.unzip=function(a){for(var b=a&&t.max(a,"length").length||0,c=Array(b),d=0;b>d;d++)c[d]=t.pluck(a,d);return c},t.object=function(a,b){for(var c={},d=0,e=a&&a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},t.indexOf=function(a,b,c){var d=0,e=a&&a.length;if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else if(c&&e)return d=t.sortedIndex(a,b),a[d]===b?d:-1;if(b!==b)return t.findIndex(l.call(a,d),t.isNaN);for(;e>d;d++)if(a[d]===b)return d;return-1},t.lastIndexOf=function(a,b,c){var d=a?a.length:0;if("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1)),b!==b)return t.findLastIndex(l.call(a,0,d),t.isNaN);for(;--d>=0;)if(a[d]===b)return d;return-1},t.findIndex=d(1),t.findLastIndex=d(-1),t.sortedIndex=function(a,b,c,d){c=v(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},t.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var C=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=x(a.prototype),g=a.apply(f,e);return t.isObject(g)?g:f};t.bind=function(a,b){if(q&&a.bind===q)return q.apply(a,l.call(arguments,1));if(!t.isFunction(a))throw new TypeError("Bind must be called on a function");var c=l.call(arguments,2),d=function(){return C(a,d,b,this,c.concat(l.call(arguments)))};return d},t.partial=function(a){var b=l.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===t?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return C(a,c,this,this,f)};return c},t.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=t.bind(a[c],a);return a},t.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return t.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},t.delay=function(a,b){var c=l.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},t.defer=t.partial(t.delay,t,1),t.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:t.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=t.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},t.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=t.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=t.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},t.wrap=function(a,b){return t.partial(b,a)},t.negate=function(a){return function(){return!a.apply(this,arguments)}},t.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},t.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},t.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},t.once=t.partial(t.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];t.keys=function(a){if(!t.isObject(a))return[];if(p)return p(a);var b=[];for(var c in a)t.has(a,c)&&b.push(c);return D&&e(a,b),b},t.allKeys=function(a){if(!t.isObject(a))return[];var b=[];for(var c in a)b.push(c);return D&&e(a,b),b},t.values=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},t.mapObject=function(a,b,c){b=v(b,c);for(var d,e=t.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},t.pairs=function(a){for(var b=t.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},t.invert=function(a){for(var b={},c=t.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},t.functions=t.methods=function(a){var b=[];for(var c in a)t.isFunction(a[c])&&b.push(c);return b.sort()},t.extend=w(t.allKeys),t.extendOwn=t.assign=w(t.keys),t.findKey=function(a,b,c){b=v(b,c);for(var d,e=t.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},t.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;t.isFunction(b)?(e=t.allKeys(g),d=u(b,c)):(e=B(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},t.omit=function(a,b,c){if(t.isFunction(b))b=t.negate(b);else{var d=t.map(B(arguments,!1,!1,1),String);b=function(a,b){return!t.contains(d,b)}}return t.pick(a,b,c)},t.defaults=w(t.allKeys,!0),t.clone=function(a){return t.isObject(a)?t.isArray(a)?a.slice():t.extend({},a):a},t.tap=function(a,b){return b(a),a},t.isMatch=function(a,b){var c=t.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof t&&(a=a._wrapped),b instanceof t&&(b=b._wrapped);var e=m.call(a);if(e!==m.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(t.isFunction(g)&&g instanceof g&&t.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!F(a[i],b[i],c,d))return!1}else{var j,k=t.keys(a);if(i=k.length,t.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!t.has(b,j)||!F(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};t.isEqual=function(a,b){return F(a,b)},t.isEmpty=function(a){return null==a?!0:z(a)&&(t.isArray(a)||t.isString(a)||t.isArguments(a))?0===a.length:0===t.keys(a).length},t.isElement=function(a){return!(!a||1!==a.nodeType)},t.isArray=o||function(a){return"[object Array]"===m.call(a)},t.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},t.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){t["is"+a]=function(b){return m.call(b)==="[object "+a+"]"}}),t.isArguments(arguments)||(t.isArguments=function(a){return t.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(t.isFunction=function(a){return"function"==typeof a||!1}),t.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},t.isNaN=function(a){return t.isNumber(a)&&a!==+a},t.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===m.call(a)},t.isNull=function(a){return null===a},t.isUndefined=function(a){return void 0===a},t.has=function(a,b){return null!=a&&n.call(a,b)},t.noConflict=function(){return f._=g,this},t.identity=function(a){return a},t.constant=function(a){return function(){return a}},t.noop=function(){},t.property=function(a){return function(b){return null==b?void 0:b[a]}},t.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},t.matcher=t.matches=function(a){return a=t.extendOwn({},a),function(b){return t.isMatch(b,a)}},t.times=function(a,b,c){var d=Array(Math.max(0,a));b=u(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},t.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},t.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=t.invert(G),I=function(a){var b=function(b){return a[b]},c="(?:"+t.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};t.escape=I(G),t.unescape=I(H),t.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),t.isFunction(d)?d.call(a):d};var J=0;t.uniqueId=function(a){var b=++J+"";return a?a+b:b},t.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,N=function(a){return"\\"+L[a]};t.template=function(a,b,c){!b&&c&&(b=c),b=t.defaults({},b,t.templateSettings);var d=RegExp([(b.escape||K).source,(b.interpolate||K).source,(b.evaluate||K).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(M,N),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,t)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},t.chain=function(a){var b=t(a);return b._chain=!0,b};var O=function(a,b){return a._chain?t(b).chain():b};t.mixin=function(a){t.each(t.functions(a),function(b){var c=t[b]=a[b];t.prototype[b]=function(){var a=[this._wrapped];return k.apply(a,arguments),O(this,c.apply(t,a))}})},t.mixin(t),t.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=h[a];t.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],O(this,c)}}),t.each(["concat","join","slice"],function(a){var b=h[a];t.prototype[a]=function(){return O(this,b.apply(this._wrapped,arguments))}}),t.prototype.value=function(){return this._wrapped},t.prototype.valueOf=t.prototype.toJSON=t.prototype.value,t.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return t})}).call(this)},{}],106:[function(a,b){"use strict";function c(a,b,c){return{getGenerator:function(d){var e=c;return c.next=b,a.partial(e.generate.bind(e),d)}}}b.exports=c,c.$inject=["lodash","iGenerateAnalysisFromCube","iGenerateAnalysisFromSaved"]},{}],107:[function(a,b){"use strict";function c(){function a(){}return a.prototype.generate=function(a){var b=this;do{if(b.accepts(a))return b.execute(a);b=b.next}while(b);throw new Error("request could not be handled")},a.prototype.accepts=function(){return!1},a.prototype.execute=function(){throw new Error("not implemented")},Object.defineProperties(a.prototype,{next:{set:function(b){if(!(b instanceof a))throw new Error("generator doesn't conform with interface");this._next=b},get:function(){return this._next}}}),new a}b.exports=c,c.$inject=[]},{}],108:[function(a,b){"use strict";function c(a,b,c,d,e,f){function g(b){return a.isString(b.slideId)}function h(a){if(!a.datasetId)throw new Error("please provide a valid datasetId")}function i(b){if(!a.isString(b.slideId))throw new Error("please provide a valid slideId")}var j={"add-variable":function(a){this.variables.add(a).then(function(){this.recalculate()}.bind(this))},clean:function(){this.variables.clean(),delete this.data,this.transition("empty")},"remove-variable":function(a){this.variables.remove(a),this.variables.isEmpty()?(delete this.data,this.transition("empty")):this.recalculate()},"replace-variable":function(a,b){this.variables.replace(a,b).then(function(){this.recalculate()}.bind(this))},pivot:function(a,b){this.variables.pivot(a,b),this.recalculate()},recalculate:function(){this.recalculate()},"measures-mean":function(a){this.measures.add("mean",a).then(function(){this.recalculate()}.bind(this))},"measures-count":function(){this.measures.clean()}},k=c.Fsm.extend({namespace:"analysis",initialState:"uninitialized",recalculate:function(){var a=f.getGenerator({datasetId:this.datasetId,variables:this.variables,measures:this.measures,currentData:this.data}),b=this;b.transition("loading");try{a().then(function(a){b.data=a,b.transition("loaded")})["catch"](function(){b.transition("error")})}catch(c){b.transition("error")}},isUnivariate:function(){return 1===this.variables.count()&&!this.variables.hasArrays()},isBivariate:function(){return 2===this.variables.count()&&!this.variables.hasArrays()},isEmpty:function(){return 0===this.variables.count()},hasMeanMeasure:function(){return this.measures.hasMeasure("mean")},hasArrayVariables:function(){return this.variables.hasArrays()},hasBinnedRows:function(){return"numeric"===this.variables.at(0).type},destroy:function(){this.off()},states:{uninitialized:{initialize:function(a){h(a),this.datasetId=a.datasetId,this.variables=new d(a.datasetId),this.measures=new e(a.datasetId),this.transition("empty")}},empty:{_onEnter:function(){this.measures.clean()},"add-variable":function(a){this.variables.add(a).then(function(){this.recalculate()}.bind(this))},"measures-mean":function(a){this.measures.add("mean",a).then(function(){this.recalculate()}.bind(this))},"measures-count":function(){this.measures.clean()}},loading:{_onEnter:function(){this.emit("analysis.loading")}},error:a.extend({_onEnter:function(){this.emit("analysis.error")}},j),loaded:a.extend({_onEnter:function(){this.emit("analysis.loaded",this.data)}},j)}});Object.defineProperties(k.prototype,{graphType:{get:function(){var a,b="barchart";return this.hasMeanMeasure()?b="dotplot":(a=this.variables.items.map(function(a){return a.type}),a.forEach(function(a,c){"numeric"===a&&0==c?b="histogram":"datetime"===a&&1==c&&(b="timeplot")})),b}}});var l=k.extend({states:{uninitialized:{initialize:function(a){h(a),i(a),this.datasetId=a.datasetId,this.slideId=a.slideId,this.analysis=a.analysis||void 0,this.savedSettings=void 0,this.variables=new d(a.datasetId),this.measures=new e(a.datasetId),this.transition("empty")}},empty:{load:function(){var a,c=this;a=f.getGenerator({datasetId:c.datasetId,slideId:c.slideId,analysis:c.analysis}),c.transition("loading"),a().then(function(a){var d=[];return c.data=a,c.displaySettings=a.analysis.display_settings,d.push(c.variables.add(a.variables)),a.measureVariables&&d.push(c.measures.add("mean",a.measureVariables)),b.all(d)}).then(function(){c.emit("savedAnalysis.loaded",c.data),c.transition("loaded")})["catch"](function(){c.transition("error")})}}}});return{create:function(a){var b;return a=a||{},b=g(a)?new l:new k,b.handle("initialize",a),b}}}b.exports=c,c.$inject=["lodash","$q","machina","VariableList","MeasureList","analysisGeneratorFactory"]},{}],109:[function(a,b){"use strict";function c(a,b){function c(c,d){var e={};d=d||{count:{"function":"cube_count"}},e.categorical=function(a){var b=a.self;return"/"===b[b.length-1]&&(b=b.substring(0,b.length-1)),{variable:b}},e.categorical_array=function(a){var b=a.self;"/"===b[b.length-1]&&(b=b.substring(0,b.length-1));var c={};return c[a.dimension]=b,c},e.numeric=function(a){var b=a.self;return"/"===b[b.length-1]&&(b=b.substring(0,b.length-1)),{"function":"bin",args:[{variable:b}]}},e.text=function(a){var b=a.self;return"/"===b[b.length-1]&&(b=b.substring(0,b.length-1)),{variable:b}},e.datetime=function(a){var b=a.self;"/"===b[b.length-1]&&(b=b.substring(0,b.length-1));var c=a.view.rollup_resolution||NULL,d=""===c?NULL:c;return{"function":"rollup",args:[{variable:b},{value:d}]}},e.multiple_response=function(a){var b=a.self;return"/"===b[b.length-1]&&(b=b.substring(0,b.length-1)),[{"function":"selected_array",args:[{variable:b}]},{each:b}]};var f=a.flatten(c.map(function(a){return e[a.type](a)},this),!0);return d.mean&&c.length>1&&delete d.stddev,b.when({dimensions:f,measures:d})}return{build:c}}b.exports=c,c.$inject=["lodash","$q"]},{}],110:[function(a,b){"use strict";function c(a){return function(b){return a({datasetId:b.datasetId}).then(function(a){return a.urls.cube.map({params:{query:b.query}}).then(function(a){return a.value})})}}a("lodash");c.$inject=["iResourceDataset"],b.exports=c},{lodash:76}],111:[function(a,b){"use strict";function c(a,b,c,d,e,f){function g(b){if(!a.isObject(b)||!a.isArray(b.variables))throw new Error("provide an array of variables")}function h(a){function c(a){var b=a.measures.valueOf()||{};return e.build(a.variables.valueOf(),b)}function g(b){return f({query:b,datasetId:a.datasetId})}function h(a){return d.fromCrCube(a)}var i=[c,g,h];return i.reduce(b.when,a)}var i=Object.create(c);return i.accepts=function(a){return a&&a.variables&&a.measures},i.execute=function(a){return a.variables=a.variables.valueOf(),g(a),h(a).then(function(a){return{cube:a}})},i}b.exports=c,c.$inject=["lodash","$q","analysisGenerator","cube","cubeQuery","iFetchCubes"]},{}],112:[function(a,b){"use strict";function c(a,b,c,d,e,f,g){function h(b){if(!a.isObject(b)||!a.isString(b.datasetId))throw new Error("provide a dataset id")}function i(a,b){return a.dataset=b,g({datasetId:b.self,query:a.analysis.query})}function j(a,b){return f.fromCrCube(b)}function k(a,b){var c=b,d=a.analysis.query.dimensions.filter(function(a){return a["function"]?"selected_array"!==a["function"]:!0}),f=d.map(function(a){return{self:e(a),dimension:a.each?"each":"variable"}}),g=a.analysis.query.measures.mean?e(a.analysis.query.measures.mean):void 0;return{cube:c,variables:f,measureVariables:g,analysis:a.analysis}}var l,m=Object.create(b);return m.accepts=function(b){return a.isObject(b)&&a.isObject(b.analysis)&&b.slideId},m.execute=function(a){return h(a),l={},l.analysis=a.analysis,c({datasetId:a.datasetId}).then(function(a){var b=[i,j,k];return a.reduce(l,b)})},m}b.exports=c,c.$inject=["lodash","analysisGenerator","iResourceDataset","Shoji","crFindVariables","cube","iFetchCubes"]},{}],113:[function(a,b){"use strict";function c(b){var c=a("angular"),d=c.module(b||"analysis",[]);return d.factory("lodash",function(){return a("lodash")}),d.factory("analysisGenerator",a("./analysis-generator")),d.factory("iGenerateAnalysisFromCube",a("./i-generate-analysis-from-cube")),d.factory("iGenerateAnalysisFromSaved",a("./i-generate-analysis-from-saved-analysis")),d.factory("analysisGeneratorFactory",a("./analysis-generator-factory")),d.factory("cubeQuery",a("./cube-query")),d.factory("iFetchCubes",a("./i-fetch-cubes")),d.factory("VariableList",a("./variable-list")),d.factory("MeasureList",a("./measure-list")),d.factory("Analysis",a("./analysis")),d}b.exports=c},{"./analysis":108,"./analysis-generator":107,"./analysis-generator-factory":106,"./cube-query":109,"./i-fetch-cubes":110,"./i-generate-analysis-from-cube":111,"./i-generate-analysis-from-saved-analysis":112,"./measure-list":114,"./variable-list":115,angular:"angular",lodash:76}],114:[function(a,b){"use strict";function c(a,b,c){function d(a){if(!a)throw new Error("datasetId is required by the measure list")}function e(a){d(a),this.datasetId=a,this.measures={}}function f(b,c){return{"function":"cube_"+c,args:a.map(b,function(a){return{variable:a.self}})}}return e.prototype.add=function(a,d){var e,f,g=this.measures[a]||{},h=this;return g.hasOwnProperty(d)?e=b.when(g[d]):(g={},f=c.current.byId(d),f.contains(d)?e=f.getSubvariables().then(function(b){
g[d]=b,h.measures[a]=g}):(g[d]=f,h.measures[a]=g,e=$.when(g[d]))),e},e.prototype.hasMeasure=function(b){return a.isObject(this.measures[b])&&Object.keys(this.measures[b]).length>0},e.prototype.getMeasureVariable=function(a,b){var c=this.measures[a]||{},d=Object.keys(c)[b];return c[d]},e.prototype.clean=function(){this.measures={}},e.prototype.valueOf=function(){var b=a.cloneDeep(this.measures);return 0===Object.keys(b).length&&(b.count={}),b.hasOwnProperty("mean")&&(b.stddev=b.mean),a.mapValues(b,f)},e.prototype.toJSON=function(){return this.valueOf()},e}b.exports=c,c.$inject=["lodash","$q","cachedHierarchicalVariables"]},{}],115:[function(a,b){"use strict";function c(a,b,c){function d(a){var b,c,d=this;return c="object"==typeof a?e(a.self).then(function(b){var c=b.clone();return c.dimension=a.dimension,d.items=d.items.concat([c]),c}):e(a).then(function(a){return b=h[a.type]||h["default"],d.items=b(a,d.items),a})}function e(a){var b,d=c.current.byId(a);return b=d.contains(a)?d.getSubvariables().then(function(){return d.subvariableById(a).map()}):d.map()}function f(a){if(!a)throw new Error("Dataset id is required by the variable list")}function g(a){f(a),this.datasetId=a,this.items=[]}var h={categorical_array:function(b,c){var d=a.cloneDeep(b);return b.dimension="each",d.dimension="variable",c.push(b,d),c},"default":function(a,b){return a.dimension="variable",b.push(a),b}};return g.prototype.at=function(a){return this.items[a]},g.prototype.getTypes=function(){return this.items.map(function(a){return a.type})},g.prototype.add=function(a){function c(){var a,d=e.shift();return a=d?f(d).then(c):b.when(h.items.slice(g))}var e=a instanceof Array?a:[a],f=d.bind(this),g=this.items.length,h=this;return c()},g.prototype.replace=function(a,b){var c,f,g=this.items;return c=g.length<=a?d.call(this,b):e(b).then(function(b){return f=h[b.type]||h["default"],g[a]=f(b,[])[0],b})},g.prototype.pivot=function(b,c){var d=this.items,e=d[b],f=d[c];if(!a.isObject(e)||!a.isObject(f))throw new Error("Some of the specified variables does not exist");d[b]=f,d[c]=e},g.prototype.hasArrays=function(){return this.items.some(function(a){return"categorical_array"===a.type})},g.prototype.clean=function(){this.items.length=0},g.prototype.isEmpty=function(){return 0===this.items.length},g.prototype.count=function(){return this.items.length},g.prototype.remove=function(a){if(this.isEmpty()||!(a<this.items.length))throw new Error("no variable at this index");if("categorical_array"==this.items[a].type){var b=this.items[a].self;this.items=this.items.filter(function(a){return a.self!=b})}else this.items.splice(a,1)},g.prototype.valueOf=function(){return this.items},g}b.exports=c,c.$inject=["lodash","$q","cachedHierarchicalVariables"]},{}],116:[function(a,b){"use strict";b.exports=function(){var b,c=a("angular"),d=[a("../shoji"),a("../resources"),a("../messaging"),a("../machina-angular"),a("../current-dataset"),a("../traversable"),a("../drag-and-drop"),a("../hierarchical-variables"),a("../hierarchical-variables-list"),a("../analysis"),a("../cube"),a("../start-from")];return b=c.module("crunchJS",d.map(function(a){return a().name}))}},{"../analysis":113,"../cube":124,"../current-dataset":130,"../drag-and-drop":137,"../hierarchical-variables":157,"../hierarchical-variables-list":142,"../machina-angular":162,"../messaging":170,"../resources":181,"../shoji":182,"../start-from":190,"../traversable":192,angular:"angular"}],117:[function(a,b){"use strict";function c(){function a(a){this.data=a}return Object.defineProperties(a.prototype,{name:{get:function(){return this.data.references.name||void 0}},type:{value:"binned"},labels:{get:function(){return this.validExtents.map(function(a){return a.value})}},missing:{get:function(){return this.data.type.elements.map(function(a){return a.missing})}},length:{get:function(){return this.data.type.elements.length}},validLength:{get:function(){return this.validExtents.length}},validExtents:{get:function(){return this.data.type.elements.filter(function(a){return a.missing===!1})}},subscripts:{get:function(){return this.data.type.elements.map(function(a,b){return b})}},missingSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){b.value&&b.value.id||"";return b.missing?(a.push(c),!0):void 0})}return a}},validSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){b.value&&b.value.id||"";return b.missing===!1?(a.push(c),!0):void 0})}return a}},prunedExtents:{set:function(a){this.data.type.elements=a}}}),a}b.exports=c,c.$inject=["lodash"]},{}],118:[function(a,b){"use strict";function c(){function a(a){this.data=a}return Object.defineProperties(a.prototype,{name:{get:function(){return this.data.references.name||void 0}},type:{value:"categorical"},labels:{get:function(){return this.validExtents.map(function(a){return a.name})}},missing:{get:function(){return this.data.type.categories.map(function(a){return a.missing})}},subscripts:{get:function(){return this.data.type.categories.map(function(a,b){return b})}},missingSubscripts:{get:function(){{var a=[];this.data.type.categories.filter(function(b,c){b.value&&b.value.id||"";return b.missing?(a.push(c),!0):void 0})}return a}},validSubscripts:{get:function(){{var a=[];this.data.type.categories.filter(function(b,c){b.value&&b.value.id||"";return b.missing===!1?(a.push(c),!0):void 0})}return a}},length:{get:function(){return this.data.type.categories.length}},validLength:{get:function(){return this.validExtents.length}},validExtents:{get:function(){return this.data.type.categories.filter(function(a){return a.missing===!1})}},prunedExtents:{set:function(a){this.data.type.categories=a}}}),a}b.exports=c,c.$inject=["lodash"]},{}],119:[function(a,b){"use strict";function c(){function a(a){this.data=a}return Object.defineProperties(a.prototype,{name:{get:function(){return this.data.references.name||void 0}},type:{value:"composite"},missing:{get:function(){return this.data.type.elements.map(function(a){return a.missing})}},labels:{get:function(){return this.validExtents.map(function(a){return a.value.references.name})}},length:{get:function(){return this.data.type.elements.length}},validLength:{get:function(){return this.validExtents.length}},validExtents:{get:function(){return this.data.type.elements.filter(function(a){return a.missing===!1})}},subscripts:{get:function(){return this.data.type.categories.map(function(a,b){return b})}},missingSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){b.value&&b.value.id||"";return b.missing?(a.push(c),!0):void 0})}return a}},validSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){b.value&&b.value.id||"";return b.missing===!1?(a.push(c),!0):void 0})}return a}},prunedExtents:{set:function(a){this.data.type.elements=a}}}),a}b.exports=c,c.$inject=["lodash"]},{}],120:[function(a,b){"use strict";function c(){function a(b){var c=b.variable||!1,d=(b.value||!1,b["function"]||!1),e=b.each||!1,f=b instanceof Array||!1,g="string"==typeof b||!1;if(c)return c;if(d)return a(b.args);if(e){var h=b.each||!1;if(h)return h}else{if(f)return a(b[0]);if(g)return b}return void 0}return a}b.exports=c,c.$inject=[]},{}],121:[function(a,b){"use strict";function c(a,b,c,d,e){function f(a,b,c){return c.nMissing=a.measures[c.measures[0]].n_missing||0,c.n=a.n-c.nMissing,c.shape=b.map(function(a){return a.length}),c.missing=b.map(function(a){return a.missing}),c.validShape=b.map(function(a){return a.validLength}),1===c.validShape.length&&c.validShape.push(1),c.labels=b.map(function(a){return a.labels}),c}function g(){function a(e,f){for(var g=b[f],h=f===c,i=0;i<g.length;++i){var j=e.slice();j.push(g[i]),h?d.push(j):a(j,f+1)}}var b=[].slice.call(arguments),c=b.length-1,d=[];return b.length?a([],0):d.push([]),d}var h=function(a,b){var d=(b.shape,b.validShape);return this.dimension=d.length,this.n=b.n,this._dimensions=b.dimensions,this.query=b.query,this.valid=b.n,this.nMissing=b.nMissing,this.weightId=b.weightId,this.appliedFilters=c.cloneDeep(b.appliedFilters),c.extend(this,a),this};return Object.defineProperties(h.prototype,{labels:{get:function(){return this._dimensions.map(function(a){return a.labels})}},subscripts:{get:function(){return this._dimensions.map(function(a){return a.validSubscripts})}}}),h.fromCrCube=function(a){var g=a,i={measures:Object.keys(g.result.measures),query:g.query},j={},k=(g.result.dimensions||[]).map(function(a){return d.fromData(a)});i.measures.indexOf("mean")>-1&&k.push(d.aggregateDimension("Mean")),i=f(g.result,k,i),i.dimensions=k,i.appliedFilters=g.query?g.query.filters:[],i.weightId=g.query?g.query.weight:void 0;var l=c.mapValues(g.result.measures,function(a,b){return e.fromData({type:b,data:a.data,meta:i})});return j=new h(l,i,g.margins),b.when(j)},h.prod=g,h.prototype.ravelLabels=function(){return g.apply(this,this.labels)},h}b.exports=c,c.$inject=["$log","$q","lodash","dimension","measure"]},{}],122:[function(a,b){"use strict";function c(a,b,c,d,e){function f(a){k(a,"derived","references","type")}function g(a){var b=a.type;return b.hasOwnProperty("categories")&&b.categories.every(function(a){return k(a,"id","missing","name","numeric_value",!0)})}function h(a){var b=a.type;return b.hasOwnProperty("elements")&&b.elements.every(function(a){return k(a,"id","missing","value",!0)&&!k(a.value,"references","type","id",!0)})}function i(a){var b=a.type,c=b.hasOwnProperty("elements"),d=c&&b.elements.every(function(a){return k(a,"id","missing","value",!0)}),e=d&&2===b.elements.filter(function(a){return a.value&&("__none__"===a.value.id||"__any__"===a.value.id)}).length;return e}function j(a){var b=a.type,c=b.hasOwnProperty("elements"),d=c&&b.elements.every(function(a){return k(a,"id","missing","value",!0)&&g(a.value)});return d}function k(a){var b=Array.prototype.slice.call(arguments,1),c=b.pop();return b.every(function(b){return l(a,b,c)})}function l(a,b,c){var d=a.hasOwnProperty(b);if(!d&&!c)throw new Error("Object should have property "+b);return d}function m(a){this.data=a}return Object.defineProperties(m.prototype,{length:{value:1},validLength:{value:1},missing:{value:[!1]},labels:{get:function(){return[this.data.name]}}}),{fromData:function(a){var k;return f(a),g(a)?k=new b(a):h(a)?k=new c(a):i(a)?k=new e(a):j(a)&&(k=new d(a)),k.reference=a.references.name,k},aggregateDimension:function(a){return new m({name:a})}}}b.exports=c,c.$inject=["lodash","CategoricalDimension","BinnedDimension","CompositeDimension","MultiResponseDimension"]},{}],123:[function(a,b){"use strict";function c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){var b={s:":%S",m:"%H:%M",h:"%H:00",D:"%d %b %Y",W:"%Y W%W",M:"%b %Y",Y:"%Y"};return b[a]||"%Y-%m-%d"}function q(a,b){function c(b){var c=l.margin(a,b),e=n.clone(c);return m.divseq(e,H),e=d(q(e)),{count:d(c),percent:e}}function f(){return A.map(function(b){var c={},d=new Array(G.dimension);return a._dimensions.forEach(function(a,c){b.hasBase(x.at(c).self)&&(d[c]=e.at(b.getValues(),a.validSubscripts),I[c].push(b.name))},this),c[b.name]=d,c},this)}function g(){var a=N.subscripts;if("labels"===w.sortSource&&(a[0]=l.getSortedSubscripts(N.margins.labels[0])),"bodyCols"===w.sortSource){var b=K[1].indexOf(w.sortKey);if(b>-1){var c=n.clone(N.bodies.value.pick(-1,b)),d=Array.prototype.slice.call(c.data),f=l.getSortedSubscripts(d);a[0]=f}}if("postCols"===w.sortSource){var d=e.flatten(N.margins.count[0]),f=l.getSortedSubscripts(d);a[0]=f}-1===w.sortDirection.value&&(a[0]=a[0].reverse()),N.filterPermute(a)}function h(){F.postRows=[],F.postRows.push(u(N.margins.percent[1],"All (%)",{type:j(1,B,z)})),F.postRows.push(u(N.margins.count[1],D?"Total":"Valid",{type:"count"}))}function i(){x.count()>1&&(F.postCols=[],F.postCols.push(u(N.margins.percent[0],"All (%)",{type:j(0,B,z)})),F.postCols.push(u(N.margins.count[0],D?"Total":"Valid")))}function j(a,b,c){return 1===c.length?"multiresponse"===c[0]?"emdash":"percent":"multiresponse"===c[1-a]?"count"===w.countsOrPercents.value?"percent":a===b?"emdash":"percent":"composite"===c[1-a]?a===b?"emdash":"percent":"count"===w.countsOrPercents.value?"percent":a===b?"hundreds":"percent"}function k(a,b){var c;return c="percent"===b.countsOrPercents.value?q(l.propTable(a,B)):a.count.cube}function q(a){return m.mulseq(a,100)}function s(a,b,c){return a.map(function(a,d){return e.extend({label:b[d],cells:a.map(function(a){return{value:a}})},c)},this)}function t(a,b){var c=Object.keys(b)[0];return a.map(function(a,d){return a.cells=a.cells.map(function(a,e){return a[c]=b[c].get(d,e),a}),a})}function u(a,b,c){return e.extend({label:b,cells:a.map(function(a){return e.extend({value:a instanceof Array?a[0]:a})})},c)}var v,w=b.settings,x=b.analysis.variables,y=x.getTypes(),z=a._dimensions.map(function(a){return a.type}),A=b.comparisons||[],B="rowPct"===w.percentageDirection.value?0:"colPct"===w.percentageDirection.value?1:void 0,C=["Count"],D=!!a.weightId;"percent"===w.countsOrPercents.value&&(C=["Percent"]);var E=x.hasArrays(),F={id:e.uniqueId("t"),variables:x,template:"/tables/crosstab.html",preCols:[],postCols:[],preRows:[],postRows:[],rowLabels:[],colLabels:C,showColumnTitle:!x.hasArrays()&&x.count()>1,valid:a.n,missing:a.nMissing,analysis:{query:a.query,cube:a,filters:a.appliedFilters,weight:a.weightId}},G=k(a,w),H=l.margin(a).get(0,0),I=Array.apply(void 0,Array(G.dimension)).map(function(){return[]}),J=[0,1].map(c,this),K=a.labels;1===K.length&&K.push(C);var L={count:[J[0].count,J[1].count[0]],percent:[J[0].percent,J[1].percent[0]],labels:K};if(A.length){var M=f();M.forEach(function(a){e.extend(L,a)},this)}var N=new o({value:G},L),O=a.subscripts;1==O.length&&O.push([0]);var P=l.filterByMarginThreshold(a,0);w.showSignif["true"]&&B>=0&&(v=l.getPvalues(a,B),N.bodies.pValues=v),w.showEmpty.disabled=e.isEqual(O,P),w.showEmpty["false"]&&(O=P,N.filterPermute(O)),0!==w.sortDirection.value&&g();F.rows=s(d(N.bodies.value),r(N.margins.labels[0],a._dimensions[0].type.subtype),{type:w.countsOrPercents.value});N.bodies.pValues&&(F.rows=t(F.rows,{pValue:N.bodies.pValues})),F.rowLabels=r(N.margins.labels[0],a._dimensions[0].type.subtype),x.count()>1&&!E?(h(),i()):1===x.count()?h():E&&F.postCols.push(u(N.margins.count[0],D?"Total":"Valid")),I[0].forEach(function(a){"variable"===x.at(0).dimension&&F.postCols.push(u(N.margins[a][0],a))},this),I[1].forEach(function(a){"variable"===x.at(1).dimension&&F.postRows.push(u(N.margins[a][1],a))},this),x.count()>1&&(F.colLabels=r(N.margins.labels[1],a._dimensions[1].type.subtype)),e.forEachRight(y,function(a,b){F.graph="barchart","numeric"===a&&0==b&&(F.graph="histogram")},this),y.forEach(function(b,c){if("datetime"===b&&1==c){F.graph="timeplot";var d={};d.timeaxis="var"+c,d.variables={},d.variables[d.timeaxis]=p(a._dimensions[c].data.type.subtype.resolution),F.format=d}},this),F.dataFrameTable=N.dataFrameTable(),b.analysis.savedSettings&&(F.analysis.display_settings=b.analysis.savedSettings.display_settings);var Q=x.at(0);return F.title=Q.fullName,F.subtitle=Q.description,F}function r(a,b){b||(b={"class":"default"}),e.every(a,function(a){return a instanceof Array})&&(b={"class":"numeric"});var c={datetime:function(a){return a.map(function(a){return h(a,p(b.resolution))}.bind(this))},numeric:function(a){return a.map(function(a){return a.map(function(a){var b=i("number")(a,2);return a-Math.floor(a)>0?b:a}).join(" – ")}.bind(this))},"default":function(a){return a}};return c[b["class"]]?c[b["class"]](a):a}function s(a,b){function c(b){return a.dimension<3?d(b):3==a.dimension?d(b).map(e.flatten):void 0}var f=b.settings,g=b.analysis,h=a.labels,i=new o({value:a.mean.cube},{labels:h}),j={id:e.uniqueId("t"),variables:g.variables,withMeans:!0,template:"/tables/measures.html",measureVariable:g.measures.getMeasureVariable("mean",0),rows:c(a.mean.cube),cube:a,rowLabels:1===h.length?["Mean"]:r(h[0],a._dimensions[0].type.subtype),colLabels:3===h.length?r(h[1],a._dimensions[1].type.subtype):["Mean"],valid:a.n,missing:a.nMissing,graph:"dotplot",analysis:{query:a.query,cube:a,filters:a.appliedFilters,weight:a.weightId}},k=g.measures.getMeasureVariable("mean",0);return j.title="Average "+k.fullName,j.subtitle=k.description,"graph"===f.tableOrGraph.value&&(j.dataFrameTable=i.dataFrameTable()),j}return function(a,b){return b.analysis.hasMeanMeasure()?s(a,b):q(a,b)}}b.exports=c,c.$inject=["cube","iResourceVariable","ndarray","ndarrayUnpack","lodash","$q","$log","datetimeFormatter","$filter","tableCellColors","svgTextUtil","stats","ndarrayOps","ndarrayScratch","Tabulated"]},{}],124:[function(a,b){"use strict";function c(b){var c=a("angular"),d=a("ndarray"),e=a("ndarray-ops"),f=a("cwise"),g=a("ndarray-show"),h=a("ndarray-unpack"),i=a("ndarray-pack"),j=a("ndarray-scratch"),k=a("ndarray-fill"),l=a("gaussian"),m=a("ndgemm"),n=a("lodash");b=b||"cube";var o=c.module(b,[]);return o.factory("ndarray",function(){return d}),o.factory("ndarrayOps",function(){return e}),o.factory("cwise",function(){return f}),o.factory("lodash",function(){return n}),o.factory("show",function(){return g}),o.factory("ndarrayUnpack",function(){return h}),o.factory("ndarrayPack",function(){return i}),o.factory("ndarrayScratch",function(){return j}),o.factory("ndarrayFill",function(){return k}),o.factory("ndgemm",function(){return m}),o.factory("normalDist",function(){return l}),o.factory("dimension",a("./dimension")),o.factory("CategoricalDimension",a("./categorical-dimension")),o.factory("BinnedDimension",a("./binned-dimension")),o.factory("CompositeDimension",a("./composite-dimension")),o.factory("MultiResponseDimension",a("./multi-response-dimension")),o.factory("measure",a("./measure")),o.factory("cube",a("./cube")),o.factory("crFindVariables",a("./cr-find-variables")),o.factory("displayCube",a("./display-cube")),o.factory("stats",a("./stats")),o.factory("Tabulated",a("./tabulated")),o}b.exports=c},{"./binned-dimension":117,"./categorical-dimension":118,"./composite-dimension":119,"./cr-find-variables":120,"./cube":121,"./dimension":122,"./display-cube":123,"./measure":125,"./multi-response-dimension":126,"./stats":127,"./tabulated":128,angular:"angular",cwise:11,gaussian:75,lodash:76,ndarray:100,"ndarray-fill":79,"ndarray-ops":80,"ndarray-pack":85,"ndarray-scratch":94,"ndarray-show":95,"ndarray-unpack":99,ndgemm:102}],125:[function(a,b){"use strict";function c(a,b){function c(a){if(-1===f.indexOf(a))throw new Error("unsupported measure")}function d(a){var c,d,f=a.meta.dimensions,g=a.meta.missing,h=a.meta.shape,i=a.meta.validShape,j=a.type,k=a.data;c=e.apply(this,g).map(function(a){return a.some(function(a){return a})}),d=k.filter(function(a,b){return!c[b]}),this.dimensions=f,this.type=j,this.rawData=b(k,h),this.cube=b(d,i)}function e(){function a(e,f){for(var g=b[f],h=f===c,i=0;i<g.length;++i){var j=e.slice();j.push(g[i]),h?d.push(j):a(j,f+1)}}var b=[].slice.call(arguments),c=b.length-1,d=[];return b.length?a([],0):d.push([]),d}var f=["mean","stddev","count"];return{fromData:function(a){return a=a||{},c(a.type),new d(a)}}}b.exports=c,c.$inject=["lodash","ndarray"]},{}],126:[function(a,b){"use strict";function c(a,b){function c(a){this.data=a}var d=["__none__","__any__"];return c.prototype=new b,Object.defineProperties(c.prototype,{name:{get:function(){return this.data.references.name||void 0}},type:{value:"multiresponse"},missing:{get:function(){var a=this.data.type.elements.map(function(a){var b=a.value&&a.value.id||"";return d.indexOf(b)>-1?!0:a.missing});return a}},validExtents:{get:function(){return this.data.type.elements.filter(function(a){var b=a.value&&a.value.id||"";return a.missing===!1&&-1===d.indexOf(b)})}},subscripts:{get:function(){return this.data.type.elements.map(function(a,b){return b})}},missingSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){var e=b.value&&b.value.id||"";return(d.indexOf(e)>-1?!0:b.missing)?(a.push(c),!0):void 0},this)}return a}},validSubscripts:{get:function(){{var a=[];this.data.type.elements.filter(function(b,c){var e=b.value&&b.value.id||"";return b.missing===!1&&-1===d.indexOf(e)?(a.push(c),!0):void 0},this)}return a}},validLength:{get:function(){var a=this.data.type.elements.filter(function(a){var b=a.value&&a.value.id||"";return d.indexOf(b)>-1?!1:!a.missing});return a.length}},countingSubscripts:{get:function(){var a=this.data.type.elements.map(function(a){return a.id});return[a.indexOf(0),a.indexOf(-127)]}},prunedExtents:{set:function(a){this.data.type.elements=a}}}),c}b.exports=c,c.$inject=["lodash","CompositeDimension"]},{}],127:[function(a,b){function c(a,b,c,d,e,f,g,h){function i(a,h){var i=[],j=a._dimensions.map(function(a,b){return i.push(a.type),"multiresponse"===a.type?b===h?a.validSubscripts:a.countingSubscripts:a.validSubscripts}),k=i.indexOf("composite"),l=k>-1&&k!==h;if(l&&void 0===h)return new c([a.n],[1,1]);l&&(j[k]=[0]);var m=j.map(function(a){return a.length}),n=j.map(function(a){return a.length},this);1===m.length&&(m.push(1),n.push(1)),indices=b.prod.apply(this,j);var o=a.count.rawData,p=f.malloc(n);if(p.data=indices.map(function(a){return o.get.apply(o,a)}),l&&g(p,function(){return a.n}),void 0===h)return c([d.sum(p)],[1,1]);var q=[1,1],r=[1,1];q[h]=n[1-h],r[h]=m[h];var s=f.malloc(q);g(s,function(){return 1});var t=f.malloc(r),u=new Array(2);return u[h]=p,u[1-h]=s,u.unshift(t),e.apply(this,u),t}function k(a,b,c,e){var h,j,c,k;a.hasOwnProperty("count")?(h=a.count.cube,k=i(a).get(0,0)):(c=a,h=a,k=d.sum(c));var l=h.shape.slice();1===l.length?(l.push(1),j=f.malloc(l),g(j,function(a,b){return h.get.apply(h,[a,b])})):j=f.clone(h);var m=f.malloc(l);return void 0===c&&(c=i(a,b)),void 0===b?d.divs(m,j,k):g(m,function(a,d){var e=0==b?[a,0]:[0,d];return j.get(a,d)/c.get.apply(c,e)}),m}function l(a,b,c){var h=k(a,b),j=i(a).get(0,0);if(void 0===b){var l=i(a,0),m=i(a,1),n=f.malloc(h.shape),j=d.sum(l);return d.divseq(l,j),d.divseq(m,j),e(n,l,m),d.subeq(h,n),h}if(void 0===c)var c=i(a,1-b);d.divseq(c,j);var o=f.malloc(h.shape);return g(o,function(a,d){var e=0==b?[0,d]:[a,0];return c.get.apply(c,e)}),d.subeq(h,o),h}function m(a,b){var c={row:n,col:o,cell:p},d=void 0===b?"cell":0===b?"row":"col";return c[d](a,b)}function n(a){function b(a,b){var c=t.get(a,b);return(c>0)-(0>c)}var c=a.count.cube,j=i(a).get(0,0),k=c.shape,l=i(a,1),m=i(a,0),n=f.zeros(k);d.divseq(l,j),g(n,function(a,b){var d=c.get(a,b)/m.get(a,0);return isNaN(d)?0:d}),d.divseq(m,j);var o=f.clone(n),p=f.clone(n);d.muleq(o,n),d.subeq(p,o),f.free(o);var q=f.zeros([1,k[1]]);e(q,m.transpose(1,0),p),f.free(p);var r=f.malloc(m.shape);g(r,function(a){var b=m.get(a,0);return(1-2*b)/b});var s=f.zeros(k);g(s,function(a,b){var c=n.get(a,b),d=r.get(a,0)*c*(1-c)+q.get(0,b);return Math.sqrt(d/j)}),f.free(q),f.free(r);var t=f.malloc(k);g(t,function(a,b){return l.get(0,b)}),d.mulseq(t,-1),d.addeq(t,n),d.diveq(t,s);var u=f.zeros(k);g(u,b),d.abseq(t);var v=h(0,1).cdf,w=f.zeros(k);return g(w,function(a,b){return 2*(1-v(t.get(a,b)))}),d.muleq(w,u),w}function o(a){function b(a,b){var c=t.get(a,b);return(c>0)-(0>c)}var c=a.count.cube,j=i(a).get(0,0),k=c.shape,l=i(a,1),m=i(a,0),n=f.zeros(k);d.divseq(m,j),g(n,function(a,b){var d=c.get(a,b)/l.get(0,b);return isNaN(d)?0:d}),d.divseq(l,j);var o=f.clone(n),p=f.clone(n);d.muleq(o,n),d.subeq(p,o),f.free(o);var q=f.zeros([k[0],1]);e(q,p,l.transpose(1,0)),f.free(p);var r=f.malloc(l.shape);g(r,function(a,b){var c=l.get(0,b);return(1-2*c)/c});var s=f.zeros(k);g(s,function(a,b){var c=n.get(a,b),d=r.get(0,b)*c*(1-c)+q.get(a,0);return Math.sqrt(d/j)}),f.free(q),f.free(r);var t=f.malloc(k);g(t,function(a){return m.get(a,0)}),d.mulseq(t,-1),d.addeq(t,n),d.diveq(t,s);var u=f.malloc(k);g(u,b),d.abseq(t);var v=h(0,1).cdf,w=f.malloc(k);return g(w,function(a,b){return 2*(1-v(t.get(a,b)))}),d.muleq(w,u),w}function p(a){function b(){return 1}var c=a.count.cube,i=d.sum(c),j=c.shape,k=f.malloc([1,j[0]]),l=f.malloc([j[1],1]),m=f.malloc([1,j[1]]),n=f.malloc([j[0],1]);g(l,b),g(k,b),e(m,k,c),e(n,c,l),d.divseq(c,i),d.divseq(m,i),d.divseq(n,i);var o=f.zeros(j);e(o,n,m);var p=f.clone(o),q=f.clone(o);d.mulseq(q,-1),d.addseq(q,1),d.muleq(o,q),f.free(q);var r=f.zeros(j);g(r,function(a,b){var d=c.get(a,b),e=d*(1-d)+o.get(a,b);return Math.sqrt(e/i)}),f.free(o),d.mulseq(p,-1),d.addeq(p,c),d.diveq(p,r),d.abseq(p);var s=h(0,1).cdf,t=f.zeros(j);return g(t,function(a,b){return 2*(1-s(p.get(a,b)))}),t}function q(a,b){function c(a){return a.length}var e=(a.count.cube,i(a,0)),f=i(a,1);d.gtseq(e,b),d.gtseq(f,b);var g=[Array.prototype.slice.call(e.data),Array.prototype.slice.call(f.data)],h=(g.map(c),g.map(function(a){var b=[];return a.filter(function(a,c){return a>0?(b.push(c),!0):!1},this),b},this));return h}function r(a){function b(a,b){return a.v<b.v?-1:a.v>b.v?1:0}for(var c=j=a.length,d=[];c--;)d[c]={k:c,v:a[c]};return d.sort(b),d.map(function(a){return a.k})}return{getPvalues:m,margin:i,propTable:k,diffTable:l,filterByMarginThreshold:q,getSortedSubscripts:r}}b.exports=c,c.$inject=["lodash","cube","ndarray","ndarrayOps","ndgemm","ndarrayScratch","ndarrayFill","normalDist","show"]},{}],128:[function(a,b){"use strict";function c(a,b,c,d){function e(a,b){this.bodies=a,this.margins=b}return Object.defineProperties(e.prototype,{subscripts:{get:function(){var b=this.bodies.value.shape.slice();return b.map(function(b){return a.range(0,b)})}}}),e.prototype.filterPermute=function(c){var e={},f={};a.forEach(this.margins,function(a,b){e[b]=c.map(function(b,c){var d=[],e=a[c];return void 0===e?[]:(b.forEach(function(a){d.push(e[a])},this),d)},this)},this),a.forEach(this.bodies,function(a,e){var g=d.clone(a),h=b.prod.apply(this,c),i=c.map(function(a){return a.length}),j=d.malloc(i);j.data=h.map(function(a){return g.get.apply(g,a)}),f[e]=j}),this.bodies=f,this.margins=e},e.prototype.dataFrameTable=function(){var c=b.prod.apply(this,this.margins.labels),d=[];return c.forEach(function(b,c){d.push({}),b.forEach(function(a,e){d[c]["var"+e]=b[e]},this),a.forEach(this.bodies,function(a,b){d[c][b]=a.data[c]},this)},this),d},e}b.exports=c,c.$inject=["lodash","cube","ndarray","ndarrayScratch"]},{}],129:[function(a,b){"use strict";function c(a,b,c){var d,e,f;return{fetch:function(){var g,h=b.reject({});return g=c.get("iResourceDataset"),a.isObject(e)?h=b.when(e):a.isObject(f)?h=f:a.isString(d)&&(f=g({datasetId:d,noCache:!0}),f.then(function(a){e=a}),h=f),h},set:function(a){d!==a&&(e=null,f=null,d=a)},clean:function(){e=null,f=null},reset:function(){d=null,this.clean()}}}b.exports=c,c.$inject=["lodash","$q","$injector"]},{}],130:[function(a,b){"use strict";function c(b){var c=a("angular");b=b||"current-dataset";var d=c.module(b,[]);return d.factory("lodash",function(){return a("lodash")}),d.factory("currentDataset",a("./current-dataset")),d}b.exports=c},{"./current-dataset":129,angular:"angular",lodash:76}],131:[function(a,b){"use strict";function c(a,b,c){function d(a,b){if(!a)throw new Error(b)}function e(a){return function(){var b=[].slice.call(arguments);return b.unshift(a),b.unshift("drag-and-drop"),c.debug.apply(c,b)}}var f=a.Fsm.extend({initialState:"uninitialized",destroy:function(){this.transition("destroyed")},_publish:function(a,d,e){var f=a;d&&(f+=":"+d);var g={operation:d,dragged:this.inflight,dropped:e};c.debug("drag-and-drop","publishing",f,g),b.$broadcast(f,g)},_broadcast:function(a){return d(a.event,"event name is required"),b.$broadcast(a.event,a)},initialize:function(){this.on("transition",e("transition")),this.on("link:started",this._broadcast.bind(this)),this.on("move:started",this._broadcast.bind(this)),this.on("copy:started",this._broadcast.bind(this)),this.on("drag:started",this._broadcast.bind(this)),this.on("link:cancelled",this._broadcast.bind(this)),this.on("move:cancelled",this._broadcast.bind(this)),this.on("copy:cancelled",this._broadcast.bind(this)),this.on("drag:cancelled",this._broadcast.bind(this))},states:{uninitialized:{initialize:function(){this.transition("draggable")}},draggable:{_onEnter:function(){this.inflight=void 0},drag:function(a){this.inflight=a,this.transition("dragging")},link:function(a){this.inflight=a,this.transition("linking")},copy:function(a){this.inflight=a,this.transition("copying")},move:function(a){this.inflight=a,this.transition("moving")}},dragging:{_onEnter:function(){this.emit("drag:started",{event:"drag:started",inflight:this.inflight,operation:"drag"})},commit:function(a,b){this._publish(a,void 0,b),this.transition("draggable")},cancel:function(){this.emit("drag:cancelled",{event:"drag:cancelled",inflight:this.inflight,operation:"drag"}),this.transition("draggable")}},linking:{_onEnter:function(){this.emit("link:started",{event:"link:started",inflight:this.inflight,operation:"link"})},commit:function(a,b){"string"==typeof a?this._publish(a,"link",b):this._publish("drop","link",b),this.transition("draggable")},cancel:function(){this.emit("link:cancelled",{event:"link:cancelled",inflight:this.inflight,operation:"link"}),this.transition("draggable")}},copying:{_onEnter:function(){this.emit("copy:started",{event:"copy:started",inflight:this.inflight,operation:"copy"})},commit:function(a,b){this._publish(a,"copy",b),this.transition("draggable")},cancel:function(){this.emit("copy:cancelled",{event:"copy:cancelled",inflight:this.inflight,operation:"copy"}),this.transition("draggable")}},moving:{_onEnter:function(){this.emit("move:started",{event:"move:started",inflight:this.inflight,operation:"move"})},commit:function(a,b){this._publish(a,"move",b),this.transition("draggable")},cancel:function(){this.emit("move:cancelled",{event:"move:cancelled",inflight:this.inflight,operation:"move"}),this.transition("draggable")}},destroyed:{_onEnter:function(){return this.off()}}}}),g=new f;return g.handle("initialize"),g}b.exports=c,c.$inject=["machina","$rootScope","$log"]},{}],132:[function(a,b){b.exports=function(){"use strict";function a(){return{restrict:"A",link:function(a,b,c){var d=function(){b.addClass("drag-cover")},e=function(){b.removeClass("drag-cover")};a.handleExpand=d,a.handleContract=e,b.bind("drop",function(b){b.preventDefault&&b.preventDefault(),a.$safeApply(function(){e.apply(this,[b.originalEvent])})}),c.dragCoverExpandEvent&&a.$on(c.dragCoverExpandEvent,function(a){d.apply(this,a)}),c.dragCoverContractEvent&&a.$on(c.dragCoverContractEvent,function(a){e.apply(this,a)}),a.$on("$destroy",function(){b.off("drop")})}}}return a.$inject=["$injector"],a}.call(this)},{}],133:[function(a,b){"use strict";function c(a){var b="__serializer";return{restrict:"A",link:function(c,d,e){function f(c){var d=c[b];if(c&&d){var e=a.get(d);if(!e)throw new Error("serializer "+d+" could not be found.");if(!e.serialize)throw new Error("serializers "+d+" forgot to implement `serialize`");return e.serialize(c)}return JSON.stringify(c)}var g,h=d[0];h.setAttribute("draggable",!0),c.$watch(e.drag,function(a){a&&(g=a)});var i=function(a){c.$apply(function(){if(a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("application/json",f(g)),a.dataTransfer.setData("text/plain",e.dragKey),h.classList.add("dragging"),e.dragEvent){var b={draggedData:g,key:e.dragKey};c.$emit(e.dragEvent,b)}})},j=function(){c.$apply(function(){h.classList.remove("dragging"),e.dragEndEvent&&c.$emit(e.dragEndEvent,{})})};c.handleDragStart=i,c.handleDragEnd=j,h.addEventListener("dragstart",i.bind(this)),h.addEventListener("dragend",j.bind(this)),c.$on("$destroy",function(){g=void 0,h.removeEventListener("dragstart",i),h.removeEventListener("dragend",j)})}}}b.exports=c,c.$inject=["$injector","$rootScope"]},{}],134:[function(a,b){"use strict";function c(a,b){return{restrict:"ACE",link:function(c,d,e){function f(){return e.dragitOperation||"drag"}function g(){return e.dragitClass||"dragging"}function h(){return c.$eval(e.dragit)}function i(a){b.debug("drag-and-drop","drag","start",a),c.$apply(function(){m.add(g()),a.dataTransfer.effectAllowed=e.dragitOperation||"all";var b={data:h(),element:k,event:a},c=f();l(c,b)})}function j(d){b.debug("drag-and-drop","drag","end",d),c.$apply(function(){var b=g();m.remove(b),a.handle("cancel")})}var k=d[0];k.setAttribute("draggable","true");var l=a.handle.bind(a),m=k.classList;

k.addEventListener("dragstart",i),k.addEventListener("dragend",j),c.$on("$destroy",function(){k.removeEventListener("dragstart",i),k.removeEventListener("dragend",j)})}}}b.exports=c,c.$inject=["dragAndDrop","$log"]},{}],135:[function(a,b){"use strict";function c(a,b){var c="__serializer";return{restrict:"A",link:function(a,d,e){function f(a){var d=JSON.parse(a);if(a.search(c)<0)return d;var e=d[c],f=b.get(e);if(!f)throw new Error("serializer "+e+" not found");if(!f.deserialize)throw new Error("serializer "+e+" forgot to implement deserialize");return f.deserialize(a)}var g,h=d[0],i=h.classList;h.setAttribute("droppable",!0),i.add("drop-zone"),a.$watch(e.drop,function(a){a&&(g=a)});var j=function(b){a.$apply(function(){b.stopPropagation()&&b.preventDefault(),i.add("drag-over")})},k=function(a){a.preventDefault&&a.preventDefault()},l=function(b){a.$apply(function(){b.stopPropagation()&&b.preventDefault(),i.remove("drag-over")})},m=function(b){a.$apply(function(){if(b.preventDefault&&b.preventDefault(),i.remove("drag-over"),e.dropKey===b.dataTransfer.getData("text/plain")){var c=(b.dataTransfer.getData("text/plain"),b.dataTransfer.getData("application/json")),d=f(c);if(e.dropEvent){var h={droppedData:d,targetData:g,key:e.dropKey};a.$emit(e.dropEvent,h)}return!0}return a.$emit(e.dropCancel,{}),!1})};a.handleDragEnter=j,a.handleDragLeave=l,a.handleDragOver=k,a.handleDrop=m,h.addEventListener("dragenter",j.bind(this)),h.addEventListener("dragleave",l.bind(this)),h.addEventListener("dragover",k.bind(this)),h.addEventListener("drop",m.bind(this)),a.$on("$destroy",function(){h.removeEventListener("drop",m),h.removeEventListener("dragleave",l),h.removeEventListener("dragover",k),h.removeEventListener("dragenter",j)})}}}b.exports=c,c.$inject=["$log","$injector"]},{}],136:[function(a,b){"use strict";function c(a,b){return{restrict:"ACE",scope:!0,link:function(c,d,e){function f(){return e.dropitClass||"drag-over"}function g(){o||(n.add(f()),o=!0)}function h(){o&&(n.remove(f()),o=!1)}function i(d){b.debug("drag-and-drop","drop","dropped",d),d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation(),c.$apply(function(){var b=e.dropitEvent||"dropped";a.handle("commit",b,c.$eval(e.dropit))}),c.$broadcast("drop"),h(d)}function j(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.dataTransfer.dropEffect="all",g(a),c.$broadcast("dragover")}function k(a){b.debug("drag-and-drop","drop","dragenter",a),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()}function l(a){b.debug("drag-and-drop","drop","dragleave",a),a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),h(a),c.$broadcast("dragleave")}var m=d[0],n=m.classList,o=!1;m.setAttribute("droppable","true"),m.classList.add("drop-zone"),m.addEventListener("drop",i),m.addEventListener("dragover",j),m.addEventListener("dragenter",k),m.addEventListener("dragleave",l),c.$on("$destroy",function(){m.removeEventListener("drop",i),m.removeEventListener("dragover",j),m.removeEventListener("dragenter",k),m.removeEventListener("dragleave",l)})}}}b.exports=c,c.$inject=["dragAndDrop","$log"]},{}],137:[function(a,b){"use strict";function c(b){var c=angular.module(b||"drag-and-drop",[]);return c.directive("drag",a("./drag-directive")),c.directive("drop",a("./drop-directive")),c.directive("dragCover",a("./drag-cover-directive")),c.directive("dragit",a("./dragit-directive")),c.directive("dropit",a("./dropit-directive")),c.factory("dragAndDrop",a("./drag-and-drop")),c}b.exports=c},{"./drag-and-drop":131,"./drag-cover-directive":132,"./drag-directive":133,"./dragit-directive":134,"./drop-directive":135,"./dropit-directive":136}],138:[function(a,b){"use strict";function c(){function a(a){var b={};for(var c in d)b[c]=a[c]||d[c];return b}function b(a){a=a||{},this.clickable=a.clickable,this.linkable=a.linkable,this.strategy=this.getStrategy(a),this.handlers=[],this.hideSubvariables=a.hideSubvariables,this.hidePrivateVariables=a.hidePrivateVariables,this.types=a.types||[],this.self=a.self}function c(c){c=c||{};a(c);return new b(c)}var d={clickable:!1,linkable:!1,types:[]};return b.prototype.getStrategy=function(a){return a.linkable?"linkable":"clickable"},b.prototype.isSatisfiedBy=function(a){return this.self&&a.self===this.self?!1:a["private"]&&this.hidePrivateVariables?!1:this.types&&this.types.length?"group"===a.hierarchicalType?!0:a.type?this.types.indexOf(a.type)>-1:!1:!0},b.prototype.toString=function(){return"["+this.strategy+"]"+this.types.join(",")},c.DEFAULT=function(){return c()},c}b.exports=c,c.$inject=["$log"]},{}],139:[function(a,b){"use strict";function c(a,b,c){var d=a.Fsm.extend({initialState:"uninitialized",namespace:"hierarchicalGroupVariablesList",destroy:function(){return this.transition("destroyed")},_collapseItems:function(){this.items.forEach(function(a){a.handle("collapse")})},_store:function(a){var b;if(a=a||{},b=a.group,this.parent=a.parent,this.name=b.name,this.self=b.self,this["private"]=b["private"],this.level=b.level,this.hierarchicalType=b.hierarchicalType,this.group=b,a.behaviors&&(this.behaviors=a.behaviors),!b.items)throw new Error("items are expected")},_createChildren:function(){var a=this,c=this.group.items,d=this.behaviors;this.all=this.all||c.filter(function(a){return!a.discarded&&!a.hidden}).filter(function(a){return a.items?a.items.length>0:!0}).map(function(c){var e;return e="variable"===c.hierarchicalType?b.create({variable:c,parent:a,behaviors:d}):f.create({group:c,parent:a,behaviors:d})}),this.items=this.all.filter(function(a){return d.isSatisfiedBy(a)}),this.retraversable(this,"items")},applyBehaviors:function(a){return this.behaviors=a,this.items=(this.all||[]).filter(function(b){return a.isSatisfiedBy(b)}).map(function(b){return b.applyBehaviors(a),b}),this},states:{destroyed:{_onEnter:function(){this.items.forEach(function(a){a.destroy()},this),this.off()}}}}),e=d.extend({initialize:function(){this.items=[],this._traversable=new c({pageLength:this.threshold||40,pctOverlap:.5}),this._traversable.augment(this,"items")},states:{uninitialized:{initialize:function(a){return this._store(a),this.transition("collapsed")}},collapsed:{toggle:function(){this.handle("expand")},expand:function(){this.transition("expanded"),this.parent&&this.parent.handle("expand")},"collapse-items":function(){this._collapseItems()}},expanded:{_onEnter:function(){this._createChildren()},toggle:function(){this.handle("collapse")},collapse:function(){this.transition("collapsed")},"collapse-items":function(){this._collapseItems()}}}}),f={create:function(a){var b=new e(a);return b.handle("initialize",a),b}};return f}b.exports=c,c.$inject=["machina","HierarchicalVariable","Traversable"]},{}],140:[function(a,b){"use strict";function c(a,b){var c={create:function(a){var b;return b="categorical_array"===a.variable.type&&a.variable.subvariables&&a.variable.subvariables.length?g.create(a):e.create(a)}},d=a.Fsm.extend({initialState:"uninitialized",namespace:"hierarchicalVariablesList",destroy:function(){this.transition("destroyed")},_click:function(){this.emit("clicked",this),b.publish({event:"variable.clicked",variable:this.data,behaviors:this.behaviors})},_store:function(){throw new Error("not implemented")},applyBehaviors:function(a){this.behaviors=a},states:{uninitialized:{initialize:function(a){this._store(a),this.transition("initialized")}},initialized:{click:function(){this._click()}},destroyed:{_onEnter:function(){this.off()}}}}),e=d.extend({_store:function(a){var b;a=a||{},b=a.variable,this.self=b.self,this.name=b.prunedName,this.type=b.type,this.alias=b.alias,this.url=b.self,this.data=b,this.parent=a.parent,this["private"]=b["private"],this.level=b.level,this.behaviors=a.behaviors,this.hierarchicalType=b.hierarchicalType},destroy:function(){this.transition("destroyed")}});e.create=function(a){var b=new e;return b.handle("initialize",a),b};var f=a.Fsm.extend({initialState:"collapsed",namespace:"hierarchicalVariablesList",subvarsLoaded:!1,states:{collapsed:{toggle:function(){var a=this,b=this.variable;this.subvarsLoaded?this.transition("expanded"):b.data.getSubvariables().then(function(a){return a.forEach(function(a){b.addSubvariable(a)}),this}).then(function(){a.subvarsLoaded=!0,a.transition("expanded")},function(){throw Error("Unable to fetch subvariables")})}},expanded:{toggle:function(){this.transition("collapsed")}}}}),g=d.extend({_store:function(a){var b;a=a||{},b=a.variable,this.name=b.prunedName,this.self=b.self,this.url=b.self,this.type=b.type,this.composite=!0,this.alias=b.alias,this.data=b,this.parent=a.parent,this.level=b.level,this.subvariables=[],this.behaviors=a.behaviors,this.hierarchicalType=b.hierarchicalType},addSubvariable:function(a){this.subvariables.push(c.create({variable:a,behaviors:this.behaviors}))},applyBehaviors:function(a){this.behaviors=a,this.subvariables.forEach(function(b){b.applyBehaviors&&b.applyBehaviors(a)})},initialize:function(){this.expansion=new f({variable:this,subvarsLoaded:!1})},states:{initialized:{click:function(){this._click()}}}});return g.create=function(a){var b=new g;return b.handle("initialize",a),b},c}b.exports=c,c.$inject=["machina","bus"]},{}],141:[function(a,b){"use strict";function c(a,b,c,d,e){var f=b.Fsm.extend({initialState:"uninitialized",namespace:"hierarchicalVariablesList",destroy:function(){return this.transition("destroyed")},_store:function(b){var f=this.behaviors||d.DEFAULT();a(b,"You should pass a HierarchicalVariables object"),a(b instanceof e,"You should pass a valid instance of HierarchicalVariables"),this.root=c.create({group:b.ordered,behaviors:f})},applyBehaviors:function(a){this.behaviors=d(a),this.root&&this.root.applyBehaviors(this.behaviors)},$events:["hvl.behaviors.update"],states:{uninitialized:{initialize:function(a){this._store(a.hierarchicalVariables),this.original=this.root,this.transition("initialized")}},initialized:{_onEnter:function(){this.root.handle("expand")},refresh:function(a){this._store(a),this.transition("refreshing")},rollback:function(){this.root=this.original,this.emit("hvl.refreshed")},"hvl.behaviors.update":function(a,b){this.applyBehaviors(b)}},refreshing:{_onEnter:function(){this.transition("initialized"),this.emit("hvl.refreshed")}},empty:{refresh:function(a){this._store(a),this.transition("refreshing")}},destroyed:{_onEnter:function(){this.root&&this.root.destroy(),this.off()}}}});return f.create=function(a){var b=new f;return b.handle("initialize",a||{}),b},f}b.exports=c,c.$inject=["assert","machina","HierarchicalGroup","hierarchicalBehaviors","HierarchicalVariables"]},{}],142:[function(a,b){"use strict";function c(b){var c=a("angular"),d=c.module(b||"hierarchical-variables-list",[]);return d.factory("lodash",function(){return a("lodash")}),d.factory("assert",function(){return console.assert.bind(console)}),d.factory("HierarchicalVariablesList",a("./hierarchical-variables-list")),d.factory("HierarchicalGroup",a("./hierarchical-group")),d.factory("HierarchicalVariable",a("./hierarchical-variable")),d.factory("hierarchicalBehaviors",a("./hierarchical-behaviors")),d}b.exports=c},{"./hierarchical-behaviors":138,"./hierarchical-group":139,"./hierarchical-variable":140,"./hierarchical-variables-list":141,angular:"angular",lodash:76}],143:[function(a,b){"use strict";function c(a){function b(){}var c,d=[],e=!1;return b.prototype.executeAfterRefresh=function(b){a.isFunction(b)&&(e===!0?d.push(b):b())},b.prototype.refresh=function(){e=!0},Object.defineProperties(b.prototype,{current:{get:function(){return c},set:function(a){c=a,d.forEach(function(a){a()}),d.length=0,e=!1}}}),new b}b.exports=c,c.$inject=["lodash","$q"]},{}],144:[function(a,b){"use strict";function c(a,b){function c(b,c){this.id=a.uniqueId(b),this.name=b,this.parent=c,this.items=[]}return Object.defineProperties(c.prototype,{hierarchicalType:{value:"group"},itemsCount:{get:function(){return this.items.length}},level:{get:function(){return b(this)}}}),c.prototype.addItem=function(a){this.containsItem(a)||this.items.push(a)},c.prototype.prependItem=function(a){this.items.unshift(a)},c.prototype.removeItem=function(a){var b,c=this.items.indexOf(a);if(!(c>-1))throw new Error("this group does not contain the item");return b=this.items.splice(c,1),b[0]},c.prototype.containsItem=function(a){return this.items.indexOf(a)>-1},c.prototype.containsItemNamed=function(b){return!a.isUndefined(this.findItemNamed(b))},c.prototype.findItemNamed=function(a){var b;return this.items.some(function(c){var d=c.name===a;return d&&(b=c),d}),b},c.prototype.switchOrder=function(a,b){var c,d;if(!this.containsItem(a)||!this.containsItem(b))throw new Error("one of these items do not belong to this group");c=this.items.indexOf(a),d=this.items.indexOf(b),this.items[c]=b,this.items[d]=a},c.prototype.moveItemBefore=function(a,b){var c,d;if(!this.containsItem(a)||!this.containsItem(b))throw new Error("one of these items do not belong to this group");c=this.items.indexOf(a),this.items.splice(c,1),d=this.items.indexOf(b),this.items.splice(d,0,a)},c.prototype.insertAfter=function(a,b){var c=this.items.indexOf(b),d=a instanceof Array?a:[a],e=this;if(-1===c)throw new Error("This item does not belong to this group");d.forEach(function(a){a.parent=e}),this.items.splice.apply(e.items,[c,0].concat(d))},c.prototype.removeItem=function(a){var b=this.items.indexOf(a);if(-1===b)throw new Error("This item does not belong to this group");this.items.splice(b,1)},c.prototype.toJSON=function(){var a={};return a[this.name]=this.items.map(function(a){return a.toJSON()}),this.parent||(a.element="shoji:order"),a},c}b.exports=c,c.$inject=["lodash","iCalculateItemLevel"]},{}],145:[function(a,b){"use strict";function c(){function a(a,b,c){this.ordered=a,this.flattened=b,this.orderedIndex=c}return Object.defineProperties(a.prototype,{groups:{get:function(){throw new Error("deprecated property. use flatten instead.")}},length:{get:function(){return this.flattened.length}}}),a}b.exports=c,c.$inject=[]},{}],146:[function(a,b){"use strict";function c(a,b,c){function d(a,b){if(!a)throw new Error(b)}function e(b,c,e){d(c,"order is required"),this.orderId=c.self,this.catalogs=b,this.privateVariables=e,this.order=a(b,c,e)}return e.prototype.exposePrivateVariables=function(){var b,d,e={"My Variables":[]},f={graph:[e]},g=[];if(!this.privateVariables)throw new Error("Please provide a privateVariables catalog");this.byName("My Variables")||(this.privateVariables.principal().index.forEach(function(a){a["private"]=!0,g.push(a)}),g.sort(function(a,b){var c;return c=a.name<b.name?-1:a.name>b.name?1:0}).forEach(function(a){e["My Variables"].push(a.self)}),b=a(this.privateVariables,f),d=b.ordered.items[0],d["private"]=!0,c.addItem(this.order,d,{prepend:!0}))},e.prototype.reorderedBy=function(a){return new e(this.catalogs,a,this.privateVariables)},e.prototype.flatten=function(){return this.order.flattened},e.prototype.byId=function(a){return b.byId(this.order,a)},e.prototype.byName=function(a){return b.byName(this.order,a)},e.prototype.fromCatalog=function(a){return b.fromCatalog(this.catalogs.principal(),a)},e.prototype.indexOf=function(a){return b.indexOf(this.order,a)},e.prototype.slice=function(){return this.order.flattened.slice.apply(this.order.flattened,arguments)},e.prototype.at=function(a){return b.at(this.order,a)},e.prototype.firstVariable=function(a){return b.firstVariable(this.order,a)},e.prototype.moveItemToGroup=function(a,b){c.moveItemToGroup(this.order,a,b)},e.prototype.switchItemsOrder=function(a,b){c.switchItemsOrder(this.order,a,b)},e.prototype.moveItemBefore=function(a,b){c.moveItemBefore(this.order,a,b)},e.prototype.createGroupWithParent=function(a,b){return c.createGroupWithParent(this.order,a,b)},e.prototype.removeGroup=function(a){c.removeGroup(this.order,a)},e.prototype.variables=function(){return this._variables.principal()},Object.defineProperties(e.prototype,{groups:{get:function(){throw new Error("deprecated property. use flatten instead.")}},ordered:{get:function(){return this.order.ordered}},weights:{get:function(){return this.catalogs.principal().urls.weights}},searchUrl:{get:function(){return this.catalogs.principal().views.search.self}},catalogId:{get:function(){return this.catalogs.principal().self}},length:{get:function(){return this.order.length}}}),e}b.exports=c,c.$inject=["iBuildHierarchicalOrder","iPerformVariableLookup","iMutateHierarchicalOrder"]},{}],147:[function(a,b){"use strict";function c(a,b,c,d,e){function f(a,b){if(!a)throw new Error(b)}return function(g,h,i){function j(a,b){a.forEach(function(a){k(a,b)})}function k(a,b){var c="string"==typeof a,d=c?l:m,e=d(a,b);p[r]=e,q.set(e.id,r),b.addItem(e),c?(n(e),r+=1):(r+=1,j(a[e.name],e))}function l(a,b){var d,e=g.getVariable(a);return!e&&i&&(e=i.getVariable(a)),f(e,"variable not found with id "+a),d=c.create(e,b)}function m(a,c){var d=Object.keys(a)[0],e=new b(d,c);return e}function n(a){var b=a.subvariables||[];b.forEach(function(a){var b=e(a);q.set(b.replace("/",""),r)})}var o,p,q,r=0;return o=new b("graph"),p=[],q=new d,j(h.graph,o),new a(o,p,q)}}b.exports=c,c.$inject=["HierarchicalOrder","Group","variableFactory","Map","iGetVariableHash"]},{}],148:[function(a,b){"use strict";function c(a,b){function c(){var c=arguments[0]||{};return c.noCache||b.refresh(),a.apply(a,arguments).then(function(a){return c.noCache||(b.current=a),a})}return c}b.exports={$get:c},c.$inject=["$delegate","cachedHierarchicalVariables"]},{}],149:[function(a,b){"use strict";function c(){function a(a){for(var b=1,c=a.parent;c;)b+=1,c=c.parent;return b}return a}b.exports=c},{}],150:[function(a,b){"use strict";function c(a,b,c,d,e,f){function g(a,b){return a.dataset=b,b.urls.variables.map({noCache:!0,params:{relative:"on",nosubvars:1}}).then(function(b){a.variableCatalogs=new d,a.variableCatalogs.add(b)})}function h(a){var b=a.dataset;return b.urls.joins.map()}function i(a,d){var e=[];return d.index.forEach(function(c){var d;d=b(c.variables).map({params:{relative:"on",nosubvars:1}}).then(function(b){a.variableCatalogs.add(b)}),e.push(d)}),c.all(e)}function j(a){return a.variableCatalogs.principal().orders.hier.map({noCache:!0,params:{relative:"on"}})}function k(a,b){var c;return a.order=b,c=a.variableCatalogs.principal().catalogs["private"],c?c.map({noCache:!0}).then(function(a){return new e([a])}):void 0}function l(a,b){return new f(a.variableCatalogs,a.order,b)}function m(a,b){return new f(a.variableCatalogs,b)}function n(b){var c={variables:void 0,order:void 0,dataset:void 0,includePrivateVariables:b.includePrivateVariables},d=[g,h,i,j];return b.includePrivateVariables===!0?d.push(k,l):d.push(m),a.fetch().then(function(a){return a.reduce(c,d)})}return n}b.exports=c,c.$inject=["currentDataset","Shoji","$q","VariableCatalogList","SubvariablesCatalogList","HierarchicalVariables"]},{}],151:[function(a,b){"use strict";function c(a,b){return function(c){{var d=c.self+"subvariables/";c.subvariables}return a(d).map().then(function(a){return new b([a])})}}b.exports=c,c.$inject=["Shoji","SubvariablesCatalogList"]},{}],152:[function(a,b){"use strict";function c(){return function(a){for(var b=a.prunedName||a.name,c=a.parent;"variable"===c.hierarchicalType||c.parent&&"graph"!==c.parent.name;)b=c.name+" - "+b,c=c.parent;return b}}b.exports=c,c.$inject=[]},{}],153:[function(a,b){"use strict";function c(){return function(a){var b=a.lastIndexOf("/",a.length-2)+1,c=a.substring(b);return-1===b?a:c}}b.exports=c,c.$inject=[]},{}],154:[function(a,b){"use strict";function c(a,b,c,d){function e(){}function f(a){var c=new d;return a.forEach(function(a,d){c.set(a.id,d),"variable"===a.hierarchicalType&&a.subvariables.forEach(function(a){var e="string"==typeof a?b(a).replace("/",""):a.id;c.set(e,d)})}),c}function g(a){function b(a,c){var d=a.items||[];return c.push(a),d.forEach(function(a){b(a,c)}),c}return b(a,[])}return e.prototype.moveItemToGroup=function(b,c,d){var e,g=a.indexOf(b,c.id);if(e=d===b.ordered?0:a.indexOf(b,d.id),-1===e)throw new Error("This group does not belong to the hierarchical order");if(-1===g)throw new Error("This item does not belong to the hierarchical order");c&&!d.containsItem(c)&&(c.parent&&c.parent.removeItem(c),d.addItem(c),c.parent=d,b.flattened.splice(g,1),b.flattened.splice(e,0,c),b.orderedIndex=f(b.flattened))},e.prototype.addItem=function(b,c,d){var e=a.indexOf(b,c.id),h=g(c);if(d=d||{},-1!==e)throw new Error("this item already exists in the order");d.prepend===!0?(b.flattened.unshift.apply(b.flattened,h),c.parent=b.ordered,b.ordered.prependItem(c)):(b.flattened.push.apply(b.flattened,h),b.ordered.addItem(c)),b.orderedIndex=f(b.flattened)},e.prototype.switchItemsOrder=function(b,c,d){var e=a.indexOf(b,c.id),f=a.indexOf(b,d.id),g=c.parent;if(-1===f)throw new Error("This item does not belong to the hierarchical order");g.switchOrder(c,d),b.flattened[e]=d,b.flattened[f]=c,b.orderedIndex.set(c.id,f),b.orderedIndex.set(d.id,e)},e.prototype.moveItemBefore=function(b,c,d){var e,g=a.indexOf(b,c.id),h=a.indexOf(b,d.id);if(-1===g)throw new Error("This item does not belong to the hierarchical order");if(-1===h)throw new Error("This item does not belong to the hierarchical order");g!==h&&(e=c.parent,e.moveItemBefore(c,d),b.flattened.splice(g,1),b.orderedIndex=f(b.flattened),h=a.indexOf(b,d.id),b.flattened.splice(h,0,c),b.orderedIndex=f(b.flattened))},e.prototype.createGroupWithParent=function(b,d,e){var g,h,i;if(g=e===b.ordered?0:a.indexOf(b,e.id),-1===g)throw new Error("The group parent does not belong to the hierarchical order");if(i=e.findItemNamed(d),i&&"group"===i.hierarchicalType)throw new Error("The parent already contains an item named "+d);return h=new c(d,e),e.prependItem(h),b.flattened.splice(g+1,0,h),b.orderedIndex=f(b.flattened),h},e.prototype.removeGroup=function(b,c){var d,e;if(c===b.ordered)throw new Error("The root node can't be deleted");if(d=a.indexOf(b,c.id),-1===d)throw new Error("This group does not belong to the hierarchical order");e=c.parent,e.insertAfter(c.items,c),e.removeItem(c),b.flattened.splice(d,1),b.orderedIndex=f(b.flattened)},new e}b.exports=c,c.$inject=["iPerformVariableLookup","iGetVariableHash","Group","Map"]},{}],155:[function(a,b){"use strict";function c(a){function b(){}return b.prototype.byName=function(a,b){var c;return a.flattened.some(function(a){return a.name===b?(c=a,!0):void 0}),c},b.prototype.byId=function(a,b){var c,d=this.indexOf(a,b);return d>-1&&(c=a.flattened[d]),c},b.prototype.fromCatalog=function(b,c){var d=a(c);return b.index[d]},b.prototype.indexOf=function(b,c){var d,e;return c?(d=a(c),e=b.orderedIndex.get(d.replace("/",""))):e=-1,"number"==typeof e?e:-1},b.prototype.at=function(a,b){return a.flattened[b]},b.prototype.firstVariable=function(a){var b;return a.flattened.some(function(a){return b=a,!b.discarded&&"variable"===a.hierarchicalType}),b},new b}b.exports=c,c.$inject=["iGetVariableHash"]},{}],156:[function(a,b){"use strict";function c(a,b,c,d){function e(a,b){if(!a)throw new Error(b)}function f(){b.debug("extracting cached hierarchical variables list"),h={}}function g(b){var g,j,k,l=b.datasetId;return e(l,"Please provide a valid dataset id"),g=h[l],j=i[l],g?k=c.when(g):j?k=j:(k=a.apply(this,arguments).then(function(a){return h[l]=a,d(f,1e3),delete i[l],a})["catch"](function(){f(),delete i[l]}),i[l]=k),k}var h={},i={};return g}b.exports={$get:c},c.$inject=["$delegate","$log","$q","$timeout"]},{}],157:[function(a,b){"use strict";function c(b){var c=a("angular"),d=a("lodash"),e=c.module(b||"hierarchical-variables",[]);return e.factory("lodash",function(){return d}),e.factory("Map",function(){return a("es6-map")}),e.factory("pruneGroupNameFromVariableName",a("./prune-group-name-from-variable-name")),e.factory("iGenerateVariableFullName",a("./i-generate-variable-full-name")),e.factory("iFetchSubvariables",a("./i-fetch-subvariables")),e.factory("iGetVariableHash",a("./i-get-variable-hash")),e.factory("iBuildHierarchicalOrder",a("./i-build-hierarchical-order")),e.factory("iPerformVariableLookup",a("./i-perform-variable-lookup")),e.factory("iMutateHierarchicalOrder",a("./i-mutate-hierarchical-order")),e.factory("iCalculateItemLevel",a("./i-calculate-item-level")),e.factory("cachedHierarchicalVariables",a("./cached-hierarchical-variables")),e.factory("VariableCatalogList",a("./variable-catalog-list")),e.factory("SubvariablesCatalogList",a("./subvariables-catalog-list")),e.factory("HierarchicalOrder",a("./hierarchical-order")),e.factory("Group",a("./group")),e.factory("variableFactory",a("./variable-factory")),e.factory("HierarchicalVariables",a("./hierarchical-variables")),e.provider("iThrottleHierarchicalVariablesFetching",a("./i-throttle-hierarchical-variables-fetching")),e.provider("iCacheHierarchicalVariables",a("./i-cache-hierarchical-variables")),e.factory("iFetchHierarchicalVariables",a("./i-fetch-hierarchical-variables")),e.config(["$provide","iThrottleHierarchicalVariablesFetchingProvider","iCacheHierarchicalVariablesProvider",function(a,b,c){a.decorator("iFetchHierarchicalVariables",b.$get),a.decorator("iFetchHierarchicalVariables",c.$get)}]),e}b.exports=c},{"./cached-hierarchical-variables":143,"./group":144,"./hierarchical-order":145,"./hierarchical-variables":146,"./i-build-hierarchical-order":147,"./i-cache-hierarchical-variables":148,"./i-calculate-item-level":149,"./i-fetch-hierarchical-variables":150,"./i-fetch-subvariables":151,"./i-generate-variable-full-name":152,"./i-get-variable-hash":153,"./i-mutate-hierarchical-order":154,"./i-perform-variable-lookup":155,"./i-throttle-hierarchical-variables-fetching":156,"./prune-group-name-from-variable-name":158,"./subvariables-catalog-list":159,"./variable-catalog-list":160,"./variable-factory":161,angular:"angular","es6-map":20,lodash:76}],158:[function(a,b){"use strict";function c(a){function b(a){for(var b,c,d=a;d;)b=c,c={item:d},c.child=b,d=d.parent;return c}function c(b,c){var e=b,f=new RegExp("^"+d(c)+"[-\\s]+","gi");return a.isString(c)&&(e=e.replace(f,"")||e),e}function d(a){return a.replace(/([\\(\\)]+)/gi,"\\$1")}return function(a,d){for(var e=b(d),f=a;e;)f=c(f,e.item.name),e=e.child;return f}}b.exports=c,c.$inject=["lodash"]},{}],159:[function(a,b){"use strict";function c(a,b){function c(){a.apply(this,arguments)}return c.prototype=new a,c.prototype.getVariable=function(a){var c,d=b(a);return this.catalogs.some(function(a){var b;return a.index.keys.some(function(a){var c=a.indexOf(d)>-1;return c&&(b=a),c}),b?(c=a.index[b],!0):void 0}),c},c}b.exports=c,c.$inject=["VariableCatalogList","iGetVariableHash"]},{}],160:[function(a,b){"use strict";function c(a){function b(a){this.catalogs=a||[]}return b.prototype.add=function(a){this.catalogs.push(a)},b.prototype.getVariable=function(b){var c,d=a(b);return this.catalogs.some(function(a){return(c=a.index[d])?!0:void 0}),c},b.prototype.principal=function(){return this.catalogs[0]},b.prototype.countVariables=function(){return this.catalogs.reduce(function(a,b){return a+b.index.length},0)},Object.defineProperty(b.prototype,"length",{get:function(){return this.catalogs.length}}),b}b.exports=c,c.$inject=["iGetVariableHash"]},{}],161:[function(a,b){"use strict";function c(a,b,c,d,e,f,g){function h(a){var b=/\/joins\/.{1,32}\/variables/gi;return a.self&&b.test(a.self)}function i(){var a=this,c=a.subvariables;return"string"==typeof c[0]?d(this).then(function(b){return a.subvariables=c.map(function(c){var d=o.create(b.getVariable(c));return d.parent=a,d}),a.subvariables}):b.when(a.subvariables)}function j(b){var d=void 0,e=this;return e.subvariables.some(function(e){var f=a.isString(e)?e:e.self;return c(f)===c(b)&&(d=e),d}),d}function k(a,b){var c=this;return a.call(c,b).then(function(a){return o.create(a,c.parent)})}function l(){return o.create(this,this.parent)}function m(a){return void 0!==j.call(this,a)}function n(){return this.self}var o,p={fullName:{get:function(){return this._fullName||(this._fullName=f(this))}},url:{get:function(){return this.self}},prunedName:{get:function(){return this._prunedName||(this._prunedName=e(this.name,this.parent))}},subordinate:{get:function(){return h(this)}},level:{get:function(){return g(this)}},categoricalArray:{get:function(){return"categorical_array"===this.type}},hierarchicalType:{value:"variable"}};return o={create:function(b,c){var d=a.clone(b);return d.prototype=b.prototype,Object.defineProperties(d,p),d.map=a.wrap(b.map,k),d.getSubvariables=i,d.toJSON=n,d.subvariables=d.subvariables||[],d.subvariableById=j,d.contains=m,d.clone=l,d.parent=c,d}}}b.exports=c,c.$inject=["lodash","$q","iGetVariableHash","iFetchSubvariables","pruneGroupNameFromVariableName","iGenerateVariableFullName","iCalculateItemLevel"]},{}],162:[function(a,b){"use strict";function c(b){var c=a("angular"),d=a("machina"),e=a("lodash"),f=c.module(b||"machina-angular",[]);return f.factory("machina",function(){return d(e)}),f.provider("scopeable",a("./scopeable")),f.config(["$provide","scopeableProvider",function(a,b){a.decorator("machina",b.$get)}]),f.run(a("./tappable")),f.directive("transition",a("./transition-directive")),f}b.exports=c},{"./scopeable":163,"./tappable":164,"./transition-directive":165,angular:"angular",lodash:76,machina:77}],163:[function(a,b){"use strict";function c(a){function b(a,b){if(!a)throw new Error("scope is required");if(!b)throw new Error("target is required");this.target=b,this.scope=a,this.listeners=[],this._init()}function c(a){if(!a)throw new Error("scope is required");return this.$scopeable=new b(a,this),this}var d=a.Fsm;if(!d)throw new Error("this decorator is intended to extend machina Fsm");return b.prototype._init=function(){this.listeners.forEach(function(a){a()}),this.listeners.length=0,this.listeners.push(this.scope.$on("$destroy",this.$destroy.bind(this))),this.target._$scoped&&this.target._$scoped.apply(this.target,[this.scope])},b.prototype.$destroy=function(){this.target.eventListeners||{};this.scope=void 0,this.listeners.forEach(function(a){a()}),this.target.destroy?this.target.destroy():this.target.off&&this.target.off(),this.destroyed=!0},d.prototype.$scoped=c,a}b.exports={$get:c},c.$inject=["$delegate","$log"]},{}],164:[function(a,b){"use strict";b.exports=["machina","$rootScope","$log",function(a,b,c){function d(a,c){if(c=c||b,!c)throw new Error("scope is required");if(!a)throw new Error("target is required");this.target=a,this.scope=c,this.listeners=[],this._scopeAwareOff=this._scopeAwareOff.bind(this),this.$destroy=this.$destroy.bind(this),this.$tap(this.target.$events),this._off=this.target.off,this.target.off=this._scopeAwareOff.bind(this),this.target._off=this._off}function e(a){a.__tappable=new d(a)}d.prototype._scopeAwareOff=function(){return arguments.length?void this._off.apply(this.target,arguments):(this.$destroy(),this._off.apply(this.target,arguments),this.target)},d.prototype._unsubscribe=function(a){a&&"destroyed"!==a.toState||(c.debug("tappable","unsubscribing all"),this.listeners.forEach(function(a){a()}))},d.prototype.$tap=function(a){if(a=a||[],a&&a.length&&this.target.handle){c.debug("tappable","discovered",this.target.$events);var b=a.map(function(a){return this.scope.$on(a,function(){var b=[].slice.call(arguments);b.unshift(a),c.debug("tappable","handling",a),this.target.handle.apply(this.target,b)}.bind(this))},this);this.listeners=this.listeners.concat(b),this.target.on("destroyed",this.$destroy),this.target.on("transition",this.$destroy)}},d.prototype.$destroy=function(a){this._unsubscribe(a),this.target.off("destroyed",this.$destroy),this.target.off("transition",this.$destroy)},a.on("newfsm",e),b.$on("$destroy",function(){a.off("newfsm",e)})}]},{}],165:[function(a,b){"use strict";function c(a){return{restrict:"A",link:function(b,c,d){function e(){var a=b.$eval(d.transition);if(a){var c=d.transitionWhen;return c&&a.state!==c?!1:a}}function f(a){var c=a.keyCode&&a.which;if(c&&c!==h)return!1;var f=e();f&&b.$apply(function(){var a=d.transitionWith||"cancel";f.handle(a)})}function g(a){return e()?a.stopPropagation():void 0}var h=27,i=a[0],j=c[0];j.addEventListener("click",g),i.addEventListener("click",f),
i.addEventListener("keyup",f),b.$on("$destroy",function(){i.removeEventListener("click",f),i.removeEventListener("keyup",f),j.removeEventListener("click",g)})}}}b.exports=c,c.$inject=["$document"]},{}],166:[function(a,b){b.exports=function(){"use strict";function a(a,b,c){return{init:function(){c.debug("initializing bus and linking bus to rootScope"),a.reset();var d=a.tap(function(a){try{if(a&&a.event)return b.$broadcast(a.event,a)}catch(d){throw c.error("Error $broadcasting event",a,d),d}});return b.$on("$destroy",function(){a.publish("rootScope.destroying"),d()}),a.subscribe("error",function(a){b.$broadcast("error",a)}),a.subscribe("info",function(a){b.$broadcast("info",a)}),b.error=function(a){b.$broadcast("error",a)},a},publish:a.publish,send:a.publish}}return a.$inject=["bus","$rootScope","$log"],a}.call(this)},{}],167:[function(a,b){"use strict";function c(a,b){return{publish:b.publish,reset:b.reset,send:a.send,subscribe:b.subscribe,tap:b.tap}}b.exports=c,c.$inject=["commandBus","eventBus"]},{}],168:[function(a,b){"use strict";function c(a,b,c,d){function e(a){if(!a.command)throw new Error("The `command` property is required when sending a command. Please check your payload.")}function f(d){try{var e=c.get(d.command+"Handler");return a.when(e.apply(this,[d]))}catch(f){if(f.toString().indexOf("[$injector:unpr]")>-1)throw new Error("Command handler for '"+d.command+"' could not be found.");throw b.error(f.toString()),a.reject(f),f}}var g={send:function(b){d.isArray(b)||(b=[b]),d.each(b,e);var c=d.map(b,f);return a.all(c)}};return g}c.$inject=["$q","$log","$injector","lodash"],b.exports={$get:c}},{}],169:[function(a,b){"use strict";function c(a,b){var c="events",d=a.channel(c);return{publish:function(a){if(!a.event)throw new Error("`event` property is required for events.");return b.when(d.publish(a.event,a))},reset:a.utils.reset,subscribe:function(b,d){return a.subscribe({channel:c,topic:b,callback:d})},tap:function(b){return a.addWireTap(b)}}}b.exports=c,c.$inject=["postal","$q"]},{}],170:[function(a,b){"use strict";function c(b){var c=a("angular"),d=a("lodash"),e=c.module(b||"messaging",[]),f=a("postal");return e.factory("lodash",function(){return d}),e.factory("postal",["lodash",function(a){return a.isFunction(f)?f(a):f}]),e.factory("eventBus",a("./event-bus")),e.provider("commandBus",a("./command-bus")),e.factory("bus",a("./bus")),e.factory("busAngularMediator",a("./bus-angular-mediator")),e.run(["busAngularMediator",function(a){a.init()}]),e}b.exports=c},{"./bus":167,"./bus-angular-mediator":166,"./command-bus":168,"./event-bus":169,angular:"angular",lodash:76,postal:104}],171:[function(a,b){"use strict";function c(a){return{current:function(){var b=a.current().then(function(a){return a.urls.account.map()});return b}}}b.exports=c,c.$inject=["iResourceUser"]},{}],172:[function(a,b){"use strict";function c(a){function b(b){return a(b).map()}return function(a){if(a&&"string"==typeof a.batchId)return b(a.batchId);throw new Error("You should provide a batchId")}}b.exports=c,c.$inject=["Shoji"]},{}],173:[function(a,b){"use strict";function c(a){return function(b){return a({datasetId:b.datasetId}).then(function(a){return a.urls.batches.map({cache:!1})})}}b.exports=c,c.$inject=["iResourceDataset"]},{}],174:[function(a,b){"use strict";function c(a,b,c){function d(a){if(!a||!a.datasetId)throw new Error("Provide a valid datasetId")}function e(a){var e={};return d(a),a.noCache&&(e.headers={"Cache-Control":"no-cache",Expires:0}),c.debug("iResourceDataset","fetching",a),b(a.datasetId).map(e).then(function(a){return a})}return e}b.exports=c,c.$inject=["iResourceDatasets","Shoji","$log"]},{}],175:[function(a,b){"use strict";function c(a){function b(b){var c;return b&&b.datasetId&&("/"===b.datasetId[0]||b.datasetId.indexOf("http")>-1)?a.current().then(function(a){return a.urls.datasets.map()}).then(function(a){var d;return c=a.self,d=a.index.tuple(b.datasetId),d.catalog=c,d}):a.current().then(function(a){return a.urls.datasets.map()})}return b}b.exports=c,c.$inject=["iResourceUser"]},{}],176:[function(a,b){"use strict";function c(a){function b(b){return a(b).map()}return function(a){if(a&&"string"==typeof a.sourceId)return b(a.sourceId);throw new Error("You should provide a sourceId")}}b.exports=c,c.$inject=["Shoji"]},{}],177:[function(a,b){"use strict";function c(a){return{current:function(){return a.API.map(function(a){return a.urls.user.map()})}}}b.exports=c,c.$inject=["Shoji"]},{}],178:[function(a,b){"use strict";function c(a){function b(a){if(!a)return void 0;if(!a.userId)throw new Error("userId is required for iResourceUsers");return{userid:a.userId}}function c(c){return c=b(c),a.current().then(function(a){return a.urls.users.map({cache:!1,params:c})})}return c}b.exports=c,c.$inject=["iResourceAccount"]},{}],179:[function(a,b){b.exports=function(){"use strict";function a(a,b,c){function d(a){return a&&"/"===a[0]||a.indexOf("http")>-1}function e(a){if(!a||!a.variableId)throw new Error("iResourceVariable requires `variableId` parameter");return a}return function(f){return f.variableId&&d(f.variableId)?c(f.variableId).map():(f=e(f),b.debug("iResourceVariable","fetching",f),a(f).then(function(a){return a.index.first().map()}))}}return a.$inject=["iResourceVariables","$log","Shoji"],a}.call(this)},{}],180:[function(a,b){b.exports=function(){"use strict";function a(a){function b(a){if(a&&(a.variableAlias||a.variableId)){var b={};if(a.variableAlias&&(b.alias=a.variableAlias),a.variableId){var c=a.variableId;"/"===c[c.length-1]&&(c=c.substring(c,c.length-1)),b.id=c}return b}return void 0}return function(c){var d=b(c);return a(c).then(function(a){return a.urls.variables.map({params:d})})}}return a.$inject=["iResourceDataset"],a}.call(this)},{}],181:[function(a,b){"use strict";function c(b,c){var d=a("angular"),e=a("lodash"),f={cacheable:!1};c=e.extend({},f,c);var g=d.module(b||"resources",[]);return g.factory("iResourceUser",a("./i-resource-user")),g.factory("iResourceUsers",a("./i-resource-users")),g.factory("iResourceAccount",a("./i-resource-account")),g.factory("iResourceDatasets",a("./i-resource-datasets")),g.factory("iResourceDataset",a("./i-resource-dataset")),g.factory("iResourceVariables",a("./i-resource-variables")),g.factory("iResourceVariable",a("./i-resource-variable")),g.factory("iResourceBatches",a("./i-resource-batches")),g.factory("iResourceBatch",a("./i-resource-batch")),g.factory("iResourceSource",a("./i-resource-source")),g}b.exports=c},{"./i-resource-account":171,"./i-resource-batch":172,"./i-resource-batches":173,"./i-resource-dataset":174,"./i-resource-datasets":175,"./i-resource-source":176,"./i-resource-user":177,"./i-resource-users":178,"./i-resource-variable":179,"./i-resource-variables":180,angular:"angular",lodash:76}],182:[function(a,b){"use strict";b.exports=function(b,c){var d=a("angular"),e=a("lodash");b=b||"shoji";var f={offline:!1};c=e.extend({},f,c);var g=d.module(b,[]);return g.constant("SHOJI_CFG",c),g.factory("lodash",function(){return e}),g.factory("url",function(){return a("url")}),g.provider("shojiDataStrategy",a("./shoji-http-data-strategy")),g.factory("Shoji",a("./shoji-resource-factory")),g.factory("shojiParser",a("./shoji-parser")),g.factory("shojiSerializer",a("./shoji-serializer")),g.factory("ShojiCollection",a("./shoji-collection-factory")),g.factory("ShojiCatalogIndex",a("./shoji-catalog-index")),g.factory("ShojiTuple",a("./shoji-tuple")),g}},{"./shoji-catalog-index":183,"./shoji-collection-factory":184,"./shoji-http-data-strategy":185,"./shoji-parser":186,"./shoji-resource-factory":187,"./shoji-serializer":188,"./shoji-tuple":189,angular:"angular",lodash:76,url:10}],183:[function(a,b){"use strict";function c(a,b,c){function d(a,b){if(!a)throw new Error(b)}function e(){Object.defineProperty(this,"keys",{writable:!0,configurable:!1,enumerable:!1,value:[]}),Object.defineProperty(this,"length",{writable:!0,configurable:!1,enumerable:!1,value:0}),this.tuple=this.tuple.bind(this)}return e.create=function(a,b){d(a,"context is required"),d(a.chain,"context must expose a `chain` method");var c=new e;return b=b||{},Object.keys(b).forEach(function(d){c.tuple(d,b[d],a)}),c},e.prototype.mapResources=function(){var a=this.keys.map(function(a){return this.tuple(a).map()},this);return c.all(a)},e.prototype.first=function(){if(this.keys.length>1)throw new Error("you cannot meaningfully call `first` on an index with more than one tuple");return this.tuple(this.keys[0])},e.prototype.tuple=function(a,c,d){return c||d?(this.keys.push(a),this.length=this.keys.length,this[a]=b.create(d,a,c),this[a]):this[a]},e.prototype.forEach=function(a,b){this.keys.forEach(function(c){var d=this.tuple(c);a.apply(b||this,[d,c])},this)},e.prototype.toObject=function(){var a={};return this.keys.forEach(function(b){a[b]=this.tuple(b).memento,a[b].self=b},this),a},e}b.exports=c,c.$inject=["lodash","ShojiTuple","$q"]},{}],184:[function(a,b){"use strict";function c(a,b,c){function d(){}function e(a){return b.isString(a)?a.replace("_url",""):a}function f(){Object.defineProperty(this,"_collection",{value:{},writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(this,"clientId",{value:b.uniqueId("shoji_"),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"keys",{value:[],writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(this,"length",{value:0,writable:!0,enumerable:!1,configurable:!1})}return c=c||console,f.parse=function(a,c){var d=new f;return b.each(c||[],function(b,c){return d.add(c,a.chain(b))},d),d},f.collect=function(a){var c=new f;return b.each(a||[],function(a,b){return c.add(b,a)},c),c},f.prototype.add=function(a,c){var d=e(a);return this.keys.push(d),Object.defineProperty(this,d,{value:c,writable:!1,enumerable:!0,configurable:!0}),this._collection[a]=c,this.length=b.size(this._collection),c},f.prototype.accept=function(a){this.forEach(function(b){b.accept(a)})},f.prototype.clear=function(){b.each(this.keys,function(a){delete this[a]},this)},f.prototype.equals=function(a){return a.clientId&&a.clientId===this.clientId},f.prototype.reduce=function(a,c,d){return a=a||b.identity,c=c||[],d=d||this,b.reduce(this._collection,a,c,d)},f.prototype.filter=function(a){a=a||b.identity;var c=new f;return this.forEach(function(b,d){a(b)&&c.add(d,b)}),c},f.prototype.forEach=function(a,c){return a=a||d,c=c||this,b.each(this.keys,function(b){return a.apply(c,[this[b],b])},this)},f.prototype.map=function(c,d){var f=this;c=c||b.identity,d=d||this;var g=b.map(this._collection,function(a,b){return a.map().then(function(a){var g=c.apply(d,[a]);return Object.defineProperty(f,e(b),{value:g,writable:!1,enumerable:!0,configurable:!1}),f._collection[b]=g,g})},this);return a.all(g).then(function(){return f})},f.prototype.toArray=function(){return b.toArray(this._collection)},f.prototype.reject=function(a){a=a||b.identity;var c=new f;return this.forEach(function(b,d){a(b)||c.add(d,b)}),c},f.prototype.toString=function(){return"ShojiCollection "+this.clientId+" ; Length: "+this.length+" ; Keys: "+this.keys},f}b.exports=c,c.$inject=["$q","lodash","$log"]},{}],185:[function(a,b){"use strict";function c(a,b,c,d){function e(){}function f(a){return b.reject(a)}function g(a){return a}function h(b,h){function i(){function a(){return function(a){var b=a.headers("ALLOW")||"";return n(b),a}}function b(){return function(a){if(!a||!a.config||!a.config.method)return a;var b=a.config.method;return"DELETE"===b&&l(),a}}var c=[];return c.push(a()),c.push(b()),c}function j(){var b={},c={sync:!0};return a.each(q,function(a){var b=new o({method:a});b.responseFilters(i(c)),this[a]=b},b),b}function k(b){return b=b||{},p=p||j(),a.each(q,function(a){var b=this;this[a.toLowerCase()]=function(){var c=p[a].execute;return c.apply(b,arguments)}},b),b}function l(){return a.each(q,function(a){this[a].markDeleted()},p),p}function m(a){var b;if(a)return b=a.headers=a.headers||{},b["Cache-Control"]="no-cache",a}function n(b){var c=p;b=b||"";var d=a(b.split(",")).map(function(a){return a.replace(/\s/g,"")});return a.each(q,function(a){~d.indexOf(a)||"GET"===a?this[a].allow():this[a].restrict()},c),c}function o(c){function h(b,c){return c=c||[],a.each(c,function(c){var d,e;a.isFunction(c)?(d=f,e=c):a.isObject(c)&&c.error&&(d=c.error||f,e=c.success||g),b=b.then(e,d)}),b}function i(){return!r&&"GET"===j}var j=c.method,k=[],l=e;if(!j)throw new Error("method is required");this.allow=function(){this.validate=l=function(a){if(!a.url)throw new Error("url is required");if("post"===a.method.toLowerCase()||"put"===a.method.toLowerCase()||"patch"===a.method.toLowerCase()){if(a.data)return;d.warn("attempting to "+a.method+" to url "+a.url+" has no `data` attribute.This seems odd.")}}},this.markDeleted=function(){this.validate=l=function(){throw new Error("Resource at "+b+" has been DELETED")}},this.restrict=function(){this.validate=l=function(){if(!i()){var a=new Error("Method '"+j+"' not permitted on \""+b+'" The resource may not have been synced to the server; or, the allow header has indicated it is prohibited.');throw a}}},this.responseFilters=function(b){return a.isUndefined(b)?k:(k=b||[],this)},this.execute=function(c,e,i){d.debug("shoji-http-data-strategy executing request number "+r+" on "+b+" with method "+j),a.isFunction(c)&&(i=e,e=c,c={}),c=c||{},c.url=b,c.noCache&&(c=m(c)),e=e||g,i=i||f,c.method=j,l(c);var n=s.makeRequest(c);r++;var o=k.concat(c.responseFilters||[]);return n=h(n,o),n.then(e,i)},this.restrict()}var p,q=["DELETE","GET","POST","PUT","PATCH"],r=0,h=h||c,s=this;if(!b)throw new Error("url is required for data strategy");this.allowAll=function(){return n(q.join(", "))},this.initialize=function(b){var c=[],d={responseFilters:[]};b=a.extend(d,b);var c=i(b).concat(b.responseFilters||[]);return a.each(p,function(a){a.responseFilters(c)}),this},this.makeRequest=function(a){return h(a)},this.restrictAll=function(){return n()},k(this)}return h}b.exports={$get:c,mount:c.mount},c.$inject=["lodash","$q","$http","$log","SHOJI_CFG"],c.mount=function(){throw new Error("not supported for http strategy")}},{}],186:[function(a,b){"use strict";function c(a,b,c){function d(a){Object.defineProperty(a,"entities",{configurable:!0,enumerable:!1,get:function(){var b='DEPRECATED: `entities` is no longer supported. You need to use `index` instead. \nYou received this error because you attempted to access `entities` on a shoji resource at :\n"'+a.self+'"';throw new Error(b)}})}function e(){var e=this,f=a.extend;this.isShoji=function(a){a=a||{};var b=["shoji:entity","shoji:catalog","shoji:value","shoji:view","shoji:order"],c=!!(a.element&&b.indexOf(a.element)>-1)&&!!a.self;return c},this.validate=function(b){b=b||{};var c=b.element;if(e.isShoji(b))switch(c){case"shoji:catalog":if(!a.isUndefined(b.entities)&&!a.isArray(b.entities))throw new Error("catalog entities must be an Array");if(!a.isUndefined(b.index)&&!a.isObject(b.index))throw new Error("catalog index must be an Object");break;case"shoji:entity":if(!a.isUndefined(b.urls)&&!a.isObject(b.urls))throw new Error("entity urls must be an Object");break;case"shoji:view":if(!b.hasOwnProperty("value"))throw new Error("shoji:view expects an `value` property")}return b},this.parse=function(a,g){var h=g||{};switch(a=e.validate(a),h.self=a.self||h.self,h.element=e.isShoji(a)?a.element:"shoji:value",h.specification=a.specification?h.chain(a.specification):null,h.element){case"shoji:catalog":d(h),h.index=c.create(h,a.index),h.views=b.parse(h,a.views),h.urls=b.parse(h,a.urls),h.orders=b.parse(h,a.orders),h.catalogs=b.parse(h,a.catalogs);break;case"shoji:entity":f(h,a.body||{});var i=b.parse(h,a.urls);h.urls=i,h.fragments=b.parse(h,a.fragments),h.views=b.parse(h,a.views),h.catalogs=b.parse(h,a.catalogs);break;case"shoji:view":h.value=a.value;break;case"shoji:value":h.value=a;break;case"shoji:order":h.graph=a.graph;break;default:throw new Error("unknown element type "+h.element)}return h}}return(new e).parse}b.exports=c,c.$inject=["lodash","ShojiCollection","ShojiCatalogIndex","$log"]},{}],187:[function(a,b){"use strict";function c(a,b,c,d,e,f){function g(c,d){var e=c;return function(c){var g=c.config||{};if(!b.isUndefined(g.sync)&&!g.sync||!d.sync)return c;var h=g.method;if("POST"===h&&c.headers&&c.headers("Location")){var i=c.headers("Location");return a.when(e.chain(i))}return"PUT"===h||"PATCH"===h?(f.debug("shoji-resource-factory syncing to server",e.self),e.get()):c}}function h(a){function c(a){return a instanceof i||a.self?a:d}var d=a,e=[];return d.sync&&e.push(b.bind(d.sync,d)),e.push(g(a,{sync:!!d.sync})),e.push(b.bind(c,d)),e}function i(a){if(!(this instanceof i))return new i;this.self=a,this.clientId=b.uniqueId("shoji_"),this.reset=k,this.timestamp=new Date,this.syncedOn=!1,this.element="unknown",this.specification=null;var d=h(this);this.dataStrategy=new c(this.self),this.dataStrategy.initialize({sync:!0,responseFilters:d}),this.get=this.dataStrategy.get,this.save=this.dataStrategy.post,this.update=this.dataStrategy.put,this.patch=this.dataStrategy.patch,this["delete"]=this.dataStrategy["delete"]}function j(a){var b;if(!a)throw new Error("url is required for a resource");return b=new i(a),b.allowAll(),b}var k=angular.noop,l=function(b){return a.reject(b)},m=function(a){return a};return i.prototype.accept=function(a){a.visitResource(this)},i.prototype.chain=function(a){var b=new i(a);if(!a)throw new Error("url cannot be empty");return b=new i(a),b.allowAll(),b},i.prototype.allowAll=function(){this.dataStrategy.allowAll()},i.prototype.attach=function(a,b,c){var d=this;if(b=b||a,c=c||{},!this.urls||!this.urls[a])throw new Error("Path `"+a+"` not found from `"+this.self+"`");if(this[b])throw new Error("Property `"+b+"` is already attached to `"+this.self+"`.");return this.urls[a].map(c,function(a){return d[b]=a,d})},i.prototype.collect=j.collect,i.prototype.reduce=function(c,d,e){function g(a){return a}var h=this;b.isArray(d)?(e=d,d=c,c={}):b.isArray(c)&&(e=c,d=h,c={}),e=e||[g];var i=a.defer();e=b.map(e,function(a){return b.partial(b.bind(a,d),d)});try{var j=a.when(e[0](h));b.each(b.rest(e),function(a){j=j.then(a)}),j.then(i.resolve,i.reject)}catch(k){f.error(k),a.reject(k).then(i.resolve,i.reject)}return i.promise},i.prototype.map=function(c,d,e){function g(a){try{var b=a.urls||a.index;if(!b||!b.disableLoad)return;return b.disableLoad()}catch(c){throw f.error(c),c}}var h=this;b.isFunction(c)&&(e=d,d=c,c={}),c=c||{},d=d||m,e=e||l;var i=a.defer(),j=i.resolve;i.resolve=function(a){return j.apply(h,[a])};try{h.get(c).then(function(c){try{g(c);var e=d(c);if(b.isUndefined(e)){var h="`Resource.map` must return a value from all nested promises.\nThis function is failing to do so: "+d.toString();throw new Error(h)}return e&&e.then?e.then(i.resolve,i.reject):a.when(e).then(i.resolve,i.reject)}catch(j){return f.error(j),a.reject(j).then(i.resolve,i.reject)}},function(b){return a.reject(b).then(i.resolve,i.reject)})}catch(k){a.reject(k).then(i.resolve,i.reject)}return i.promise},i.prototype.parse=function(a){return this.reset(),d(a,this),this.setupNextReset({data:a}),this._memento=a,this},i.prototype.setupNextReset=function(a){var b=this;return this.reset=function(){var c=a.data,d=c.body||{};switch(delete b.specification,b.element){case"shoji:entity":for(var e in d)delete b[e];delete b.urls;break;case"shoji:catalog":delete b.index,delete b.views;break;case"shoji:value":delete b.value;break;case"shoji:view":delete b.value}return b},b},i.prototype.getMemento=function(){return this._memento},i.prototype.sync=function(a){var b=this;return a&&a.config&&"GET"===a.config.method.toUpperCase()&&(this.syncedOn=new Date,b.parse(a.data,b)),a},j.collect=function(a){var c=b.map(a,function(a){return j(a.self).parse(a)});return e.collect(c)},j}b.exports=c,c.$inject=["$q","lodash","shojiDataStrategy","shojiParser","ShojiCollection","$log"]},{}],188:[function(a,b){b.exports=function(){"use strict";function a(a,b){return{serialize:function(a){var b=a.getMemento();return b.__serializer=a.__serializer,JSON.stringify(b)},deserialize:function(a){var c=JSON.parse(a);return b(c.self).parse(c)}}}return a.$inject=["shojiParser","Shoji"],a}.call(this)},{}],189:[function(a,b){"use strict";function c(a){function b(a,b){var c=d.cloneDeep(a);return d.extend(b,c),b}function c(a,c){this.target=a,this.self=a.self,this.clientId=d.uniqueId("shoji_"),this.memento=c||{},b(c,this)}return c.create=function(b,d,e){if(!b.chain)throw new Error("context expects a `chain` method for traversal ops");var f=a.resolve(b.self,d),g=b.chain(f);return new c(g,e)},c.prototype.map=function(){var a=[].slice.call(arguments),b=this.target;b.self=this.self;var c=b.map.apply(b,a);return c},c}var d=a("lodash");b.exports=c,c.$inject=["url"]},{lodash:76}],190:[function(a,b){"use strict";function c(b){var c=a("angular"),d=c.module(b||"start-from",[]);return d.filter("startFrom",a("./start-from-filter")),d}b.exports=c},{"./start-from-filter":191,angular:"angular"}],191:[function(a,b){"use strict";function c(){return function(a,b){return a=a||[],b=b||0,a.slice(b)}}b.exports=c,c.$inject=[]},{}],192:[function(a,b){"use strict";function c(b){var c=a("angular"),d=c.module(b||"traversable",[]);return d.factory("Traversable",a("./traversable")),d}b.exports=c},{"./traversable":193,angular:"angular"}],193:[function(a,b){"use strict";function c(){function a(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function b(a){if(a=a||{},!a.pageLength)throw new Error("page length is required. use `1` to apply one-at-a time.");this._cfg=a,this.incrementable=!1,this.decrementable=!1,this.max=a.max||0,this.pageLength=a.pageLength,this.page=0,this.pages=0,this.startFrom=0,this.pctOverlap=1===this.pageLength?1:a.pctOverlap||.5}return b.prototype._updateTraversal=function(){this.decrementable=this.page>0,this.incrementable=this.pages>1&&this.page<this.pages-1,this.startFrom=this.page*Math.floor(this.pageLength*this.pctOverlap)},b.prototype._calcPages=function(a,b,c){var d=Math.floor(b*c),e=Math.ceil(a/d);return e},b.prototype.inc=function(){this.page!==this.pages-1&&(this.page=this.page+1,this._updateTraversal())},b.prototype.dec=function(){this.page<1||(this.page=this.page-1,this._updateTraversal())},b.prototype.openAt=function(a){a=parseInt(a,10),(a>this.pages||0>a)&&(a=0),this.page=a,this._updateTraversal()},b.prototype.itemCountAt=function(a){return a=parseInt(a,10)||0,a===this.pages-1?this.max-a*this.pageLength:Math.min(this.pageLength,this.max)},b.prototype.interpret=function(a,b){var c=a[b];if(!c)throw new Error("property "+b+" not found on traversable");return this.max=this.max||c.length,this.single=1===c.length,this.pages=this._calcPages(this.max,this.pageLength,this.pctOverlap),this.page=0,this._updateTraversal(),this},b.prototype.retraversable=function(){var a=[].slice.call(arguments);this.max=this._cfg.max||0;var c={page:this.page,startFrom:this.startFrom};return b.prototype.interpret.apply(this,a),this.pages-1>=c.page&&(this.page=c.page,this.startFrom=c.startFrom,this._updateTraversal()),this},b.prototype.augment=function(c){var d=[].slice.call(arguments),e=b.prototype.interpret.apply(this,d);for(var f in e){var g=e[f],h=a(e[f]);h&&(g=g.bind(c)),Object.defineProperty(c,f,{value:g,writable:!0,configurable:!1,enumerable:!0})}return c},b}b.exports=c,c.$inject=[]},{}],"angular-mocks":[function(a,b){"use strict";if(!window.angular)throw new Error("angular not found on the `window` object. Is it included on the page?");a("angular"),b.exports=window.angular.mocks},{angular:"angular"}],angular:[function(a,b){"use strict";if(!window.angular)throw new Error("angular not found on the `window` object. Is it included on the page?");b.exports=window.angular},{}]},{},[1]);
//# sourceMappingURL=crunch.js.map